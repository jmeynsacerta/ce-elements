(self.webpackJsonpCeCalendar=self.webpackJsonpCeCalendar||[]).push([[104],{2586:(Ee,g)=>{"use strict";g.Z={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Pr\xe9c\xe9dent",next:"Suivant",today:"Aujourd'hui",year:"Ann\xe9e",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",allDayText:"Toute la journ\xe9e",moreLinkText:"en plus",noEventsText:"Aucun \xe9v\xe9nement \xe0 afficher"}},7168:(Ee,g)=>{"use strict";g.Z={code:"nl",week:{dow:1,doy:4},buttonText:{prev:"Vorige",next:"Volgende",today:"Vandaag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Hele dag",moreLinkText:"extra",noEventsText:"Geen evenementen om te laten zien"}},6434:(Ee,g)=>{"use strict";g.byteLength=function R(M){var P=B(M),U=P[1];return 3*(P[0]+U)/4-U},g.toByteArray=function V(M){var P,N,C=B(M),U=C[0],L=C[1],K=new _(function z(M,P,C){return 3*(P+C)/4-C}(0,U,L)),J=0,ae=L>0?U-4:U;for(N=0;N<ae;N+=4)P=b[M.charCodeAt(N)]<<18|b[M.charCodeAt(N+1)]<<12|b[M.charCodeAt(N+2)]<<6|b[M.charCodeAt(N+3)],K[J++]=P>>16&255,K[J++]=P>>8&255,K[J++]=255&P;return 2===L&&(P=b[M.charCodeAt(N)]<<2|b[M.charCodeAt(N+1)]>>4,K[J++]=255&P),1===L&&(P=b[M.charCodeAt(N)]<<10|b[M.charCodeAt(N+1)]<<4|b[M.charCodeAt(N+2)]>>2,K[J++]=P>>8&255,K[J++]=255&P),K},g.fromByteArray=function x(M){for(var P,C=M.length,U=C%3,L=[],K=16383,J=0,ae=C-U;J<ae;J+=K)L.push(X(M,J,J+K>ae?ae:J+K));return 1===U?L.push(w[(P=M[C-1])>>2]+w[P<<4&63]+"=="):2===U&&L.push(w[(P=(M[C-2]<<8)+M[C-1])>>10]+w[P>>4&63]+w[P<<2&63]+"="),L.join("")};for(var w=[],b=[],_="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,Y=c.length;k<Y;++k)w[k]=c[k],b[c.charCodeAt(k)]=k;function B(M){var P=M.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=M.indexOf("=");return-1===C&&(C=P),[C,C===P?0:4-C%4]}function q(M){return w[M>>18&63]+w[M>>12&63]+w[M>>6&63]+w[63&M]}function X(M,P,C){for(var L=[],K=P;K<C;K+=3)L.push(q((M[K]<<16&16711680)+(M[K+1]<<8&65280)+(255&M[K+2])));return L.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},3875:(Ee,g,w)=>{"use strict";const b=w(6434),_=w(2658),c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;g.Buffer=R,g.SlowBuffer=function K(m){return+m!=m&&(m=0),R.alloc(+m)},g.INSPECT_MAX_BYTES=50;const k=2147483647;function B(m){if(m>k)throw new RangeError('The value "'+m+'" is invalid for option "size"');const d=new Uint8Array(m);return Object.setPrototypeOf(d,R.prototype),d}function R(m,d,s){if("number"==typeof m){if("string"==typeof d)throw new TypeError('The "string" argument must be of type string. Received type number');return X(m)}return z(m,d,s)}function z(m,d,s){if("string"==typeof m)return function x(m,d){if(("string"!=typeof d||""===d)&&(d="utf8"),!R.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const s=0|J(m,d);let v=B(s);const y=v.write(m,d);return y!==s&&(v=v.slice(0,y)),v}(m,d);if(ArrayBuffer.isView(m))return function P(m){if(je(m,Uint8Array)){const d=new Uint8Array(m);return C(d.buffer,d.byteOffset,d.byteLength)}return M(m)}(m);if(null==m)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(je(m,ArrayBuffer)||m&&je(m.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(je(m,SharedArrayBuffer)||m&&je(m.buffer,SharedArrayBuffer)))return C(m,d,s);if("number"==typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');const v=m.valueOf&&m.valueOf();if(null!=v&&v!==m)return R.from(v,d,s);const y=function U(m){if(R.isBuffer(m)){const d=0|L(m.length),s=B(d);return 0===s.length||m.copy(s,0,0,d),s}return void 0!==m.length?"number"!=typeof m.length||qt(m.length)?B(0):M(m):"Buffer"===m.type&&Array.isArray(m.data)?M(m.data):void 0}(m);if(y)return y;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof m[Symbol.toPrimitive])return R.from(m[Symbol.toPrimitive]("string"),d,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}function V(m){if("number"!=typeof m)throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function X(m){return V(m),B(m<0?0:0|L(m))}function M(m){const d=m.length<0?0:0|L(m.length),s=B(d);for(let v=0;v<d;v+=1)s[v]=255&m[v];return s}function C(m,d,s){if(d<0||m.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<d+(s||0))throw new RangeError('"length" is outside of buffer bounds');let v;return v=void 0===d&&void 0===s?new Uint8Array(m):void 0===s?new Uint8Array(m,d):new Uint8Array(m,d,s),Object.setPrototypeOf(v,R.prototype),v}function L(m){if(m>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return 0|m}function J(m,d){if(R.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||je(m,ArrayBuffer))return m.byteLength;if("string"!=typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const s=m.length,v=arguments.length>2&&!0===arguments[2];if(!v&&0===s)return 0;let y=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return qe(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*s;case"hex":return s>>>1;case"base64":return ln(m).length;default:if(y)return v?-1:qe(m).length;d=(""+d).toLowerCase(),y=!0}}function ae(m,d,s){let v=!1;if((void 0===d||d<0)&&(d=0),d>this.length||((void 0===s||s>this.length)&&(s=this.length),s<=0)||(s>>>=0)<=(d>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return pt(this,d,s);case"utf8":case"utf-8":return Ie(this,d,s);case"ascii":return yt(this,d,s);case"latin1":case"binary":return Le(this,d,s);case"base64":return ge(this,d,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,d,s);default:if(v)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),v=!0}}function N(m,d,s){const v=m[d];m[d]=m[s],m[s]=v}function h(m,d,s,v,y){if(0===m.length)return-1;if("string"==typeof s?(v=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),qt(s=+s)&&(s=y?0:m.length-1),s<0&&(s=m.length+s),s>=m.length){if(y)return-1;s=m.length-1}else if(s<0){if(!y)return-1;s=0}if("string"==typeof d&&(d=R.from(d,v)),R.isBuffer(d))return 0===d.length?-1:H(m,d,s,v,y);if("number"==typeof d)return d&=255,"function"==typeof Uint8Array.prototype.indexOf?y?Uint8Array.prototype.indexOf.call(m,d,s):Uint8Array.prototype.lastIndexOf.call(m,d,s):H(m,[d],s,v,y);throw new TypeError("val must be string, number or Buffer")}function H(m,d,s,v,y){let ce,S=1,O=m.length,Q=d.length;if(void 0!==v&&("ucs2"===(v=String(v).toLowerCase())||"ucs-2"===v||"utf16le"===v||"utf-16le"===v)){if(m.length<2||d.length<2)return-1;S=2,O/=2,Q/=2,s/=2}function se(ve,Se){return 1===S?ve[Se]:ve.readUInt16BE(Se*S)}if(y){let ve=-1;for(ce=s;ce<O;ce++)if(se(m,ce)===se(d,-1===ve?0:ce-ve)){if(-1===ve&&(ve=ce),ce-ve+1===Q)return ve*S}else-1!==ve&&(ce-=ce-ve),ve=-1}else for(s+Q>O&&(s=O-Q),ce=s;ce>=0;ce--){let ve=!0;for(let Se=0;Se<Q;Se++)if(se(m,ce+Se)!==se(d,Se)){ve=!1;break}if(ve)return ce}return-1}function I(m,d,s,v){s=Number(s)||0;const y=m.length-s;v?(v=Number(v))>y&&(v=y):v=y;const S=d.length;let O;for(v>S/2&&(v=S/2),O=0;O<v;++O){const Q=parseInt(d.substr(2*O,2),16);if(qt(Q))return O;m[s+O]=Q}return O}function $(m,d,s,v){return St(qe(d,m.length-s),m,s,v)}function te(m,d,s,v){return St(function Ue(m){const d=[];for(let s=0;s<m.length;++s)d.push(255&m.charCodeAt(s));return d}(d),m,s,v)}function oe(m,d,s,v){return St(ln(d),m,s,v)}function de(m,d,s,v){return St(function Nt(m,d){let s,v,y;const S=[];for(let O=0;O<m.length&&!((d-=2)<0);++O)s=m.charCodeAt(O),v=s>>8,y=s%256,S.push(y),S.push(v);return S}(d,m.length-s),m,s,v)}function ge(m,d,s){return b.fromByteArray(0===d&&s===m.length?m:m.slice(d,s))}function Ie(m,d,s){s=Math.min(m.length,s);const v=[];let y=d;for(;y<s;){const S=m[y];let O=null,Q=S>239?4:S>223?3:S>191?2:1;if(y+Q<=s){let se,ce,ve,Se;switch(Q){case 1:S<128&&(O=S);break;case 2:se=m[y+1],128==(192&se)&&(Se=(31&S)<<6|63&se,Se>127&&(O=Se));break;case 3:se=m[y+1],ce=m[y+2],128==(192&se)&&128==(192&ce)&&(Se=(15&S)<<12|(63&se)<<6|63&ce,Se>2047&&(Se<55296||Se>57343)&&(O=Se));break;case 4:se=m[y+1],ce=m[y+2],ve=m[y+3],128==(192&se)&&128==(192&ce)&&128==(192&ve)&&(Se=(15&S)<<18|(63&se)<<12|(63&ce)<<6|63&ve,Se>65535&&Se<1114112&&(O=Se))}}null===O?(O=65533,Q=1):O>65535&&(O-=65536,v.push(O>>>10&1023|55296),O=56320|1023&O),v.push(O),y+=Q}return function Ce(m){const d=m.length;if(d<=4096)return String.fromCharCode.apply(String,m);let s="",v=0;for(;v<d;)s+=String.fromCharCode.apply(String,m.slice(v,v+=4096));return s}(v)}function yt(m,d,s){let v="";s=Math.min(m.length,s);for(let y=d;y<s;++y)v+=String.fromCharCode(127&m[y]);return v}function Le(m,d,s){let v="";s=Math.min(m.length,s);for(let y=d;y<s;++y)v+=String.fromCharCode(m[y]);return v}function pt(m,d,s){const v=m.length;(!d||d<0)&&(d=0),(!s||s<0||s>v)&&(s=v);let y="";for(let S=d;S<s;++S)y+=it[m[S]];return y}function Re(m,d,s){const v=m.slice(d,s);let y="";for(let S=0;S<v.length-1;S+=2)y+=String.fromCharCode(v[S]+256*v[S+1]);return y}function re(m,d,s){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+d>s)throw new RangeError("Trying to access beyond buffer length")}function pe(m,d,s,v,y,S){if(!R.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>y||d<S)throw new RangeError('"value" argument is out of bounds');if(s+v>m.length)throw new RangeError("Index out of range")}function me(m,d,s,v,y){At(d,v,y,m,s,7);let S=Number(d&BigInt(4294967295));m[s++]=S,S>>=8,m[s++]=S,S>>=8,m[s++]=S,S>>=8,m[s++]=S;let O=Number(d>>BigInt(32)&BigInt(4294967295));return m[s++]=O,O>>=8,m[s++]=O,O>>=8,m[s++]=O,O>>=8,m[s++]=O,s}function Ae(m,d,s,v,y){At(d,v,y,m,s,7);let S=Number(d&BigInt(4294967295));m[s+7]=S,S>>=8,m[s+6]=S,S>>=8,m[s+5]=S,S>>=8,m[s+4]=S;let O=Number(d>>BigInt(32)&BigInt(4294967295));return m[s+3]=O,O>>=8,m[s+2]=O,O>>=8,m[s+1]=O,O>>=8,m[s]=O,s+8}function ke(m,d,s,v,y,S){if(s+v>m.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function bt(m,d,s,v,y){return d=+d,s>>>=0,y||ke(m,0,s,4),_.write(m,d,s,v,23,4),s+4}function nt(m,d,s,v,y){return d=+d,s>>>=0,y||ke(m,0,s,8),_.write(m,d,s,v,52,8),s+8}g.kMaxLength=k,!(R.TYPED_ARRAY_SUPPORT=function Y(){try{const m=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(m,d),42===m.foo()}catch(m){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(m,d,s){return z(m,d,s)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(m,d,s){return function q(m,d,s){return V(m),m<=0?B(m):void 0!==d?"string"==typeof s?B(m).fill(d,s):B(m).fill(d):B(m)}(m,d,s)},R.allocUnsafe=function(m){return X(m)},R.allocUnsafeSlow=function(m){return X(m)},R.isBuffer=function(d){return null!=d&&!0===d._isBuffer&&d!==R.prototype},R.compare=function(d,s){if(je(d,Uint8Array)&&(d=R.from(d,d.offset,d.byteLength)),je(s,Uint8Array)&&(s=R.from(s,s.offset,s.byteLength)),!R.isBuffer(d)||!R.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===s)return 0;let v=d.length,y=s.length;for(let S=0,O=Math.min(v,y);S<O;++S)if(d[S]!==s[S]){v=d[S],y=s[S];break}return v<y?-1:y<v?1:0},R.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(d,s){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(0===d.length)return R.alloc(0);let v;if(void 0===s)for(s=0,v=0;v<d.length;++v)s+=d[v].length;const y=R.allocUnsafe(s);let S=0;for(v=0;v<d.length;++v){let O=d[v];if(je(O,Uint8Array))S+O.length>y.length?(R.isBuffer(O)||(O=R.from(O)),O.copy(y,S)):Uint8Array.prototype.set.call(y,O,S);else{if(!R.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(y,S)}S+=O.length}return y},R.byteLength=J,R.prototype._isBuffer=!0,R.prototype.swap16=function(){const d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<d;s+=2)N(this,s,s+1);return this},R.prototype.swap32=function(){const d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<d;s+=4)N(this,s,s+3),N(this,s+1,s+2);return this},R.prototype.swap64=function(){const d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<d;s+=8)N(this,s,s+7),N(this,s+1,s+6),N(this,s+2,s+5),N(this,s+3,s+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){const d=this.length;return 0===d?"":0===arguments.length?Ie(this,0,d):ae.apply(this,arguments)},R.prototype.equals=function(d){if(!R.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||0===R.compare(this,d)},R.prototype.inspect=function(){let d="";const s=g.INSPECT_MAX_BYTES;return d=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(d+=" ... "),"<Buffer "+d+">"},c&&(R.prototype[c]=R.prototype.inspect),R.prototype.compare=function(d,s,v,y,S){if(je(d,Uint8Array)&&(d=R.from(d,d.offset,d.byteLength)),!R.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(void 0===s&&(s=0),void 0===v&&(v=d?d.length:0),void 0===y&&(y=0),void 0===S&&(S=this.length),s<0||v>d.length||y<0||S>this.length)throw new RangeError("out of range index");if(y>=S&&s>=v)return 0;if(y>=S)return-1;if(s>=v)return 1;if(this===d)return 0;let O=(S>>>=0)-(y>>>=0),Q=(v>>>=0)-(s>>>=0);const se=Math.min(O,Q),ce=this.slice(y,S),ve=d.slice(s,v);for(let Se=0;Se<se;++Se)if(ce[Se]!==ve[Se]){O=ce[Se],Q=ve[Se];break}return O<Q?-1:Q<O?1:0},R.prototype.includes=function(d,s,v){return-1!==this.indexOf(d,s,v)},R.prototype.indexOf=function(d,s,v){return h(this,d,s,v,!0)},R.prototype.lastIndexOf=function(d,s,v){return h(this,d,s,v,!1)},R.prototype.write=function(d,s,v,y){if(void 0===s)y="utf8",v=this.length,s=0;else if(void 0===v&&"string"==typeof s)y=s,v=this.length,s=0;else{if(!isFinite(s))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");s>>>=0,isFinite(v)?(v>>>=0,void 0===y&&(y="utf8")):(y=v,v=void 0)}const S=this.length-s;if((void 0===v||v>S)&&(v=S),d.length>0&&(v<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let O=!1;for(;;)switch(y){case"hex":return I(this,d,s,v);case"utf8":case"utf-8":return $(this,d,s,v);case"ascii":case"latin1":case"binary":return te(this,d,s,v);case"base64":return oe(this,d,s,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,d,s,v);default:if(O)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),O=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},R.prototype.slice=function(d,s){const v=this.length;(d=~~d)<0?(d+=v)<0&&(d=0):d>v&&(d=v),(s=void 0===s?v:~~s)<0?(s+=v)<0&&(s=0):s>v&&(s=v),s<d&&(s=d);const y=this.subarray(d,s);return Object.setPrototypeOf(y,R.prototype),y},R.prototype.readUintLE=R.prototype.readUIntLE=function(d,s,v){d>>>=0,s>>>=0,v||re(d,s,this.length);let y=this[d],S=1,O=0;for(;++O<s&&(S*=256);)y+=this[d+O]*S;return y},R.prototype.readUintBE=R.prototype.readUIntBE=function(d,s,v){d>>>=0,s>>>=0,v||re(d,s,this.length);let y=this[d+--s],S=1;for(;s>0&&(S*=256);)y+=this[d+--s]*S;return y},R.prototype.readUint8=R.prototype.readUInt8=function(d,s){return d>>>=0,s||re(d,1,this.length),this[d]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(d,s){return d>>>=0,s||re(d,2,this.length),this[d]|this[d+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(d,s){return d>>>=0,s||re(d,2,this.length),this[d]<<8|this[d+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(d,s){return d>>>=0,s||re(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(d,s){return d>>>=0,s||re(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},R.prototype.readBigUInt64LE=De(function(d){et(d>>>=0,"offset");const s=this[d],v=this[d+7];(void 0===s||void 0===v)&&Ge(d,this.length-8);const y=s+256*this[++d]+65536*this[++d]+this[++d]*2**24,S=this[++d]+256*this[++d]+65536*this[++d]+v*2**24;return BigInt(y)+(BigInt(S)<<BigInt(32))}),R.prototype.readBigUInt64BE=De(function(d){et(d>>>=0,"offset");const s=this[d],v=this[d+7];(void 0===s||void 0===v)&&Ge(d,this.length-8);const y=s*2**24+65536*this[++d]+256*this[++d]+this[++d],S=this[++d]*2**24+65536*this[++d]+256*this[++d]+v;return(BigInt(y)<<BigInt(32))+BigInt(S)}),R.prototype.readIntLE=function(d,s,v){d>>>=0,s>>>=0,v||re(d,s,this.length);let y=this[d],S=1,O=0;for(;++O<s&&(S*=256);)y+=this[d+O]*S;return S*=128,y>=S&&(y-=Math.pow(2,8*s)),y},R.prototype.readIntBE=function(d,s,v){d>>>=0,s>>>=0,v||re(d,s,this.length);let y=s,S=1,O=this[d+--y];for(;y>0&&(S*=256);)O+=this[d+--y]*S;return S*=128,O>=S&&(O-=Math.pow(2,8*s)),O},R.prototype.readInt8=function(d,s){return d>>>=0,s||re(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},R.prototype.readInt16LE=function(d,s){d>>>=0,s||re(d,2,this.length);const v=this[d]|this[d+1]<<8;return 32768&v?4294901760|v:v},R.prototype.readInt16BE=function(d,s){d>>>=0,s||re(d,2,this.length);const v=this[d+1]|this[d]<<8;return 32768&v?4294901760|v:v},R.prototype.readInt32LE=function(d,s){return d>>>=0,s||re(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},R.prototype.readInt32BE=function(d,s){return d>>>=0,s||re(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},R.prototype.readBigInt64LE=De(function(d){et(d>>>=0,"offset");const s=this[d],v=this[d+7];return(void 0===s||void 0===v)&&Ge(d,this.length-8),(BigInt(this[d+4]+256*this[d+5]+65536*this[d+6]+(v<<24))<<BigInt(32))+BigInt(s+256*this[++d]+65536*this[++d]+this[++d]*2**24)}),R.prototype.readBigInt64BE=De(function(d){et(d>>>=0,"offset");const s=this[d],v=this[d+7];(void 0===s||void 0===v)&&Ge(d,this.length-8);const y=(s<<24)+65536*this[++d]+256*this[++d]+this[++d];return(BigInt(y)<<BigInt(32))+BigInt(this[++d]*2**24+65536*this[++d]+256*this[++d]+v)}),R.prototype.readFloatLE=function(d,s){return d>>>=0,s||re(d,4,this.length),_.read(this,d,!0,23,4)},R.prototype.readFloatBE=function(d,s){return d>>>=0,s||re(d,4,this.length),_.read(this,d,!1,23,4)},R.prototype.readDoubleLE=function(d,s){return d>>>=0,s||re(d,8,this.length),_.read(this,d,!0,52,8)},R.prototype.readDoubleBE=function(d,s){return d>>>=0,s||re(d,8,this.length),_.read(this,d,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(d,s,v,y){d=+d,s>>>=0,v>>>=0,y||pe(this,d,s,v,Math.pow(2,8*v)-1,0);let S=1,O=0;for(this[s]=255&d;++O<v&&(S*=256);)this[s+O]=d/S&255;return s+v},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(d,s,v,y){d=+d,s>>>=0,v>>>=0,y||pe(this,d,s,v,Math.pow(2,8*v)-1,0);let S=v-1,O=1;for(this[s+S]=255&d;--S>=0&&(O*=256);)this[s+S]=d/O&255;return s+v},R.prototype.writeUint8=R.prototype.writeUInt8=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,1,255,0),this[s]=255&d,s+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,2,65535,0),this[s]=255&d,this[s+1]=d>>>8,s+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,2,65535,0),this[s]=d>>>8,this[s+1]=255&d,s+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,4,4294967295,0),this[s+3]=d>>>24,this[s+2]=d>>>16,this[s+1]=d>>>8,this[s]=255&d,s+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,4,4294967295,0),this[s]=d>>>24,this[s+1]=d>>>16,this[s+2]=d>>>8,this[s+3]=255&d,s+4},R.prototype.writeBigUInt64LE=De(function(d,s=0){return me(this,d,s,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=De(function(d,s=0){return Ae(this,d,s,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(d,s,v,y){if(d=+d,s>>>=0,!y){const se=Math.pow(2,8*v-1);pe(this,d,s,v,se-1,-se)}let S=0,O=1,Q=0;for(this[s]=255&d;++S<v&&(O*=256);)d<0&&0===Q&&0!==this[s+S-1]&&(Q=1),this[s+S]=(d/O>>0)-Q&255;return s+v},R.prototype.writeIntBE=function(d,s,v,y){if(d=+d,s>>>=0,!y){const se=Math.pow(2,8*v-1);pe(this,d,s,v,se-1,-se)}let S=v-1,O=1,Q=0;for(this[s+S]=255&d;--S>=0&&(O*=256);)d<0&&0===Q&&0!==this[s+S+1]&&(Q=1),this[s+S]=(d/O>>0)-Q&255;return s+v},R.prototype.writeInt8=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,1,127,-128),d<0&&(d=255+d+1),this[s]=255&d,s+1},R.prototype.writeInt16LE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,2,32767,-32768),this[s]=255&d,this[s+1]=d>>>8,s+2},R.prototype.writeInt16BE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,2,32767,-32768),this[s]=d>>>8,this[s+1]=255&d,s+2},R.prototype.writeInt32LE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,4,2147483647,-2147483648),this[s]=255&d,this[s+1]=d>>>8,this[s+2]=d>>>16,this[s+3]=d>>>24,s+4},R.prototype.writeInt32BE=function(d,s,v){return d=+d,s>>>=0,v||pe(this,d,s,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[s]=d>>>24,this[s+1]=d>>>16,this[s+2]=d>>>8,this[s+3]=255&d,s+4},R.prototype.writeBigInt64LE=De(function(d,s=0){return me(this,d,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=De(function(d,s=0){return Ae(this,d,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeFloatLE=function(d,s,v){return bt(this,d,s,!0,v)},R.prototype.writeFloatBE=function(d,s,v){return bt(this,d,s,!1,v)},R.prototype.writeDoubleLE=function(d,s,v){return nt(this,d,s,!0,v)},R.prototype.writeDoubleBE=function(d,s,v){return nt(this,d,s,!1,v)},R.prototype.copy=function(d,s,v,y){if(!R.isBuffer(d))throw new TypeError("argument should be a Buffer");if(v||(v=0),!y&&0!==y&&(y=this.length),s>=d.length&&(s=d.length),s||(s=0),y>0&&y<v&&(y=v),y===v||0===d.length||0===this.length)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),d.length-s<y-v&&(y=d.length-s+v);const S=y-v;return this===d&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(s,v,y):Uint8Array.prototype.set.call(d,this.subarray(v,y),s),S},R.prototype.fill=function(d,s,v,y){if("string"==typeof d){if("string"==typeof s?(y=s,s=0,v=this.length):"string"==typeof v&&(y=v,v=this.length),void 0!==y&&"string"!=typeof y)throw new TypeError("encoding must be a string");if("string"==typeof y&&!R.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(1===d.length){const O=d.charCodeAt(0);("utf8"===y&&O<128||"latin1"===y)&&(d=O)}}else"number"==typeof d?d&=255:"boolean"==typeof d&&(d=Number(d));if(s<0||this.length<s||this.length<v)throw new RangeError("Out of range index");if(v<=s)return this;let S;if(s>>>=0,v=void 0===v?this.length:v>>>0,d||(d=0),"number"==typeof d)for(S=s;S<v;++S)this[S]=d;else{const O=R.isBuffer(d)?d:R.from(d,y),Q=O.length;if(0===Q)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(S=0;S<v-s;++S)this[S+s]=O[S%Q]}return this};const Ve={};function ht(m,d,s){Ve[m]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,delete this.name}get code(){return m}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}function _t(m){let d="",s=m.length;const v="-"===m[0]?1:0;for(;s>=v+4;s-=3)d=`_${m.slice(s-3,s)}${d}`;return`${m.slice(0,s)}${d}`}function At(m,d,s,v,y,S){if(m>s||m<d){const O="bigint"==typeof d?"n":"";let Q;throw Q=S>3?0===d||d===BigInt(0)?`>= 0${O} and < 2${O} ** ${8*(S+1)}${O}`:`>= -(2${O} ** ${8*(S+1)-1}${O}) and < 2 ** ${8*(S+1)-1}${O}`:`>= ${d}${O} and <= ${s}${O}`,new Ve.ERR_OUT_OF_RANGE("value",Q,m)}!function ze(m,d,s){et(d,"offset"),(void 0===m[d]||void 0===m[d+s])&&Ge(d,m.length-(s+1))}(v,y,S)}function et(m,d){if("number"!=typeof m)throw new Ve.ERR_INVALID_ARG_TYPE(d,"number",m)}function Ge(m,d,s){throw Math.floor(m)!==m?(et(m,s),new Ve.ERR_OUT_OF_RANGE(s||"offset","an integer",m)):d<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${d}`,m)}ht("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ht("ERR_INVALID_ARG_TYPE",function(m,d){return`The "${m}" argument must be of type number. Received type ${typeof d}`},TypeError),ht("ERR_OUT_OF_RANGE",function(m,d,s){let v=`The value of "${m}" is out of range.`,y=s;return Number.isInteger(s)&&Math.abs(s)>2**32?y=_t(String(s)):"bigint"==typeof s&&(y=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(y=_t(y)),y+="n"),v+=` It must be ${d}. Received ${y}`,v},RangeError);const rt=/[^+/0-9A-Za-z-_]/g;function qe(m,d){let s;d=d||1/0;const v=m.length;let y=null;const S=[];for(let O=0;O<v;++O){if(s=m.charCodeAt(O),s>55295&&s<57344){if(!y){if(s>56319){(d-=3)>-1&&S.push(239,191,189);continue}if(O+1===v){(d-=3)>-1&&S.push(239,191,189);continue}y=s;continue}if(s<56320){(d-=3)>-1&&S.push(239,191,189),y=s;continue}s=65536+(y-55296<<10|s-56320)}else y&&(d-=3)>-1&&S.push(239,191,189);if(y=null,s<128){if((d-=1)<0)break;S.push(s)}else if(s<2048){if((d-=2)<0)break;S.push(s>>6|192,63&s|128)}else if(s<65536){if((d-=3)<0)break;S.push(s>>12|224,s>>6&63|128,63&s|128)}else{if(!(s<1114112))throw new Error("Invalid code point");if((d-=4)<0)break;S.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}}return S}function ln(m){return b.toByteArray(function xt(m){if((m=(m=m.split("=")[0]).trim().replace(rt,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(m))}function St(m,d,s,v){let y;for(y=0;y<v&&!(y+s>=d.length||y>=m.length);++y)d[y+s]=m[y];return y}function je(m,d){return m instanceof d||null!=m&&null!=m.constructor&&null!=m.constructor.name&&m.constructor.name===d.name}function qt(m){return m!=m}const it=function(){const m="0123456789abcdef",d=new Array(256);for(let s=0;s<16;++s){const v=16*s;for(let y=0;y<16;++y)d[v+y]=m[s]+m[y]}return d}();function De(m){return"undefined"==typeof BigInt?ot:m}function ot(){throw new Error("BigInt not supported")}},5439:Ee=>{"use strict";Ee.exports=function g(w,b){if(w===b)return!0;if(w&&b&&"object"==typeof w&&"object"==typeof b){if(w.constructor!==b.constructor)return!1;var _,c,k;if(Array.isArray(w)){if((_=w.length)!=b.length)return!1;for(c=_;0!=c--;)if(!g(w[c],b[c]))return!1;return!0}if(w.constructor===RegExp)return w.source===b.source&&w.flags===b.flags;if(w.valueOf!==Object.prototype.valueOf)return w.valueOf()===b.valueOf();if(w.toString!==Object.prototype.toString)return w.toString()===b.toString();if((_=(k=Object.keys(w)).length)!==Object.keys(b).length)return!1;for(c=_;0!=c--;)if(!Object.prototype.hasOwnProperty.call(b,k[c]))return!1;for(c=_;0!=c--;){var Y=k[c];if(!g(w[Y],b[Y]))return!1}return!0}return w!=w&&b!=b}},2658:(Ee,g)=>{g.read=function(w,b,_,c,k){var Y,B,R=8*k-c-1,z=(1<<R)-1,V=z>>1,q=-7,X=_?k-1:0,x=_?-1:1,M=w[b+X];for(X+=x,Y=M&(1<<-q)-1,M>>=-q,q+=R;q>0;Y=256*Y+w[b+X],X+=x,q-=8);for(B=Y&(1<<-q)-1,Y>>=-q,q+=c;q>0;B=256*B+w[b+X],X+=x,q-=8);if(0===Y)Y=1-V;else{if(Y===z)return B?NaN:1/0*(M?-1:1);B+=Math.pow(2,c),Y-=V}return(M?-1:1)*B*Math.pow(2,Y-c)},g.write=function(w,b,_,c,k,Y){var B,R,z,V=8*Y-k-1,q=(1<<V)-1,X=q>>1,x=23===k?Math.pow(2,-24)-Math.pow(2,-77):0,M=c?0:Y-1,P=c?1:-1,C=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(R=isNaN(b)?1:0,B=q):(B=Math.floor(Math.log(b)/Math.LN2),b*(z=Math.pow(2,-B))<1&&(B--,z*=2),(b+=B+X>=1?x/z:x*Math.pow(2,1-X))*z>=2&&(B++,z/=2),B+X>=q?(R=0,B=q):B+X>=1?(R=(b*z-1)*Math.pow(2,k),B+=X):(R=b*Math.pow(2,X-1)*Math.pow(2,k),B=0));k>=8;w[_+M]=255&R,M+=P,R/=256,k-=8);for(B=B<<k|R,V+=k;V>0;w[_+M]=255&B,M+=P,B/=256,V-=8);w[_+M-P]|=128*C}},9656:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.encodeWellKnownAuthMetadata=function X(L,K){if(L===c.UNPARSEABLE_AUTH_TYPE||L===c.UNKNOWN_RESERVED_AUTH_TYPE)throw new Error(`Illegal WellKnownAuthType[${L.toString()}]. Only allowed AuthType should be used`);const J=(0,_.createBuffer)(1);return J.writeUInt8(128|L.identifier),b.LiteBuffer.concat([J,K])},g.encodeCustomAuthMetadata=function x(L,K){const J=(0,_.toBuffer)(L);if(J.byteLength!==L.length)throw new Error("Custom auth type must be US_ASCII characters only");if(J.byteLength<1||J.byteLength>128)throw new Error("Custom auth type must have a strictly positive length that fits on 7 unsigned bits, ie 1-128");const ae=(0,_.createBuffer)(1+J.byteLength);return ae.writeUInt8(J.byteLength-1),ae.write(L,1),b.LiteBuffer.concat([ae,K])},g.encodeSimpleAuthMetadata=function M(L,K){const J=(0,_.toBuffer)(L),ae=(0,_.toBuffer)(K),N=J.byteLength;if(N>65535)throw new Error(`Username should be shorter than or equal to 65535 bytes length in UTF-8 encoding but the given was ${N}`);const H=(0,_.createBuffer)(3);return H.writeUInt8(128|c.SIMPLE.identifier),H.writeUInt16BE(N,1),b.LiteBuffer.concat([H,J,ae])},g.encodeBearerAuthMetadata=function P(L){const K=(0,_.toBuffer)(L),J=(0,_.createBuffer)(1);return J.writeUInt8(128|c.BEARER.identifier),b.LiteBuffer.concat([J,K])},g.decodeAuthMetadata=function C(L){if(L.byteLength<1)throw new Error("Unable to decode Auth metadata. Not enough readable bytes");const K=L.readUInt8(),J=127&K;if(J!==K){const ae=c.default.fromIdentifier(J);return{payload:L.slice(1),type:{identifier:ae.identifier,string:ae.string}}}{const ae=K+1;if(L.byteLength<ae+1)throw new Error("Unable to decode custom Auth type. Malformed length or auth type string");const N=L.toString("utf8",1,1+ae);return{payload:L.slice(ae+1),type:{identifier:c.UNPARSEABLE_AUTH_TYPE.identifier,string:N}}}},g.decodeSimpleAuthPayload=function U(L){if(L.byteLength<2)throw new Error("Unable to decode Simple Auth Payload. Not enough readable bytes");const K=L.readUInt16BE();if(L.byteLength<K+2)throw new Error("Unable to decode Simple Auth Payload. Not enough readable bytes");const J=L.slice(2,2+K);return{password:L.slice(2+K),username:J}};var b=w(5873),_=w(5441),c=function Y(L){if(L&&L.__esModule)return L;if(null===L||"object"!=typeof L&&"function"!=typeof L)return{default:L};var K=k();if(K&&K.has(L))return K.get(L);var J={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in L)if(Object.prototype.hasOwnProperty.call(L,N)){var h=ae?Object.getOwnPropertyDescriptor(L,N):null;h&&(h.get||h.set)?Object.defineProperty(J,N,h):J[N]=L[N]}return J.default=L,K&&K.set(L,J),J}(w(563));function k(){if("function"!=typeof WeakMap)return null;var L=new WeakMap;return k=function(){return L},L}},7143:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.encodeCompositeMetadata=function R(I){let $=(0,_.createBuffer)(0);for(const[te,oe]of I){const de="function"==typeof oe?oe():oe;$=te instanceof c.default||"number"==typeof te||"WellKnownMimeType"===te.constructor.name?V($,te,de):z($,te,de)}return $},g.encodeAndAddCustomMetadata=z,g.encodeAndAddWellKnownMetadata=V,g.decodeMimeAndContentBuffersSlices=q,g.decodeMimeTypeFromMimeBuffer=X,g.encodeCustomMetadataHeader=x,g.encodeWellKnownMetadataHeader=M,g.decodeCompositeMetadata=P,g.WellKnownMimeTypeEntry=g.ReservedMimeTypeEntry=g.ExplicitMimeTimeEntry=g.CompositeMetadata=void 0;var b=w(5873),_=w(5441),c=function Y(I){if(I&&I.__esModule)return I;if(null===I||"object"!=typeof I&&"function"!=typeof I)return{default:I};var $=k();if($&&$.has(I))return $.get(I);var te={},oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in I)if(Object.prototype.hasOwnProperty.call(I,de)){var ge=oe?Object.getOwnPropertyDescriptor(I,de):null;ge&&(ge.get||ge.set)?Object.defineProperty(te,de,ge):te[de]=I[de]}return te.default=I,$&&$.set(I,te),te}(w(4802));function k(){if("function"!=typeof WeakMap)return null;var I=new WeakMap;return k=function(){return I},I}class B{constructor($){this._buffer=$}iterator(){return P(this._buffer)}[Symbol.iterator](){return P(this._buffer)}}function z(I,$,te){return b.LiteBuffer.concat([I,x($,te.byteLength),te])}function V(I,$,te){let oe;return oe=Number.isInteger($)?$:$.identifier,b.LiteBuffer.concat([I,M(oe,te.byteLength),te])}function q(I,$){const te=I.readInt8($);let oe,de=$;if((te&N)===N)oe=I.slice(de,de+1),de+=1;else{const ge=1+(255&te);if(!(I.byteLength>de+ge))throw new Error("Metadata is malformed. Inappropriately formed Mime Length");oe=I.slice(de,de+ge+1),de+=ge+1}if(I.byteLength>=de+3){const ge=(0,_.readUInt24BE)(I,de);if(de+=3,I.byteLength>=ge+de)return[oe,I.slice(de,de+ge)];throw new Error("Metadata is malformed. Inappropriately formed Metadata Length or malformed content")}throw new Error("Metadata is malformed. Metadata Length is absent or malformed")}function X(I){if(I.length<2)throw new Error("Unable to decode explicit MIME type");return I.toString("ascii",1)}function x(I,$){const te=(0,_.createBuffer)(4+I.length),oe=te.write(I,1);if(!function H(I,$){let te=!0;for(let oe=$,de=I.length;oe<de;oe++)if(I[oe]>127){te=!1;break}return te}(te,1))throw new Error("Custom mime type must be US_ASCII characters only");if(oe<1||oe>128)throw new Error("Custom mime type must have a strictly positive length that fits on 7 unsigned bits, ie 1-128");return te.writeUInt8(oe-1),(0,_.writeUInt24BE)(te,$,oe+1),te}function M(I,$){const te=b.LiteBuffer.alloc(4);return te.writeUInt8(I|N),(0,_.writeUInt24BE)(te,$,1),te}function*P(I){const $=I.byteLength;let te=0;for(;te<$;){const oe=q(I,te),de=oe[0],ge=oe[1];if(te=J(te,de,ge),!ae(de)){const Ce=X(de);if(!Ce)throw new Error("MIME type cannot be null");yield new C(ge,Ce);continue}const Ie=K(de),Ne=c.default.fromIdentifier(Ie);c.UNKNOWN_RESERVED_MIME_TYPE!==Ne?yield new L(ge,Ne):yield new U(ge,Ie)}}g.CompositeMetadata=B;class C{constructor($,te){this._content=$,this._type=te}get content(){return this._content}get mimeType(){return this._type}}g.ExplicitMimeTimeEntry=C;class U{constructor($,te){this._content=$,this._type=te}get content(){return this._content}get mimeType(){}get type(){return this._type}}g.ReservedMimeTypeEntry=U;class L{constructor($,te){this._content=$,this._type=te}get content(){return this._content}get mimeType(){return this._type.string}get type(){return this._type}}function K(I){return ae(I)?I.readInt8()&h:c.UNPARSEABLE_MIME_TYPE.identifier}function J(I,$,te){return I+$.byteLength+3+te.byteLength}function ae(I){return 1===I.byteLength}g.WellKnownMimeTypeEntry=L;const N=128,h=127},583:Ee=>{"use strict";Ee.exports=function g(w,b,..._){if(!w){let c;if(void 0===b)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let k=0;c=new Error(b.replace(/%s/g,()=>String(_[k++]))),c.name="Invariant Violation"}throw c.framesToPop=1,c}}},5873:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.LiteBuffer=g.Buffer=void 0;var b=function _(N){return N&&N.__esModule?N:{default:N}}(w(3875));const c="undefined"!=typeof global&&global.hasOwnProperty("Buffer"),k=b.default.hasOwnProperty("Buffer");function B(N){return null==N||"utf8"===N||"utf-8"===N?"utf8":function z(N){switch(N.length){case 4:if("UTF8"===N)return"utf8";if("ucs2"===N||"UCS2"===N)return"utf16le";if("utf8"===(N=`${N}`.toLowerCase()))return"utf8";if("ucs2"===N)return"utf16le";break;case 3:if("hex"===N||"HEX"===N||"hex"===`${N}`.toLowerCase())return"hex";break;case 5:if("ascii"===N)return"ascii";if("ucs-2"===N)return"utf16le";if("UTF-8"===N)return"utf8";if("ASCII"===N)return"ascii";if("UCS-2"===N)return"utf16le";if("utf-8"===(N=`${N}`.toLowerCase()))return"utf8";if("ascii"===N)return"ascii";if("ucs-2"===N)return"utf16le";break;case 6:if("base64"===N)return"base64";if("latin1"===N||"binary"===N)return"latin1";if("BASE64"===N)return"base64";if("LATIN1"===N||"BINARY"===N)return"latin1";if("base64"===(N=`${N}`.toLowerCase()))return"base64";if("latin1"===N||"binary"===N)return"latin1";break;case 7:if("utf16le"===N||"UTF16LE"===N||"utf16le"===`${N}`.toLowerCase())return"utf16le";break;case 8:if("utf-16le"===N||"UTF-16LE"===N||"utf-16le"===`${N}`.toLowerCase())return"utf16le";break;default:if(""===N)return"utf8"}}(N)}function R(N,h){return N instanceof h||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===h.name}const V=["base64","hex","ascii","binary","latin1","ucs2","utf16le"];function q(N="utf8",h=!0){if("string"!=typeof N||h&&""===N){if(!h)return"utf8";throw new TypeError(`Unknown encoding: ${N}`)}const H=B(N);if(void 0===H)throw new TypeError(`Unknown encoding: ${N}`);return V.includes(N)&&function Y(N){throw new Error(N?`Not implemented: ${N}`:"Not implemented")}(`"${N}" encoding`),H}const X={ascii:{byteLength:N=>N.length},base64:{byteLength:N=>function x(N,h){return 61===N.charCodeAt(h-1)&&h--,h>1&&61===N.charCodeAt(h-1)&&h--,3*h>>>2}(N,N.length)},hex:{byteLength:N=>N.length>>>1},latin1:{byteLength:N=>N.length},ucs2:{byteLength:N=>2*N.length},utf16le:{byteLength:N=>2*N.length},utf8:{byteLength:N=>C(N).length}};function C(N,h=1/0){let I,H=h;const $=N.length;let te=null;const oe=[];for(let de=0;de<$;++de){if(I=N.charCodeAt(de),I>55295&&I<57344){if(!te){if(I>56319){(H-=3)>-1&&oe.push(239,191,189);continue}if(de+1===$){(H-=3)>-1&&oe.push(239,191,189);continue}te=I;continue}if(I<56320){(H-=3)>-1&&oe.push(239,191,189),te=I;continue}I=65536+(te-55296<<10|I-56320)}else te&&(H-=3)>-1&&oe.push(239,191,189);if(te=null,I<128){if((H-=1)<0)break;oe.push(I)}else if(I<2048){if((H-=2)<0)break;oe.push(I>>6|192,63&I|128)}else if(I<65536){if((H-=3)<0)break;oe.push(I>>12|224,I>>6&63|128,63&I|128)}else{if(!(I<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;oe.push(I>>18|240,I>>12&63|128,I>>6&63|128,63&I|128)}}return oe}class J extends Uint8Array{constructor(h,H,I){"number"==typeof h?super(h):super(h,H||0,I||(R(h,Array)?h.length:h.byteLength))}static alloc(h,H=0,I="utf8"){if("number"!=typeof h)throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);const $=new J(h);if(0===h)return $;let te;if("string"==typeof H)I=q(I),1===H.length&&"utf8"===I?$.fill(H.charCodeAt(0)):te=J.from(H,I);else if("number"==typeof H)$.fill(H);else if(R(H,Uint8Array)){if(0===H.length)throw new TypeError(`The argument "value" is invalid. Received ${H.constructor.name} []`);te=H}if(te){te.length>$.length&&(te=te.subarray(0,$.length));let oe=0;for(;oe<h&&($.set(te,oe),oe+=te.length,!(oe+te.length>=h)););oe!==h&&$.set(te.subarray(0,h-oe),oe)}return $}static allocUnsafe(h){return new J(h)}static byteLength(h,H="utf8"){return"string"!=typeof h?h.byteLength:(H=B(H)||"utf8",X[H].byteLength(h))}static concat(h,H){if(null==H){H=0;for(const te of h)H+=te.length}const I=new J(H);let $=0;for(const te of h)I.set(te,$),$+=te.length;return I}static from(h,H,I){const $="string"==typeof H?void 0:H;let te="string"==typeof H?H:void 0;if("string"==typeof h||"String"===h.constructor.name){if("utf8"===(h=h.toString(),te=q(te,!1),te))return"undefined"!=typeof TextEncoder?new J((new TextEncoder).encode(h).buffer):new J(C(h));throw new TypeError("Unknown encoding: "+te)}return new J(h,$,I)}static isBuffer(h){return R(h,J)||!c&&k&&R(h,Uint8Array)}static isEncoding(h){return"string"==typeof h&&0!==h.length&&void 0!==B(h)}copy(h,H=0,I=0,$=this.length){const te=this.subarray(I,$);return h.set(te,H),te.length}equals(h){if(!R(h,Uint8Array))throw new TypeError('The "otherBuffer" argument must be an instance of Buffer or Uint8Array. Received type '+typeof h);if(this===h)return!0;if(this.byteLength!==h.byteLength)return!1;for(let H=0;H<this.length;H++)if(this[H]!==h[H])return!1;return!0}readDoubleBE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat64(h)}readDoubleLE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat64(h,!0)}readFloatBE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat32(h)}readFloatLE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat32(h,!0)}readInt8(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt8(h)}readInt16BE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt16(h)}readInt16LE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt16(h,!0)}readInt32BE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt32(h)}readInt32LE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt32(h,!0)}readUInt8(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint8(h)}readUInt16BE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint16(h)}readUInt16LE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint16(h,!0)}readUInt32BE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint32(h)}readUInt32LE(h=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint32(h,!0)}slice(h=0,H=this.length){return this.subarray(h,H)}subarray(h=0,H=this.length){return new J(super.subarray(h,H))}toJSON(){return{data:Array.from(this),type:"Buffer"}}toString(h="utf8",H=0,I=this.length){if(h=q(h),"undefined"!=typeof TextDecoder){const $=this.subarray(H,I);return(new TextDecoder).decode($)}return this.slowToString(h,H,I)}slowToString(h="utf8",H=0,I=this.length){if((void 0===H||H<0)&&(H=0),H>this.length||((void 0===I||I>this.length)&&(I=this.length),I<=0)||(I>>>=0)<=(H>>>=0))return"";if("utf8"===(h=q(h)))return function U(N,h,H){H=Math.min(N.length,H);const I=[];let $=h;for(;$<H;){const te=N[$];let oe=null,de=te>239?4:te>223?3:te>191?2:1;if($+de<=H){let ge,Ie,Ne,Ce;switch(de){case 1:te<128&&(oe=te);break;case 2:ge=N[$+1],128==(192&ge)&&(Ce=(31&te)<<6|63&ge,Ce>127&&(oe=Ce));break;case 3:ge=N[$+1],Ie=N[$+2],128==(192&ge)&&128==(192&Ie)&&(Ce=(15&te)<<12|(63&ge)<<6|63&Ie,Ce>2047&&(Ce<55296||Ce>57343)&&(oe=Ce));break;case 4:ge=N[$+1],Ie=N[$+2],Ne=N[$+3],128==(192&ge)&&128==(192&Ie)&&128==(192&Ne)&&(Ce=(15&te)<<18|(63&ge)<<12|(63&Ie)<<6|63&Ne,Ce>65535&&Ce<1114112&&(oe=Ce))}}null===oe?(oe=65533,de=1):oe>65535&&(oe-=65536,I.push(oe>>>10&1023|55296),oe=56320|1023&oe),I.push(oe),$+=de}return function P(N){const h=N.length;if(h<=4096)return String.fromCharCode.apply(String,N);let H="",I=0;for(;I<h;)H+=String.fromCharCode.apply(String,N.slice(I,I+=4096));return H}(I)}(this,H,I);throw new TypeError("Unsupported encoding: "+h)}write(h,H=0,I=this.length,$="utf8"){if("utf8"===($=q($))){if("undefined"!=typeof TextEncoder){const te=(new TextEncoder).encode(h);return this.set(te,H),te.byteLength>I-H?I-H:te.byteLength}return function L(N,h,H,I){return function K(N,h,H,I){let $=0;for(;$<I&&!($+H>=h.length||$>=N.length);++$)h[$+H]=N[$];return $}(C(h,N.length-H),N,H,I)}(this,h,H,I)}throw new TypeError("Unknown encoding: "+$)}writeDoubleBE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat64(H,h),H+8}writeDoubleLE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat64(H,h,!0),H+8}writeFloatBE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat32(H,h),H+4}writeFloatLE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat32(H,h,!0),H+4}writeInt8(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt8(H,h),H+1}writeInt16BE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt16(H,h),H+2}writeInt16LE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt16(H,h,!0),H+2}writeInt32BE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(H,h),H+4}writeInt32LE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt32(H,h,!0),H+4}writeUInt8(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint8(H,h),H+1}writeUInt16BE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint16(H,h),H+2}writeUInt16LE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint16(H,h,!0),H+2}writeUInt32BE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(H,h),H+4}writeUInt32LE(h,H=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(H,h,!0),H+4}}g.Buffer=J,c||(k&&Object.defineProperty(b.default,"Buffer",{configurable:!0,enumerable:!1,value:J,writable:!0}),Object.defineProperty(window,"Buffer",{configurable:!0,enumerable:!1,value:J,writable:!0}));const ae=c?global.Buffer:J;g.LiteBuffer=ae},1598:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.deserializeFrameWithLength=function z(s,v){const y=(0,k.readUInt24BE)(s,0);return X(s.slice(3,3+y),v)},g.deserializeFrames=function V(s,v){const y=[];let S=0;for(;S+3<s.length;){const Q=S+3,se=Q+(0,k.readUInt24BE)(s,S);if(se>s.length)break;const ve=X(s.slice(Q,se),v);y.push(ve),S=se}return[y,s.slice(S,s.length)]},g.serializeFrameWithLength=function q(s,v){const y=x(s,v),S=(0,k.createBuffer)(y.length+3);return(0,k.writeUInt24BE)(S,y.length,0),y.copy(S,3,0,y.length),S},g.deserializeFrame=X,g.serializeFrame=x,g.sizeOfFrame=function M(s,v){switch(v=v||c.Utf8Encoders,s.type){case _.FRAME_TYPES.SETUP:return function L(s,v){const y=null!=s.resumeToken?v.resumeToken.byteLength(s.resumeToken):0;return 20+(y?2+y:0)+(null!=s.metadataMimeType?v.metadataMimeType.byteLength(s.metadataMimeType):0)+(null!=s.dataMimeType?v.dataMimeType.byteLength(s.dataMimeType):0)+ot(s,v)}(s,v);case _.FRAME_TYPES.PAYLOAD:return function rt(s,v){return 6+ot(s,v)}(s,v);case _.FRAME_TYPES.ERROR:return function N(s,v){return 10+(null!=s.message?v.message.byteLength(s.message):0)}(s,v);case _.FRAME_TYPES.KEEPALIVE:return function $(s,v){return 14+(null!=s.data?v.data.byteLength(s.data):0)}(s,v);case _.FRAME_TYPES.REQUEST_FNF:case _.FRAME_TYPES.REQUEST_RESPONSE:return function Ce(s,v){return 6+ot(s,v)}(s,v);case _.FRAME_TYPES.REQUEST_STREAM:case _.FRAME_TYPES.REQUEST_CHANNEL:return function Ae(s,v){return 10+ot(s,v)}(s,v);case _.FRAME_TYPES.METADATA_PUSH:return function Le(s,v){return 6+(null!=s.metadata?v.metadata.byteLength(s.metadata):0)}(s,v);case _.FRAME_TYPES.REQUEST_N:return 10;case _.FRAME_TYPES.RESUME:return function Nt(s,v){return 28+v.resumeToken.byteLength(s.resumeToken)}(s,v);case _.FRAME_TYPES.RESUME_OK:return 14;case _.FRAME_TYPES.CANCEL:return 6;case _.FRAME_TYPES.LEASE:return function ge(s,v){return 14+(null!=s.metadata?v.metadata.byteLength(s.metadata):0)}(s,v);default:(0,b.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,_.getFrameTypeName)(s.type))}};var b=function Y(s){return s&&s.__esModule?s:{default:s}}(w(583)),_=w(7814),c=w(2817),k=w(5441);function X(s,v){v=v||c.Utf8Encoders;let y=0;const S=s.readInt32BE(y);y+=4,(0,b.default)(S>=0,"RSocketBinaryFraming: Invalid frame, expected a positive stream id, got `%s.",S);const O=s.readUInt16BE(y);y+=2;const Q=O>>>_.FRAME_TYPE_OFFFSET,se=O&_.FLAGS_MASK;switch(Q){case _.FRAME_TYPES.SETUP:return function K(s,v,y,S){(0,b.default)(0===v,"RSocketBinaryFraming: Invalid SETUP frame, expected stream id to be 0.");const O=s.length;let Q=6;const se=s.readUInt16BE(Q);Q+=2;const ce=s.readUInt16BE(Q);Q+=2;const ve=s.readInt32BE(Q);Q+=4,(0,b.default)(ve>=0&&ve<=_.MAX_KEEPALIVE,"RSocketBinaryFraming: Invalid SETUP frame, expected keepAlive to be >= 0 and <= %s. Got `%s`.",_.MAX_KEEPALIVE,ve);const Se=s.readInt32BE(Q);Q+=4,(0,b.default)(Se>=0&&Se<=_.MAX_LIFETIME,"RSocketBinaryFraming: Invalid SETUP frame, expected lifetime to be >= 0 and <= %s. Got `%s`.",_.MAX_LIFETIME,Se);let Yt=null;if(y&_.FLAGS.RESUME_ENABLE){const Wt=s.readInt16BE(Q);Q+=2,(0,b.default)(Wt>=0&&Wt<=_.MAX_RESUME_LENGTH,"RSocketBinaryFraming: Invalid SETUP frame, expected resumeToken length to be >= 0 and <= %s. Got `%s`.",_.MAX_RESUME_LENGTH,Wt),Yt=S.resumeToken.decode(s,Q,Q+Wt),Q+=Wt}const vt=s.readUInt8(Q);Q+=1;const Jn=S.metadataMimeType.decode(s,Q,Q+vt);Q+=vt;const Rn=s.readUInt8(Q);Q+=1;const Kr=S.dataMimeType.decode(s,Q,Q+Rn);Q+=Rn;const Dn={data:null,dataMimeType:Kr,flags:y,keepAlive:ve,length:O,lifetime:Se,majorVersion:se,metadata:null,metadataMimeType:Jn,minorVersion:ce,resumeToken:Yt,streamId:v,type:_.FRAME_TYPES.SETUP};return d(s,Dn,S,Q),Dn}(s,S,se,v);case _.FRAME_TYPES.PAYLOAD:return function xt(s,v,y,S){(0,b.default)(v>0,"RSocketBinaryFraming: Invalid PAYLOAD frame, expected stream id to be > 0.");const Q={data:null,flags:y,length:s.length,metadata:null,streamId:v,type:_.FRAME_TYPES.PAYLOAD};return d(s,Q,S,6),Q}(s,S,se,v);case _.FRAME_TYPES.ERROR:return function h(s,v,y,S){const O=s.length;let Q=6;const se=s.readInt32BE(Q);Q+=4,(0,b.default)(se>=0&&se<=_.MAX_CODE,"RSocketBinaryFraming: Invalid ERROR frame, expected code to be >= 0 and <= %s. Got `%s`.",_.MAX_CODE,se);const ce=s.length-Q;let ve="";return ce>0&&(ve=S.message.decode(s,Q,Q+ce),Q+=ce),{code:se,flags:y,length:O,message:ve,streamId:v,type:_.FRAME_TYPES.ERROR}}(s,S,se,v);case _.FRAME_TYPES.KEEPALIVE:return function te(s,v,y,S){(0,b.default)(0===v,"RSocketBinaryFraming: Invalid KEEPALIVE frame, expected stream id to be 0.");const O=s.length;let Q=6;const se=(0,k.readUInt64BE)(s,Q);Q+=8;let ce=null;return Q<s.length&&(ce=S.data.decode(s,Q,s.length)),{data:ce,flags:y,lastReceivedPosition:se,length:O,streamId:v,type:_.FRAME_TYPES.KEEPALIVE}}(s,S,se,v);case _.FRAME_TYPES.REQUEST_FNF:return function pt(s,v,y,S){(0,b.default)(v>0,"RSocketBinaryFraming: Invalid REQUEST_FNF frame, expected stream id to be > 0.");const Q={data:null,flags:y,length:s.length,metadata:null,streamId:v,type:_.FRAME_TYPES.REQUEST_FNF};return d(s,Q,S,6),Q}(s,S,se,v);case _.FRAME_TYPES.REQUEST_RESPONSE:return function Re(s,v,y,S){(0,b.default)(v>0,"RSocketBinaryFraming: Invalid REQUEST_RESPONSE frame, expected stream id to be > 0.");const Q={data:null,flags:y,length:s.length,metadata:null,streamId:v,type:_.FRAME_TYPES.REQUEST_RESPONSE};return d(s,Q,S,6),Q}(s,S,se,v);case _.FRAME_TYPES.REQUEST_STREAM:return function ke(s,v,y,S){(0,b.default)(v>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected stream id to be > 0.");const O=s.length;let Q=6;const se=s.readInt32BE(Q);Q+=4,(0,b.default)(se>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",se);const ce={data:null,flags:y,length:O,metadata:null,requestN:se,streamId:v,type:_.FRAME_TYPES.REQUEST_STREAM};return d(s,ce,S,Q),ce}(s,S,se,v);case _.FRAME_TYPES.REQUEST_CHANNEL:return function bt(s,v,y,S){(0,b.default)(v>0,"RSocketBinaryFraming: Invalid REQUEST_CHANNEL frame, expected stream id to be > 0.");const O=s.length;let Q=6;const se=s.readInt32BE(Q);Q+=4,(0,b.default)(se>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",se);const ce={data:null,flags:y,length:O,metadata:null,requestN:se,streamId:v,type:_.FRAME_TYPES.REQUEST_CHANNEL};return d(s,ce,S,Q),ce}(s,S,se,v);case _.FRAME_TYPES.METADATA_PUSH:return function re(s,v,y,S){(0,b.default)(0===v,"RSocketBinaryFraming: Invalid METADATA_PUSH frame, expected stream id to be 0.");const O=s.length;return{flags:y,length:O,metadata:6===O?null:S.metadata.decode(s,6,O),streamId:v,type:_.FRAME_TYPES.METADATA_PUSH}}(s,S,se,v);case _.FRAME_TYPES.REQUEST_N:return function _t(s,v,y,S){(0,b.default)(v>0,"RSocketBinaryFraming: Invalid REQUEST_N frame, expected stream id to be > 0.");const O=s.length,Q=s.readInt32BE(6);return(0,b.default)(Q>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",Q),{flags:y,length:O,requestN:Q,streamId:v,type:_.FRAME_TYPES.REQUEST_N}}(s,S,se);case _.FRAME_TYPES.RESUME:return function ln(s,v,y,S){(0,b.default)(0===v,"RSocketBinaryFraming: Invalid RESUME frame, expected stream id to be 0.");const O=s.length;let Q=6;const se=s.readUInt16BE(Q);Q+=2;const ce=s.readUInt16BE(Q);Q+=2;const ve=s.readInt16BE(Q);Q+=2,(0,b.default)(ve>=0&&ve<=_.MAX_RESUME_LENGTH,"RSocketBinaryFraming: Invalid SETUP frame, expected resumeToken length to be >= 0 and <= %s. Got `%s`.",_.MAX_RESUME_LENGTH,ve);const Se=S.resumeToken.decode(s,Q,Q+ve);Q+=ve;const Yt=(0,k.readUInt64BE)(s,Q);Q+=8;const vt=(0,k.readUInt64BE)(s,Q);return Q+=8,{clientPosition:vt,flags:y,length:O,majorVersion:se,minorVersion:ce,resumeToken:Se,serverPosition:Yt,streamId:v,type:_.FRAME_TYPES.RESUME}}(s,S,se,v);case _.FRAME_TYPES.RESUME_OK:return function it(s,v,y,S){(0,b.default)(0===v,"RSocketBinaryFraming: Invalid RESUME frame, expected stream id to be 0.");const O=s.length;return{clientPosition:(0,k.readUInt64BE)(s,6),flags:y,length:O,streamId:v,type:_.FRAME_TYPES.RESUME_OK}}(s,S,se);case _.FRAME_TYPES.CANCEL:return function et(s,v,y,S){return(0,b.default)(v>0,"RSocketBinaryFraming: Invalid CANCEL frame, expected stream id to be > 0."),{flags:y,length:s.length,streamId:v,type:_.FRAME_TYPES.CANCEL}}(s,S,se);case _.FRAME_TYPES.LEASE:return function Ie(s,v,y,S){(0,b.default)(0===v,"RSocketBinaryFraming: Invalid LEASE frame, expected stream id to be 0.");const O=s.length;let Q=6;const se=s.readUInt32BE(Q);Q+=4;const ce=s.readUInt32BE(Q);Q+=4;let ve=null;return Q<s.length&&(ve=S.metadata.decode(s,Q,s.length)),{flags:y,length:O,metadata:ve,requestCount:ce,streamId:v,ttl:se,type:_.FRAME_TYPES.LEASE}}(s,S,se,v);default:(0,b.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,_.getFrameTypeName)(Q))}}function x(s,v){switch(v=v||c.Utf8Encoders,s.type){case _.FRAME_TYPES.SETUP:return function U(s,v){const y=null!=s.resumeToken?v.resumeToken.byteLength(s.resumeToken):0,S=null!=s.metadataMimeType?v.metadataMimeType.byteLength(s.metadataMimeType):0,O=null!=s.dataMimeType?v.dataMimeType.byteLength(s.dataMimeType):0,Q=ot(s,v),se=(0,k.createBuffer)(20+(y?2+y:0)+S+O+Q);let ce=De(s,se);return ce=se.writeUInt16BE(s.majorVersion,ce),ce=se.writeUInt16BE(s.minorVersion,ce),ce=se.writeUInt32BE(s.keepAlive,ce),ce=se.writeUInt32BE(s.lifetime,ce),s.flags&_.FLAGS.RESUME_ENABLE&&(ce=se.writeUInt16BE(y,ce),null!=s.resumeToken&&(ce=v.resumeToken.encode(s.resumeToken,se,ce,ce+y))),ce=se.writeUInt8(S,ce),null!=s.metadataMimeType&&(ce=v.metadataMimeType.encode(s.metadataMimeType,se,ce,ce+S)),ce=se.writeUInt8(O,ce),null!=s.dataMimeType&&(ce=v.dataMimeType.encode(s.dataMimeType,se,ce,ce+O)),m(s,se,v,ce),se}(s,v);case _.FRAME_TYPES.PAYLOAD:return function Ge(s,v){const y=ot(s,v),S=(0,k.createBuffer)(6+y);return m(s,S,v,De(s,S)),S}(s,v);case _.FRAME_TYPES.ERROR:return function ae(s,v){const y=null!=s.message?v.message.byteLength(s.message):0,S=(0,k.createBuffer)(10+y);let O=De(s,S);return O=S.writeUInt32BE(s.code,O),null!=s.message&&v.message.encode(s.message,S,O,O+y),S}(s,v);case _.FRAME_TYPES.KEEPALIVE:return function I(s,v){const y=null!=s.data?v.data.byteLength(s.data):0,S=(0,k.createBuffer)(14+y);let O=De(s,S);return O=(0,k.writeUInt64BE)(S,s.lastReceivedPosition,O),null!=s.data&&v.data.encode(s.data,S,O,O+y),S}(s,v);case _.FRAME_TYPES.REQUEST_FNF:case _.FRAME_TYPES.REQUEST_RESPONSE:return function Ne(s,v){const y=ot(s,v),S=(0,k.createBuffer)(6+y);return m(s,S,v,De(s,S)),S}(s,v);case _.FRAME_TYPES.REQUEST_STREAM:case _.FRAME_TYPES.REQUEST_CHANNEL:return function me(s,v){const y=ot(s,v),S=(0,k.createBuffer)(10+y);let O=De(s,S);return O=S.writeUInt32BE(s.requestN,O),m(s,S,v,O),S}(s,v);case _.FRAME_TYPES.METADATA_PUSH:return function yt(s,v){const y=s.metadata;if(null!=y){const S=(0,k.createBuffer)(6+v.metadata.byteLength(y)),O=De(s,S);return v.metadata.encode(y,S,O,S.length),S}{const S=(0,k.createBuffer)(6);return De(s,S),S}}(s,v);case _.FRAME_TYPES.REQUEST_N:return function Ve(s,v){const y=(0,k.createBuffer)(10),S=De(s,y);return y.writeUInt32BE(s.requestN,S),y}(s);case _.FRAME_TYPES.RESUME:return function Ue(s,v){const y=v.resumeToken.byteLength(s.resumeToken),S=(0,k.createBuffer)(28+y);let O=De(s,S);return O=S.writeUInt16BE(s.majorVersion,O),O=S.writeUInt16BE(s.minorVersion,O),O=S.writeUInt16BE(y,O),O=v.resumeToken.encode(s.resumeToken,S,O,O+y),O=(0,k.writeUInt64BE)(S,s.serverPosition,O),(0,k.writeUInt64BE)(S,s.clientPosition,O),S}(s,v);case _.FRAME_TYPES.RESUME_OK:return function je(s,v){const y=(0,k.createBuffer)(14),S=De(s,y);return(0,k.writeUInt64BE)(y,s.clientPosition,S),y}(s);case _.FRAME_TYPES.CANCEL:return function ze(s,v){const y=(0,k.createBuffer)(6);return De(s,y),y}(s);case _.FRAME_TYPES.LEASE:return function de(s,v){const y=null!=s.metadata?v.metadata.byteLength(s.metadata):0,S=(0,k.createBuffer)(14+y);let O=De(s,S);return O=S.writeUInt32BE(s.ttl,O),O=S.writeUInt32BE(s.requestCount,O),null!=s.metadata&&v.metadata.encode(s.metadata,S,O,O+y),S}(s,v);default:(0,b.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,_.getFrameTypeName)(s.type))}}function De(s,v){const y=v.writeInt32BE(s.streamId,0);return v.writeUInt16BE(s.type<<_.FRAME_TYPE_OFFFSET|s.flags&_.FLAGS_MASK,y)}function ot(s,v){let y=0;return null!=s.data&&(y+=v.data.byteLength(s.data)),(0,_.isMetadata)(s.flags)&&(y+=3,null!=s.metadata&&(y+=v.metadata.byteLength(s.metadata))),y}function m(s,v,y,S){if((0,_.isMetadata)(s.flags))if(null!=s.metadata){const O=y.metadata.byteLength(s.metadata);S=(0,k.writeUInt24BE)(v,O,S),S=y.metadata.encode(s.metadata,v,S,S+O)}else S=(0,k.writeUInt24BE)(v,0,S);null!=s.data&&y.data.encode(s.data,v,S,v.length)}function d(s,v,y,S){if((0,_.isMetadata)(v.flags)){const O=(0,k.readUInt24BE)(s,S);S+=3,O>0&&(v.metadata=y.metadata.decode(s,S,S+O),S+=O)}S<s.length&&(v.data=y.data.decode(s,S,s.length))}},5441:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.readUInt24BE=function c(q,X){return q.readUInt8(X)<<16|q.readUInt8(X+1)<<8|q.readUInt8(X+2)},g.writeUInt24BE=function k(q,X,x){return x=q.writeUInt8(X>>>16,x),x=q.writeUInt8(X>>>8&255,x),q.writeUInt8(255&X,x)},g.readUInt64BE=function Y(q,X){const x=q.readUInt32BE(X),M=q.readUInt32BE(X+4);return x*_+M},g.writeUInt64BE=function B(q,X,x){const P=X%_;return x=q.writeUInt32BE(X/_|0,x),q.writeUInt32BE(P,x)},g.byteLength=function R(q,X){return null==q?0:b.LiteBuffer.byteLength(q,X)},g.createBuffer=g.toBuffer=void 0;var b=w(5873);const _=4294967296;g.toBuffer="function"==typeof b.LiteBuffer.from?(...q)=>q[0]instanceof b.LiteBuffer?q[0]:b.LiteBuffer.from.apply(b.LiteBuffer,q):(...q)=>q[0]instanceof b.LiteBuffer?q[0]:new(b.LiteBuffer.bind.apply(b.LiteBuffer,[b.LiteBuffer,...q])),g.createBuffer="function"==typeof b.LiteBuffer.alloc?q=>b.LiteBuffer.alloc(q):q=>new b.LiteBuffer(q).fill(0)},7075:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var b=w(2498),_=function V(x){return x&&x.__esModule?x:{default:x}}(w(583)),c=w(7814),k=w(2895),Y=w(7134),B=w(2506),R=w(8763),z=w(6770);g.default=class q{constructor(M){this._checkConfig(M),this._cancel=null,this._config=M,this._connection=null,this._socket=null}close(){this._config.transport.close()}connect(){return(0,_.default)(!this._connection,"RSocketClient: Unexpected call to connect(), already connected."),this._connection=new b.Single(M=>{const P=this._config.transport;let C;P.connectionStatus().subscribe({onNext:U=>{"CONNECTED"===U.kind?(C&&C.cancel(),M.onComplete(new X(this._config,new z.ReassemblyDuplexConnection(P)))):"ERROR"===U.kind?(C&&C.cancel(),M.onError(U.error)):"CLOSED"===U.kind&&(C&&C.cancel(),M.onError(new Error("RSocketClient: Connection closed.")))},onSubscribe:U=>{C=U,M.onSubscribe(()=>{U.cancel(),P.close()}),C.request(Number.MAX_SAFE_INTEGER)}}),P.connect()}),this._connection}_checkConfig(M){const P=M.setup,C=P&&P.keepAlive;try{const U=window&&window.navigator;C>3e4&&U&&U.userAgent&&(U.userAgent.includes("Trident")||U.userAgent.includes("Edg"))&&console.warn("rsocket-js: Due to a browser bug, Internet Explorer and Edge users may experience WebSocket instability with keepAlive values longer than 30 seconds.")}catch(U){}}};class X{constructor(M,P){let C,U;const L=M.leases;if(L){const N=L();C=new B.RequesterLeaseHandler(N._receiver),U=new B.ResponderLeaseHandler(N._sender,N._stats)}const{keepAlive:K,lifetime:J}=M.setup;this._machine=(0,Y.createClientMachine)(P,N=>P.receive().subscribe(N),J,M.serializers,M.responder,M.errorHandler,C,U),P.sendOne(this._buildSetupFrame(M));const ae=(0,b.every)(K).map(()=>({data:null,flags:c.FLAGS.RESPOND,lastReceivedPosition:0,streamId:c.CONNECTION_STREAM_ID,type:c.FRAME_TYPES.KEEPALIVE}));P.send(ae)}fireAndForget(M){this._machine.fireAndForget(M)}requestResponse(M){return this._machine.requestResponse(M)}requestStream(M){return this._machine.requestStream(M)}requestChannel(M){return this._machine.requestChannel(M)}metadataPush(M){return this._machine.metadataPush(M)}close(){this._machine.close()}connectionStatus(){return this._machine.connectionStatus()}availability(){return this._machine.availability()}_buildSetupFrame(M){const{dataMimeType:P,keepAlive:C,lifetime:U,metadataMimeType:L,payload:K}=M.setup,J=M.serializers||R.IdentitySerializers,ae=K?J.data.serialize(K.data):void 0,N=K?J.metadata.serialize(K.metadata):void 0;let h=0;return void 0!==N&&(h|=c.FLAGS.METADATA),{data:ae,dataMimeType:P,flags:h|(M.leases?c.FLAGS.LEASE:0),keepAlive:C,lifetime:U,majorVersion:k.MAJOR_VERSION,metadata:N,metadataMimeType:L,minorVersion:k.MINOR_VERSION,resumeToken:null,streamId:c.CONNECTION_STREAM_ID,type:c.FRAME_TYPES.SETUP}}}},2817:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.BufferEncoders=g.Utf8Encoders=g.BufferEncoder=g.UTF8Encoder=void 0;var b=w(5441),_=function c(z){return z&&z.__esModule?z:{default:z}}(w(583));const k={byteLength:z=>(0,b.byteLength)(z,"utf8"),decode:(z,V,q)=>z.toString("utf8",V,q),encode:(z,V,q,X)=>((0,_.default)("string"==typeof z,"RSocketEncoding: Expected value to be a string, got `%s`.",z),V.write(z,q,X-q,"utf8"),X)};g.UTF8Encoder=k;const Y={byteLength:z=>((0,_.default)(Buffer.isBuffer(z),"RSocketEncoding: Expected value to be a buffer, got `%s`.",z),z.length),decode:(z,V,q)=>z.slice(V,q),encode:(z,V,q,X)=>((0,_.default)(Buffer.isBuffer(z),"RSocketEncoding: Expected value to be a buffer, got `%s`.",z),z.copy(V,q,0,z.length),X)};g.BufferEncoder=Y,g.Utf8Encoders={data:k,dataMimeType:k,message:k,metadata:k,metadataMimeType:k,resumeToken:k},g.BufferEncoders={data:Y,dataMimeType:k,message:k,metadata:Y,metadataMimeType:k,resumeToken:Y}},7814:(Ee,g)=>{"use strict";function w(re,pe){var me=Object.keys(re);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(re);pe&&(Ae=Ae.filter(function(ke){return Object.getOwnPropertyDescriptor(re,ke).enumerable})),me.push.apply(me,Ae)}return me}function _(re,pe,me){return pe in re?Object.defineProperty(re,pe,{value:me,enumerable:!0,configurable:!0,writable:!0}):re[pe]=me,re}Object.defineProperty(g,"__esModule",{value:!0}),g.isIgnore=function h(re){return(re&B.IGNORE)===B.IGNORE},g.isMetadata=function H(re){return(re&B.METADATA)===B.METADATA},g.isComplete=function I(re){return(re&B.COMPLETE)===B.COMPLETE},g.isNext=function $(re){return(re&B.NEXT)===B.NEXT},g.isRespond=function te(re){return(re&B.RESPOND)===B.RESPOND},g.isResumeEnable=function oe(re){return(re&B.RESUME_ENABLE)===B.RESUME_ENABLE},g.isLease=function de(re){return(re&B.LEASE)===B.LEASE},g.isFollows=function ge(re){return(re&B.FOLLOWS)===B.FOLLOWS},g.isResumePositionFrameType=function Ie(re){return re===k.CANCEL||re===k.ERROR||re===k.PAYLOAD||re===k.REQUEST_CHANNEL||re===k.REQUEST_FNF||re===k.REQUEST_RESPONSE||re===k.REQUEST_STREAM||re===k.REQUEST_N},g.getFrameTypeName=Ne,g.createErrorFromFrame=function yt(re){const{code:pe,message:me}=re,Ae=Le(pe),ke=new Error(function Ce(re,...pe){let me=0;return re.replace(/%s/g,Ae=>pe[me++])}("RSocket error %s (%s): %s. See error `source` property for details.",Re(pe),Ae,me));return ke.source={code:pe,explanation:Ae,message:me},ke},g.getErrorCodeExplanation=Le,g.printFrame=function pt(re){const pe=function b(re){for(var pe=1;pe<arguments.length;pe++){var me=null!=arguments[pe]?arguments[pe]:{};pe%2?w(Object(me),!0).forEach(function(Ae){_(re,Ae,me[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(me)):w(Object(me)).forEach(function(Ae){Object.defineProperty(re,Ae,Object.getOwnPropertyDescriptor(me,Ae))})}return re}({},re);pe.type=Ne(re.type)+` (${Re(re.type)})`;const me=[];for(const Ae in B){const ke=B[Ae];(re.flags&ke)===ke&&me.push(Ae)}return me.length||me.push("NO FLAGS"),pe.flags=me.join(" | ")+` (${Re(re.flags)})`,re.type===k.ERROR&&(pe.code=Le(re.code)+` (${Re(re.code)})`),JSON.stringify(pe,null,2)},g.MAX_VERSION=g.MAX_TTL=g.MAX_STREAM_ID=g.MAX_RESUME_LENGTH=g.MAX_REQUEST_N=g.MAX_REQUEST_COUNT=g.MAX_MIME_LENGTH=g.MAX_METADATA_LENGTH=g.MAX_LIFETIME=g.MAX_KEEPALIVE=g.MAX_CODE=g.FRAME_TYPE_OFFFSET=g.FLAGS_MASK=g.ERROR_EXPLANATIONS=g.ERROR_CODES=g.FLAGS=g.FRAME_TYPE_NAMES=g.FRAME_TYPES=g.CONNECTION_STREAM_ID=void 0,g.CONNECTION_STREAM_ID=0;const k={CANCEL:9,ERROR:11,EXT:63,KEEPALIVE:3,LEASE:2,METADATA_PUSH:12,PAYLOAD:10,REQUEST_CHANNEL:7,REQUEST_FNF:5,REQUEST_N:8,REQUEST_RESPONSE:4,REQUEST_STREAM:6,RESERVED:0,RESUME:13,RESUME_OK:14,SETUP:1};g.FRAME_TYPES=k;const Y={};g.FRAME_TYPE_NAMES=Y;for(const re in k)Y[k[re]]=re;const B={COMPLETE:64,FOLLOWS:128,IGNORE:512,LEASE:64,METADATA:256,NEXT:32,RESPOND:128,RESUME_ENABLE:128};g.FLAGS=B;const R={APPLICATION_ERROR:513,CANCELED:515,CONNECTION_CLOSE:258,CONNECTION_ERROR:257,INVALID:516,INVALID_SETUP:1,REJECTED:514,REJECTED_RESUME:4,REJECTED_SETUP:3,RESERVED:0,RESERVED_EXTENSION:4294967295,UNSUPPORTED_SETUP:2};g.ERROR_CODES=R;const z={};g.ERROR_EXPLANATIONS=z;for(const re in R)z[R[re]]=re;function Ne(re){const pe=Y[re];return null!=pe?pe:Re(re)}function Le(re){const pe=z[re];return null!=pe?pe:re<=768?"RESERVED (PROTOCOL)":"RESERVED (APPLICATION)"}function Re(re){return"0x"+re.toString(16)}g.FLAGS_MASK=1023,g.FRAME_TYPE_OFFFSET=10,g.MAX_CODE=2147483647,g.MAX_KEEPALIVE=2147483647,g.MAX_LIFETIME=2147483647,g.MAX_METADATA_LENGTH=16777215,g.MAX_MIME_LENGTH=255,g.MAX_REQUEST_COUNT=2147483647,g.MAX_REQUEST_N=2147483647,g.MAX_RESUME_LENGTH=65535,g.MAX_STREAM_ID=2147483647,g.MAX_TTL=2147483647,g.MAX_VERSION=65535},2506:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ResponderLeaseHandler=g.RequesterLeaseHandler=g.Leases=g.Lease=void 0;var b=function k(X){return X&&X.__esModule?X:{default:X}}(w(583)),_=w(2498),c=w(7814);function Y(X,x,M){return x in X?Object.defineProperty(X,x,{value:M,enumerable:!0,configurable:!0,writable:!0}):X[x]=M,X}class B{constructor(x,M,P){(0,b.default)(x>0,"Lease time-to-live must be positive"),(0,b.default)(M>0,"Lease allowed requests must be positive"),this.timeToLiveMillis=x,this.allowedRequests=M,this.startingAllowedRequests=M,this.expiry=Date.now()+x,this.metadata=P}expired(){return Date.now()>this.expiry}valid(){return this.allowedRequests>0&&!this.expired()}_use(){if(this.expired())return!1;const x=this.allowedRequests,M=x>0;return M&&(this.allowedRequests=x-1),M}}function q(X){if(!X)return"Lease was not received yet";if(X.valid())return"Missing leases";{const x=X.expired(),M=X.allowedRequests;return`Missing leases. Expired: ${x.toString()}, allowedRequests: ${M}`}}g.Lease=B,g.Leases=class R{constructor(){Y(this,"_sender",()=>_.Flowable.never()),Y(this,"_receiver",x=>{})}sender(x){return this._sender=x,this}receiver(x){return this._receiver=x,this}stats(x){return this._stats=x,this}},g.RequesterLeaseHandler=class z{constructor(x){Y(this,"_requestN",-1),x(new _.Flowable(M=>{this._subscriber?M.onError(new Error("only 1 subscriber is allowed")):this.isDisposed()?M.onComplete():(this._subscriber=M,M.onSubscribe({cancel:()=>{this.dispose()},request:P=>{if(P<=0&&M.onError(new Error(`request demand must be positive: ${P}`)),!this.isDisposed()){const C=this._requestN;this._onRequestN(C),this._requestN=Math.min(Number.MAX_SAFE_INTEGER,Math.max(0,C)+P)}}}))}))}use(){const x=this._lease;return!!x&&x._use()}errorMessage(){return q(this._lease)}receive(x){this.isDisposed()||this._onLease(new B(x.ttl,x.requestCount,x.metadata))}availability(){const x=this._lease;return x&&x.valid()?x.allowedRequests/x.startingAllowedRequests:0}dispose(){if(!this._isDisposed){this._isDisposed=!0;const x=this._subscriber;x&&x.onComplete()}}isDisposed(){return this._isDisposed}_onRequestN(x){const M=this._lease,P=this._subscriber;x<0&&M&&P&&P.onNext(M)}_onLease(x){const M=this._subscriber,P=this._requestN-1;P>=0&&M&&M.onNext(x),this._requestN=Math.max(-1,P),this._lease=x}},g.ResponderLeaseHandler=class V{constructor(x,M,P){this._leaseSender=x,this._stats=M,this._errorConsumer=P}use(){const x=this._lease,M=!!x&&x._use();return this._onStatsEvent(M),M}errorMessage(){return q(this._lease)}send(x){let M,P;return this._leaseSender(this._stats).subscribe({onComplete:()=>this._onStatsEvent(),onError:C=>{this._onStatsEvent();const U=this._errorConsumer;U&&U(C)},onNext:C=>{this._lease=C,x(C)},onSubscribe:C=>{P?C.cancel():(C.request(c.MAX_REQUEST_N),M=C)}}),{dispose(){P||(P=!0,this._onStatsEvent(),M&&M.cancel())},isDisposed:()=>P}}_onStatsEvent(x){const M=this._stats;M&&M.onEvent(void 0===x?"Terminate":x?"Accept":"Reject")}}},7134:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.createServerMachine=function V(P,C,U,L,K,J,ae){return new X("SERVER",P,C,U,L,void 0,K,J,ae)},g.createClientMachine=function q(P,C,U,L,K,J,ae,N){return new X("CLIENT",P,C,U,L,K,J,ae,N)};var b=w(2498),_=w(7814),c=w(8763);function Y(P,C){var U=Object.keys(P);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(P);C&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(P,K).enumerable})),U.push.apply(U,L)}return U}function B(P){for(var C=1;C<arguments.length;C++){var U=null!=arguments[C]?arguments[C]:{};C%2?Y(Object(U),!0).forEach(function(L){R(P,L,U[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(U)):Y(Object(U)).forEach(function(L){Object.defineProperty(P,L,Object.getOwnPropertyDescriptor(U,L))})}return P}function R(P,C,U){return C in P?Object.defineProperty(P,C,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[C]=U,P}w(2506);class z{constructor(C){this._responder=C||{}}setResponder(C){this._responder=C||{}}fireAndForget(C){if(this._responder.fireAndForget)try{this._responder.fireAndForget(C)}catch(U){console.error("fireAndForget threw an exception",U)}}requestResponse(C){let U;if(this._responder.requestResponse)try{return this._responder.requestResponse(C)}catch(L){console.error("requestResponse threw an exception",L),U=L}return b.Single.error(U||new Error("not implemented"))}requestStream(C){let U;if(this._responder.requestStream)try{return this._responder.requestStream(C)}catch(L){console.error("requestStream threw an exception",L),U=L}return b.Flowable.error(U||new Error("not implemented"))}requestChannel(C){let U;if(this._responder.requestChannel)try{return this._responder.requestChannel(C)}catch(L){console.error("requestChannel threw an exception",L),U=L}return b.Flowable.error(U||new Error("not implemented"))}metadataPush(C){let U;if(this._responder.metadataPush)try{return this._responder.metadataPush(C)}catch(L){console.error("metadataPush threw an exception",L),U=L}return b.Single.error(U||new Error("not implemented"))}}class X{constructor(C,U,L,K,J,ae,N,h,H){R(this,"_connectionAvailability",1),R(this,"_handleTransportClose",()=>{this._handleError(new Error("RSocket: The connection was closed."))}),R(this,"_handleError",oe=>{this._receivers.forEach(ge=>{ge.onError(oe)}),this._receivers.clear(),this._subscriptions.forEach(ge=>{ge.cancel()}),this._subscriptions.clear(),this._connectionAvailability=0,this._dispose(this._requesterLeaseHandler,this._responderLeaseSenderDisposable);const de=this._keepAliveTimerHandle;de&&(clearTimeout(de),this._keepAliveTimerHandle=null)}),R(this,"_handleFrame",oe=>{const{streamId:de}=oe;de===_.CONNECTION_STREAM_ID?this._handleConnectionFrame(oe):this._handleStreamFrame(de,oe)}),this._connection=U,this._requesterLeaseHandler=h,this._responderLeaseHandler=H,this._nextStreamId="CLIENT"===C?1:2,this._receivers=new Map,this._subscriptions=new Map,this._serializers=J||c.IdentitySerializers,this._requestHandler=new z(ae),this._errorHandler=N,L({onComplete:this._handleTransportClose,onError:this._handleError,onNext:this._handleFrame,onSubscribe:oe=>oe.request(Number.MAX_SAFE_INTEGER)});const I=this._responderLeaseHandler;I&&(this._responderLeaseSenderDisposable=I.send(this._leaseFrameSender())),this._connection.connectionStatus().subscribe({onNext:oe=>{"CLOSED"===oe.kind?this._handleTransportClose():"ERROR"===oe.kind&&this._handleError(oe.error)},onSubscribe:oe=>oe.request(Number.MAX_SAFE_INTEGER)}),this._keepAliveLastReceivedMillis=Date.now();const te=()=>{const de=Date.now()-this._keepAliveLastReceivedMillis;de>=K?this._handleConnectionError(new Error(`No keep-alive acks for ${K} millis`)):this._keepAliveTimerHandle=setTimeout(te,Math.max(100,K-de))};this._keepAliveTimerHandle=setTimeout(te,K)}setRequestHandler(C){this._requestHandler.setResponder(C)}close(){this._connection.close()}connectionStatus(){return this._connection.connectionStatus()}availability(){const C=this._requesterLeaseHandler,U=C?C.availability():1;return Math.min(this._connectionAvailability,U)}fireAndForget(C){if(this._useLeaseOrError(this._requesterLeaseHandler))return;const U=this._getNextStreamId(this._receivers),L=this._serializers.data.serialize(C.data),K=this._serializers.metadata.serialize(C.metadata);this._connection.sendOne({data:L,flags:void 0!==C.metadata?_.FLAGS.METADATA:0,metadata:K,streamId:U,type:_.FRAME_TYPES.REQUEST_FNF})}requestResponse(C){const U=this._useLeaseOrError(this._requesterLeaseHandler);if(U)return b.Single.error(new Error(U));const L=this._getNextStreamId(this._receivers);return new b.Single(K=>{this._receivers.set(L,{onComplete:()=>{},onError:h=>K.onError(h),onNext:h=>K.onComplete(h)});const J=this._serializers.data.serialize(C.data),ae=this._serializers.metadata.serialize(C.metadata);this._connection.sendOne({data:J,flags:void 0!==C.metadata?_.FLAGS.METADATA:0,metadata:ae,streamId:L,type:_.FRAME_TYPES.REQUEST_RESPONSE}),K.onSubscribe(()=>{this._receivers.delete(L),this._connection.sendOne({flags:0,streamId:L,type:_.FRAME_TYPES.CANCEL})})})}requestStream(C){const U=this._useLeaseOrError(this._requesterLeaseHandler);if(U)return b.Flowable.error(new Error(U));const L=this._getNextStreamId(this._receivers);return new b.Flowable(K=>{this._receivers.set(L,K);let J=!1;K.onSubscribe({cancel:()=>{this._receivers.delete(L),J&&this._connection.sendOne({flags:0,streamId:L,type:_.FRAME_TYPES.CANCEL})},request:ae=>{if(ae>_.MAX_REQUEST_N&&(ae=_.MAX_REQUEST_N),J)this._connection.sendOne({flags:0,requestN:ae,streamId:L,type:_.FRAME_TYPES.REQUEST_N});else{J=!0;const N=this._serializers.data.serialize(C.data),h=this._serializers.metadata.serialize(C.metadata);this._connection.sendOne({data:N,flags:void 0!==C.metadata?_.FLAGS.METADATA:0,metadata:h,requestN:ae,streamId:L,type:_.FRAME_TYPES.REQUEST_STREAM})}}})},_.MAX_REQUEST_N)}requestChannel(C){const U=this._useLeaseOrError(this._requesterLeaseHandler);if(U)return b.Flowable.error(new Error(U));const L=this._getNextStreamId(this._receivers);let K=!1;return new b.Flowable(J=>{try{this._receivers.set(L,J);let ae=!1;J.onSubscribe({cancel:()=>{this._receivers.delete(L),ae&&this._connection.sendOne({flags:0,streamId:L,type:_.FRAME_TYPES.CANCEL})},request:N=>{N>_.MAX_REQUEST_N&&(N=_.MAX_REQUEST_N),ae?this._connection.sendOne({flags:0,requestN:N,streamId:L,type:_.FRAME_TYPES.REQUEST_N}):K?console.warn("RSocketClient: re-entrant call to request n before initial channel established."):(K=!0,C.subscribe({onComplete:()=>{this._sendStreamComplete(L)},onError:h=>{this._sendStreamError(L,h.message)},onNext:h=>{const H=this._serializers.data.serialize(h.data),I=this._serializers.metadata.serialize(h.metadata);ae?this._connection.sendOne({data:H,flags:_.FLAGS.NEXT|(void 0!==h.metadata?_.FLAGS.METADATA:0),metadata:I,streamId:L,type:_.FRAME_TYPES.PAYLOAD}):(ae=!0,this._connection.sendOne({data:H,flags:void 0!==h.metadata?_.FLAGS.METADATA:0,metadata:I,requestN:N,streamId:L,type:_.FRAME_TYPES.REQUEST_CHANNEL}))},onSubscribe:h=>{this._subscriptions.set(L,h),h.request(1)}}))}})}catch(ae){console.warn("Exception while subscribing to channel flowable:"+ae)}},_.MAX_REQUEST_N)}metadataPush(C){return new b.Single(U=>{const L=this._serializers.metadata.serialize(C.metadata);this._connection.sendOne({flags:0,metadata:L,streamId:0,type:_.FRAME_TYPES.METADATA_PUSH}),U.onSubscribe(()=>{}),U.onComplete()})}_getNextStreamId(C){const U=this._nextStreamId;do{this._nextStreamId=this._nextStreamId+2&_.MAX_STREAM_ID}while(0===this._nextStreamId||C.has(U));return U}_useLeaseOrError(C){if(C&&!C.use())return C.errorMessage()}_leaseFrameSender(){return C=>this._connection.sendOne({flags:0,metadata:C.metadata,requestCount:C.allowedRequests,streamId:_.CONNECTION_STREAM_ID,ttl:C.timeToLiveMillis,type:_.FRAME_TYPES.LEASE})}_dispose(...C){C.forEach(U=>{U&&U.dispose()})}_isRequest(C){switch(C){case _.FRAME_TYPES.REQUEST_FNF:case _.FRAME_TYPES.REQUEST_RESPONSE:case _.FRAME_TYPES.REQUEST_STREAM:case _.FRAME_TYPES.REQUEST_CHANNEL:return!0;default:return!1}}_handleConnectionError(C){this._handleError(C),this._connection.close();const U=this._errorHandler;U&&U(C)}_handleConnectionFrame(C){switch(C.type){case _.FRAME_TYPES.ERROR:const U=(0,_.createErrorFromFrame)(C);this._handleConnectionError(U);break;case _.FRAME_TYPES.EXT:break;case _.FRAME_TYPES.KEEPALIVE:this._keepAliveLastReceivedMillis=Date.now(),(0,_.isRespond)(C.flags)&&this._connection.sendOne(B(B({},C),{},{flags:C.flags^_.FLAGS.RESPOND,lastReceivedPosition:0}));break;case _.FRAME_TYPES.LEASE:const L=this._requesterLeaseHandler;L&&L.receive(C);break;case _.FRAME_TYPES.METADATA_PUSH:this._handleMetadataPush(C)}}_handleStreamFrame(C,U){if(this._isRequest(U.type)){const L=this._useLeaseOrError(this._responderLeaseHandler);if(L)return void this._sendStreamError(C,L)}switch(U.type){case _.FRAME_TYPES.CANCEL:this._handleCancel(C,U);break;case _.FRAME_TYPES.REQUEST_N:this._handleRequestN(C,U);break;case _.FRAME_TYPES.REQUEST_FNF:this._handleFireAndForget(C,U);break;case _.FRAME_TYPES.REQUEST_RESPONSE:this._handleRequestResponse(C,U);break;case _.FRAME_TYPES.REQUEST_STREAM:this._handleRequestStream(C,U);break;case _.FRAME_TYPES.REQUEST_CHANNEL:this._handleRequestChannel(C,U);break;case _.FRAME_TYPES.ERROR:const L=(0,_.createErrorFromFrame)(U);this._handleStreamError(C,L);break;case _.FRAME_TYPES.PAYLOAD:const K=this._receivers.get(C);if(null!=K){if((0,_.isNext)(U.flags)){const J={data:this._serializers.data.deserialize(U.data),metadata:this._serializers.metadata.deserialize(U.metadata)};K.onNext(J)}(0,_.isComplete)(U.flags)&&(this._receivers.delete(C),K.onComplete())}}}_handleCancel(C,U){const L=this._subscriptions.get(C);L&&(L.cancel(),this._subscriptions.delete(C))}_handleRequestN(C,U){const L=this._subscriptions.get(C);L&&L.request(U.requestN)}_handleFireAndForget(C,U){const L=this._deserializePayload(U);this._requestHandler.fireAndForget(L)}_handleRequestResponse(C,U){const L=this._deserializePayload(U);this._requestHandler.requestResponse(L).subscribe({onComplete:K=>{this._sendStreamPayload(C,K,!0)},onError:K=>this._sendStreamError(C,K.message),onSubscribe:K=>{this._subscriptions.set(C,{cancel:K,request:()=>{}})}})}_handleRequestStream(C,U){const L=this._deserializePayload(U);this._requestHandler.requestStream(L).subscribe({onComplete:()=>this._sendStreamComplete(C),onError:K=>this._sendStreamError(C,K.message),onNext:K=>this._sendStreamPayload(C,K),onSubscribe:K=>{this._subscriptions.set(C,K),K.request(U.requestN)}})}_handleRequestChannel(C,U){if(this._subscriptions.get(C))return;const K=new b.Flowable(ae=>{let N=!0;ae.onSubscribe({cancel:()=>{this._receivers.delete(C),this._connection.sendOne({flags:0,streamId:C,type:_.FRAME_TYPES.CANCEL})},request:h=>{h>_.MAX_REQUEST_N&&(h=_.MAX_REQUEST_N),N&&h--,h>0&&this._connection.sendOne({flags:0,requestN:h,streamId:C,type:_.FRAME_TYPES.REQUEST_N}),N&&h>=0&&(N=!1,ae.onNext(U))}})},_.MAX_REQUEST_N),J=new b.FlowableProcessor(K,ae=>this._deserializePayload(ae));this._receivers.set(C,J),this._requestHandler.requestChannel(J).subscribe({onComplete:()=>this._sendStreamComplete(C),onError:ae=>this._sendStreamError(C,ae.message),onNext:ae=>this._sendStreamPayload(C,ae),onSubscribe:ae=>{this._subscriptions.set(C,ae),ae.request(U.requestN)}})}_handleMetadataPush(C){const U=this._deserializeMetadataPushPayload(C);this._requestHandler.metadataPush(U).subscribe({onComplete:()=>{},onError:L=>{},onSubscribe:L=>{}})}_sendStreamComplete(C){this._subscriptions.delete(C),this._connection.sendOne({data:null,flags:_.FLAGS.COMPLETE,metadata:null,streamId:C,type:_.FRAME_TYPES.PAYLOAD})}_sendStreamError(C,U){this._subscriptions.delete(C),this._connection.sendOne({code:_.ERROR_CODES.APPLICATION_ERROR,flags:0,message:U,streamId:C,type:_.FRAME_TYPES.ERROR});const L=new Error(`terminated from the requester: ${U}`);this._handleStreamError(C,L)}_sendStreamPayload(C,U,L=!1){let K=_.FLAGS.NEXT;L&&(K|=_.FLAGS.COMPLETE,this._subscriptions.delete(C));const J=this._serializers.data.serialize(U.data),ae=this._serializers.metadata.serialize(U.metadata);this._connection.sendOne({data:J,flags:K,metadata:ae,streamId:C,type:_.FRAME_TYPES.PAYLOAD})}_deserializePayload(C){return function x(P,C){return{data:P.data.deserialize(C.data),metadata:P.metadata.deserialize(C.metadata)}}(this._serializers,C)}_deserializeMetadataPushPayload(C){return function M(P,C){return{data:null,metadata:P.metadata.deserialize(C.metadata)}}(this._serializers,C)}_handleStreamError(C,U){const L=this._receivers.get(C);null!=L&&(this._receivers.delete(C),L.onError(U))}}},1414:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var b=w(2498),_=function B(X){return X&&X.__esModule?X:{default:X}}(w(583)),c=w(7814),k=w(4672),Y=w(1598);function R(X,x){var M=Object.keys(X);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(X);x&&(P=P.filter(function(C){return Object.getOwnPropertyDescriptor(X,C).enumerable})),M.push.apply(M,P)}return M}function z(X){for(var x=1;x<arguments.length;x++){var M=null!=arguments[x]?arguments[x]:{};x%2?R(Object(M),!0).forEach(function(P){V(X,P,M[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(M)):R(Object(M)).forEach(function(P){Object.defineProperty(X,P,Object.getOwnPropertyDescriptor(M,P))})}return X}function V(X,x,M){return x in X?Object.defineProperty(X,x,{value:M,enumerable:!0,configurable:!0,writable:!0}):X[x]=M,X}g.default=class q{constructor(x,M,P){(0,_.default)(M.bufferSize>=0,"RSocketResumableTransport: bufferSize option must be >= 0, got `%s`.",M.bufferSize),this._encoders=P,this._bufferSize=M.bufferSize,this._sentFramesSize=0,this._position={client:0,server:0},this._currentConnection=null,this._statusSubscription=null,this._receiveSubscription=null,this._receivers=new Set,this._resumeToken=M.resumeToken,this._sessionTimeoutMillis=1e3*M.sessionDurationSeconds,this._sessionTimeoutHandle=null,this._senders=new Set,this._sentFrames=[],this._setupFrame=null,this._source=x,this._status=k.CONNECTION_STATUS.NOT_CONNECTED,this._statusSubscribers=new Set}close(){this._close()}connect(){(0,_.default)(!this._isTerminated(),"RSocketResumableTransport: Cannot connect(), connection terminated (%s: %s).",this._status.kind,"ERROR"===this._status.kind?this._status.error.message:"no message");try{this._disconnect(),this._currentConnection=null,this._receiveSubscription=null,this._statusSubscription=null,this._setConnectionStatus(k.CONNECTION_STATUS.CONNECTING);const x=this._source();x.connectionStatus().subscribe({onNext:M=>{M.kind!==this._status.kind&&("CONNECTED"===M.kind?(this._sessionTimeoutHandle&&(clearTimeout(this._sessionTimeoutHandle),this._sessionTimeoutHandle=null),null==this._setupFrame?this._handleConnected(x):this._handleResume(x)):this._isTerminationStatus(M)&&(this._sessionTimeoutHandle||(this._sessionTimeoutHandle=setTimeout(()=>this._close(this._resumeTimeoutError()),this._sessionTimeoutMillis)),this._disconnect(),this._setConnectionStatus(k.CONNECTION_STATUS.NOT_CONNECTED)))},onSubscribe:M=>{this._statusSubscription=M,M.request(Number.MAX_SAFE_INTEGER)}}),x.connect()}catch(x){this._close(x)}}connectionStatus(){return new b.Flowable(x=>{x.onSubscribe({cancel:()=>{this._statusSubscribers.delete(x)},request:()=>{this._statusSubscribers.add(x),x.onNext(this._status)}})})}receive(){return new b.Flowable(x=>{let M=!1;x.onSubscribe({cancel:()=>{this._receivers.delete(x)},request:()=>{M||(M=!0,this._receivers.add(x))}})})}sendOne(x){try{this._writeFrame(x)}catch(M){this._close(M)}}send(x){let M;x.subscribe({onComplete:()=>{M&&this._senders.delete(M)},onError:P=>{M&&this._senders.delete(M),this._close(P)},onNext:P=>this._writeFrame(P),onSubscribe:P=>{M=P,this._senders.add(M),M.request(Number.MAX_SAFE_INTEGER)}})}_close(x){if(this._isTerminated())return;this._setConnectionStatus(x?{error:x,kind:"ERROR"}:k.CONNECTION_STATUS.CLOSED);const M=this._receivers;M.forEach(C=>C.onComplete()),M.clear();const P=this._senders;P.forEach(C=>C.cancel()),P.clear(),this._sentFrames.length=0,this._disconnect()}_disconnect(){this._statusSubscription&&(this._statusSubscription.cancel(),this._statusSubscription=null),this._receiveSubscription&&(this._receiveSubscription.cancel(),this._receiveSubscription=null),this._currentConnection&&(this._currentConnection.close(),this._currentConnection=null)}_handleConnected(x){this._currentConnection=x,this._flushFrames(),this._setConnectionStatus(k.CONNECTION_STATUS.CONNECTED),x.receive().subscribe({onNext:M=>{try{this._receiveFrame(M)}catch(P){this._close(P)}},onSubscribe:M=>{this._receiveSubscription=M,M.request(Number.MAX_SAFE_INTEGER)}})}_handleResume(x){x.receive().take(1).subscribe({onNext:P=>{try{if(P.type===c.FRAME_TYPES.RESUME_OK){const{clientPosition:C}=P;if(C<this._position.client)return void this._close(this._nonResumableStateError());let U=C-this._position.client,L=0;for(;U>0;){const K=this._onReleasedTailFrame(this._sentFrames[L]);if(!K)return void this._close(this._absentLengthError(P));U-=K,L++}if(0!==U)return void this._close(this._inconsistentImpliedPositionError());L>0&&this._sentFrames.splice(0,L),this._handleConnected(x)}else{const C=P.type===c.FRAME_TYPES.ERROR?(0,c.createErrorFromFrame)(P):new Error("RSocketResumableTransport: Resumption failed for an unspecified reason.");this._close(C)}}catch(C){this._close(C)}},onSubscribe:P=>{this._receiveSubscription=P,P.request(1)}});const M=this._setupFrame;(0,_.default)(M,"RSocketResumableTransport: Cannot resume, setup frame has not been sent."),x.sendOne({clientPosition:this._position.client,flags:0,majorVersion:M.majorVersion,minorVersion:M.minorVersion,resumeToken:this._resumeToken,serverPosition:this._position.server,streamId:c.CONNECTION_STREAM_ID,type:c.FRAME_TYPES.RESUME})}_absentLengthError(x){return new Error("RSocketResumableTransport: absent frame.length for type "+x.type)}_inconsistentImpliedPositionError(){return new Error("RSocketResumableTransport: local frames are inconsistent with remote implied position")}_nonResumableStateError(){return new Error("RSocketResumableTransport: resumption failed, server is missing frames that are no longer in the client buffer.")}_resumeTimeoutError(){return new Error("RSocketResumableTransport: resumable session timed out")}_isTerminated(){return this._isTerminationStatus(this._status)}_isTerminationStatus(x){const M=x.kind;return"CLOSED"===M||"ERROR"===M}_setConnectionStatus(x){x.kind!==this._status.kind&&(this._status=x,this._statusSubscribers.forEach(M=>M.onNext(x)))}_receiveFrame(x){(0,c.isResumePositionFrameType)(x.type)&&x.length&&(this._position.server+=x.length),this._receivers.forEach(M=>M.onNext(x))}_flushFrames(){this._sentFrames.forEach(x=>{const M=this._currentConnection;M&&M.sendOne(x)})}_onReleasedTailFrame(x){const M=x.length;if(M)return this._sentFramesSize-=M,this._position.client+=M,M}_writeFrame(x){if(x.type===c.FRAME_TYPES.SETUP&&(x=z(z({},x),{},{flags:x.flags|c.FLAGS.RESUME_ENABLE,resumeToken:this._resumeToken}),this._setupFrame=x),x.length=(0,Y.sizeOfFrame)(x,this._encoders),(0,c.isResumePositionFrameType)(x.type)){let P=this._bufferSize-this._sentFramesSize;const C=x.length;if(!C)return void this._close(this._absentLengthError(x));for(;P<C;){const U=this._sentFrames.shift();if(!U)break;{const L=this._onReleasedTailFrame(U);if(!L)return void this._close(this._absentLengthError(x));P+=L}}P>=C?(this._sentFrames.push(x),this._sentFramesSize+=C):this._position.client+=C}const M=this._currentConnection;M&&M.sendOne(x)}}},8763:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.IdentitySerializers=g.IdentitySerializer=g.JsonSerializers=g.JsonSerializer=void 0;var b=w(5873),_=function c(z){return z&&z.__esModule?z:{default:z}}(w(583));const k={deserialize:z=>{let V;return null==z?null:(V="string"==typeof z?z:b.LiteBuffer.isBuffer(z)?z.toString("utf8"):b.LiteBuffer.from(z).toString("utf8"),JSON.parse(V))},serialize:JSON.stringify};g.JsonSerializer=k,g.JsonSerializers={data:k,metadata:k};const B={deserialize:z=>((0,_.default)(null==z||"string"==typeof z||b.LiteBuffer.isBuffer(z)||z instanceof Uint8Array,"RSocketSerialization: Expected data to be a string, Buffer, or Uint8Array. Got `%s`.",z),z),serialize:z=>z};g.IdentitySerializer=B,g.IdentitySerializers={data:B,metadata:B}},4807:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,w(2498);var _=function z(M){return M&&M.__esModule?M:{default:M}}(w(583)),c=w(7814),k=w(8763),Y=w(7134),B=w(2506),R=w(6770);function V(M,P,C){return P in M?Object.defineProperty(M,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):M[P]=C,M}g.default=class q{constructor(P){V(this,"_handleTransportComplete",()=>{this._handleTransportError(new Error("RSocketServer: Connection closed unexpectedly."))}),V(this,"_handleTransportError",C=>{this._connections.forEach(U=>{U.close()})}),V(this,"_handleTransportConnection",C=>{const U=new X;let L;(C=new R.ReassemblyDuplexConnection(C)).receive().subscribe(U.swap({onError:K=>console.error(K),onNext:K=>{switch(K.type){case c.FRAME_TYPES.RESUME:C.sendOne({code:c.ERROR_CODES.REJECTED_RESUME,flags:0,message:"RSocketServer: RESUME not supported.",streamId:c.CONNECTION_STREAM_ID,type:c.FRAME_TYPES.ERROR}),C.close();break;case c.FRAME_TYPES.SETUP:if(this._setupLeaseError(K)){C.sendOne({code:c.ERROR_CODES.INVALID_SETUP,flags:0,message:"RSocketServer: LEASE not supported.",streamId:c.CONNECTION_STREAM_ID,type:c.FRAME_TYPES.ERROR}),C.close();break}const J=this._getSerializers();let ae,N;const h=this._config.leases;if(h){const I=h();ae=new B.RequesterLeaseHandler(I._receiver),N=new B.ResponderLeaseHandler(I._sender,I._stats)}const H=(0,Y.createServerMachine)(C,I=>{U.swap(I)},K.lifetime,J,this._config.errorHandler,ae,N);try{const I=this._config.getRequestHandler(H,function x(M,P){return{data:M.data.deserialize(P.data),metadata:M.metadata.deserialize(P.metadata)}}(J,K));H.setRequestHandler(I),this._connections.add(H),C.connectionStatus().subscribe({onNext:$=>{("CLOSED"===$.kind||"ERROR"===$.kind)&&this._connections.delete(H)},onSubscribe:$=>$.request(Number.MAX_SAFE_INTEGER)})}catch(I){C.sendOne({code:c.ERROR_CODES.REJECTED_SETUP,flags:0,message:"Application rejected setup, reason: "+I.message,streamId:c.CONNECTION_STREAM_ID,type:c.FRAME_TYPES.ERROR}),C.close()}break;default:(0,_.default)(!1,"RSocketServer: Expected first frame to be SETUP or RESUME, got `%s`.",(0,c.getFrameTypeName)(K.type))}},onSubscribe:K=>{L=K,L.request(1)}}))}),this._config=P,this._connections=new Set,this._started=!1,this._subscription=null}start(){(0,_.default)(!this._started,"RSocketServer: Unexpected call to start(), already started."),this._started=!0,this._config.transport.start().subscribe({onComplete:this._handleTransportComplete,onError:this._handleTransportError,onNext:this._handleTransportConnection,onSubscribe:P=>{this._subscription=P,P.request(Number.MAX_SAFE_INTEGER)}})}stop(){this._subscription&&this._subscription.cancel(),this._config.transport.stop(),this._handleTransportError(new Error("RSocketServer: Connection terminated via stop()."))}_getSerializers(){return this._config.serializers||k.IdentitySerializers}_setupLeaseError(P){return(P.flags&c.FLAGS.LEASE)===c.FLAGS.LEASE&&!this._config.leases}};class X{constructor(P){this._target=P}swap(P){return this._target=P,this._subscription&&this._target.onSubscribe&&this._target.onSubscribe(this._subscription),this}onComplete(){(0,_.default)(this._target,"must have target"),this._target.onComplete&&this._target.onComplete()}onError(P){(0,_.default)(this._target,"must have target"),this._target.onError&&this._target.onError(P)}onNext(P){(0,_.default)(this._target,"must have target"),this._target.onNext&&this._target.onNext(P)}onSubscribe(P){(0,_.default)(this._target,"must have target"),this._subscription=P,this._target.onSubscribe&&this._target.onSubscribe(P)}}},2895:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.MINOR_VERSION=g.MAJOR_VERSION=void 0,g.MAJOR_VERSION=1,g.MINOR_VERSION=0},6770:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.ReassemblyDuplexConnection=void 0;var b=w(5873),c=(w(2498),w(7814));g.ReassemblyDuplexConnection=class Y{constructor(V){this._source=V}sendOne(V){this._source.sendOne(V)}send(V){this._source.send(V)}receive(){return this._source.receive().lift(V=>new B(V))}close(){this._source.close()}connect(){this._source.connect()}connectionStatus(){return this._source.connectionStatus()}};class B{constructor(V){(function k(z,V,q){V in z?Object.defineProperty(z,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):z[V]=q})(this,"_framesReassemblyMap",new Map),this._actual=V}request(V){this._subscription.request(V)}cancel(){this._subscription.cancel(),this._framesReassemblyMap.clear()}onSubscribe(V){null==this._subscription?(this._subscription=V,this._actual.onSubscribe(this)):V.cancel()}onComplete(){this._actual.onComplete()}onError(V){this._actual.onError(V)}onNext(V){const q=V.streamId;if(q!==c.CONNECTION_STREAM_ID){const X=(0,c.isFollows)(V.flags),x=(0,c.isComplete)(V.flags),M=V.type===c.FRAME_TYPES.ERROR||V.type===c.FRAME_TYPES.CANCEL,P=this._framesReassemblyMap.get(q);if(P){if(!M)return P.metadata&&V.metadata&&(P.metadata=R(P.metadata,V.metadata)),P.data&&V.data?P.data=R(P.data,V.data):!P.data&&V.data&&(P.data=V.data),void((!X||x)&&(x&&(P.flags|=c.FLAGS.COMPLETE),this._framesReassemblyMap.delete(q),this._actual.onNext(P)));this._framesReassemblyMap.delete(q)}else if(X&&!x&&!M)return void this._framesReassemblyMap.set(q,V)}this._actual.onNext(V)}}const R=(z,V)=>{switch(z.constructor.name){case"String":return z+V;case"Uint8Array":const q=new Uint8Array(z.length+V.length);return q.set(z),q.set(V,z.length),q;default:return b.LiteBuffer.concat([z,V])}}},185:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.encodeRoutes=function k(...R){if(R.length<1)throw new Error("routes should be non empty array");return b.LiteBuffer.concat(R.map(z=>Y(z)))},g.encodeRoute=Y,g.decodeRoutes=B,g.RoutingMetadata=void 0;var b=w(5873),_=w(5441);class c{constructor(z){this._buffer=z}iterator(){return B(this._buffer)}[Symbol.iterator](){return B(this._buffer)}}function Y(R){const z=(0,_.toBuffer)(R,"utf8");if(z.length>255)throw new Error(`route length should fit into unsigned byte length but the given one is ${z.length}`);const V=(0,_.createBuffer)(1);return V.writeUInt8(z.length),b.LiteBuffer.concat([V,z])}function*B(R){const z=R.byteLength;let V=0;for(;V<z;){const q=R.readUInt8(V++);if(V+q>z)throw new Error(`Malformed RouteMetadata. Offset(${V}) + RouteLength(${q}) is greater than TotalLength`);const X=R.toString("utf8",V,V+q);V+=q,yield X}}g.RoutingMetadata=c},563:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.TYPES_BY_AUTH_STRING=g.TYPES_BY_AUTH_ID=g.BEARER=g.SIMPLE=g.UNKNOWN_RESERVED_AUTH_TYPE=g.UNPARSEABLE_AUTH_TYPE=g.default=void 0;class w{constructor(V,q){this._string=V,this._identifier=q}static fromIdentifier(V){return V<0||V>127?b:Y[V]}static fromString(V){if(!V)throw new Error("type must be non-null");return V===_.string?b:B.get(V)||b}get identifier(){return this._identifier}get string(){return this._string}toString(){return this._string}}g.default=w;const b=new w("UNPARSEABLE_AUTH_TYPE_DO_NOT_USE",-2);g.UNPARSEABLE_AUTH_TYPE=b;const _=new w("UNKNOWN_YET_RESERVED_DO_NOT_USE",-1);g.UNKNOWN_RESERVED_AUTH_TYPE=_;const c=new w("simple",0);g.SIMPLE=c;const k=new w("bearer",1);g.BEARER=k;const Y=new Array(128);g.TYPES_BY_AUTH_ID=Y;const B=new Map;g.TYPES_BY_AUTH_STRING=B;const R=[b,_,c,k];Y.fill(_);for(const z of R)z.identifier>=0&&(Y[z.identifier]=z,B.set(z.string,z));Object.seal&&Object.seal(Y)},4802:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.TYPES_BY_MIME_STRING=g.TYPES_BY_MIME_ID=g.MESSAGE_RSOCKET_COMPOSITE_METADATA=g.MESSAGE_RSOCKET_ROUTING=g.MESSAGE_RSOCKET_TRACING_ZIPKIN=g.MESSAGE_RSOCKET_AUTHENTICATION=g.MESSAGE_RSOCKET_ACCEPT_MIMETYPES=g.MESSAGE_RSOCKET_MIMETYPE=g.APPLICATION_CLOUDEVENTS_JSON=g.APPLICATION_JAVA_OBJECT=g.APPLICATION_HESSIAN=g.VIDEO_VP8=g.VIDEO_H265=g.VIDEO_H264=g.TEXT_XML=g.TEXT_PLAIN=g.TEXT_HTML=g.TEXT_CSV=g.TEXT_CSS=g.MULTIPART_MIXED=g.IMAGE_TIFF=g.IMAGE_PNG=g.IMAGE_JPEG=g.IMAGE_HEIF=g.IMAGE_HEIF_SEQUENCE=g.IMAGE_HEIC=g.IMAGE_HEIC_SEQUENCE=g.IMAGE_GIG=g.IMAGE_BMP=g.AUDIO_VORBIS=g.AUDIO_OPUS=g.AUDIO_OGG=g.AUDIO_MPEG=g.AUDIO_MPEG3=g.AUDIO_MP4=g.AUDIO_MP3=g.AUDIO_AAC=g.APPLICATION_ZIP=g.APPLICATION_XML=g.APPLICATION_PROTOBUF=g.APPLICATION_THRIFT=g.APPLICATION_PDF=g.APPLICATION_OCTET_STREAM=g.APPLICATION_JSON=g.APPLICATION_JAVASCRIPT=g.APPLICATION_GZIP=g.APPLICATION_GRAPHQL=g.APPLICATION_CBOR=g.APPLICATION_AVRO=g.UNKNOWN_RESERVED_MIME_TYPE=g.UNPARSEABLE_MIME_TYPE=g.default=void 0;class w{constructor(Ue,Nt){this._string=Ue,this._identifier=Nt}static fromIdentifier(Ue){return Ue<0||Ue>127?b:Ge[Ue]}static fromString(Ue){if(!Ue)throw new Error("type must be non-null");return Ue===_.string?b:rt.get(Ue)||b}get identifier(){return this._identifier}get string(){return this._string}toString(){return this._string}}g.default=w;const b=new w("UNPARSEABLE_MIME_TYPE_DO_NOT_USE",-2);g.UNPARSEABLE_MIME_TYPE=b;const _=new w("UNKNOWN_YET_RESERVED_DO_NOT_USE",-1);g.UNKNOWN_RESERVED_MIME_TYPE=_;const c=new w("application/avro",0);g.APPLICATION_AVRO=c;const k=new w("application/cbor",1);g.APPLICATION_CBOR=k;const Y=new w("application/graphql",2);g.APPLICATION_GRAPHQL=Y;const B=new w("application/gzip",3);g.APPLICATION_GZIP=B;const R=new w("application/javascript",4);g.APPLICATION_JAVASCRIPT=R;const z=new w("application/json",5);g.APPLICATION_JSON=z;const V=new w("application/octet-stream",6);g.APPLICATION_OCTET_STREAM=V;const q=new w("application/pdf",7);g.APPLICATION_PDF=q;const X=new w("application/vnd.apache.thrift.binary",8);g.APPLICATION_THRIFT=X;const x=new w("application/vnd.google.protobuf",9);g.APPLICATION_PROTOBUF=x;const M=new w("application/xml",10);g.APPLICATION_XML=M;const P=new w("application/zip",11);g.APPLICATION_ZIP=P;const C=new w("audio/aac",12);g.AUDIO_AAC=C;const U=new w("audio/mp3",13);g.AUDIO_MP3=U;const L=new w("audio/mp4",14);g.AUDIO_MP4=L;const K=new w("audio/mpeg3",15);g.AUDIO_MPEG3=K;const J=new w("audio/mpeg",16);g.AUDIO_MPEG=J;const ae=new w("audio/ogg",17);g.AUDIO_OGG=ae;const N=new w("audio/opus",18);g.AUDIO_OPUS=N;const h=new w("audio/vorbis",19);g.AUDIO_VORBIS=h;const H=new w("image/bmp",20);g.IMAGE_BMP=H;const I=new w("image/gif",21);g.IMAGE_GIG=I;const $=new w("image/heic-sequence",22);g.IMAGE_HEIC_SEQUENCE=$;const te=new w("image/heic",23);g.IMAGE_HEIC=te;const oe=new w("image/heif-sequence",24);g.IMAGE_HEIF_SEQUENCE=oe;const de=new w("image/heif",25);g.IMAGE_HEIF=de;const ge=new w("image/jpeg",26);g.IMAGE_JPEG=ge;const Ie=new w("image/png",27);g.IMAGE_PNG=Ie;const Ne=new w("image/tiff",28);g.IMAGE_TIFF=Ne;const Ce=new w("multipart/mixed",29);g.MULTIPART_MIXED=Ce;const yt=new w("text/css",30);g.TEXT_CSS=yt;const Le=new w("text/csv",31);g.TEXT_CSV=Le;const pt=new w("text/html",32);g.TEXT_HTML=pt;const Re=new w("text/plain",33);g.TEXT_PLAIN=Re;const re=new w("text/xml",34);g.TEXT_XML=re;const pe=new w("video/H264",35);g.VIDEO_H264=pe;const me=new w("video/H265",36);g.VIDEO_H265=me;const Ae=new w("video/VP8",37);g.VIDEO_VP8=Ae;const ke=new w("application/x-hessian",38);g.APPLICATION_HESSIAN=ke;const bt=new w("application/x-java-object",39);g.APPLICATION_JAVA_OBJECT=bt;const nt=new w("application/cloudevents+json",40);g.APPLICATION_CLOUDEVENTS_JSON=nt;const Ve=new w("message/x.rsocket.mime-type.v0",122);g.MESSAGE_RSOCKET_MIMETYPE=Ve;const ht=new w("message/x.rsocket.accept-mime-types.v0",123);g.MESSAGE_RSOCKET_ACCEPT_MIMETYPES=ht;const _t=new w("message/x.rsocket.authentication.v0",124);g.MESSAGE_RSOCKET_AUTHENTICATION=_t;const ze=new w("message/x.rsocket.tracing-zipkin.v0",125);g.MESSAGE_RSOCKET_TRACING_ZIPKIN=ze;const At=new w("message/x.rsocket.routing.v0",126);g.MESSAGE_RSOCKET_ROUTING=At;const et=new w("message/x.rsocket.composite-metadata.v0",127);g.MESSAGE_RSOCKET_COMPOSITE_METADATA=et;const Ge=new Array(128);g.TYPES_BY_MIME_ID=Ge;const rt=new Map;g.TYPES_BY_MIME_STRING=rt;const xt=[b,_,c,k,Y,B,R,z,V,q,X,x,M,P,C,U,L,K,J,ae,N,h,H,I,$,te,oe,de,ge,Ie,Ne,Ce,yt,Le,pt,Re,re,pe,me,Ae,ke,bt,nt,Ve,ht,_t,ze,At,et];Ge.fill(_);for(const qe of xt)qe.identifier>=0&&(Ge[qe.identifier]=qe,rt.set(qe.string,qe));Object.seal&&Object.seal(Ge)},2433:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"Zw",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(g,"BX",{enumerable:!0,get:function(){return z.deserializeFrame}}),Object.defineProperty(g,"A_",{enumerable:!0,get:function(){return z.deserializeFrameWithLength}}),Object.defineProperty(g,"mf",{enumerable:!0,get:function(){return z.serializeFrame}}),Object.defineProperty(g,"YS",{enumerable:!0,get:function(){return z.serializeFrameWithLength}}),Object.defineProperty(g,"Qi",{enumerable:!0,get:function(){return V.toBuffer}}),Object.defineProperty(g,"hz",{enumerable:!0,get:function(){return X.IdentitySerializer}}),Object.defineProperty(g,"H8",{enumerable:!0,get:function(){return X.JsonSerializer}});var _=K(w(7075)),z=(K(w(4807)),K(w(1414)),L(w(4802)),L(w(563)),w(7814),w(1598)),V=w(5441),X=(w(2817),w(8763));w(2506),w(7143),w(185),w(9656);function U(){if("function"!=typeof WeakMap)return null;var J=new WeakMap;return U=function(){return J},J}function L(J){if(J&&J.__esModule)return J;if(null===J||"object"!=typeof J&&"function"!=typeof J)return{default:J};var ae=U();if(ae&&ae.has(J))return ae.get(J);var N={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in J)if(Object.prototype.hasOwnProperty.call(J,H)){var I=h?Object.getOwnPropertyDescriptor(J,H):null;I&&(I.get||I.set)?Object.defineProperty(N,H,I):N[H]=J[H]}return N.default=J,ae&&ae.set(J,N),N}function K(J){return J&&J.__esModule?J:{default:J}}},9903:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var b=k(w(9763)),_=k(w(4299)),c=k(w(8830));function k(z){return z&&z.__esModule?z:{default:z}}function Y(z,V,q){return V in z?Object.defineProperty(z,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):z[V]=q,z}class B{static just(...V){return new B(q=>{let X=!1,x=0;q.onSubscribe({cancel:()=>{X=!0},request:M=>{for(;!X&&M>0&&x<V.length;)q.onNext(V[x++]),M--;!X&&x==V.length&&q.onComplete()}})})}static error(V){return new B(q=>{q.onSubscribe({cancel:()=>{},request:()=>{q.onError(V)}})})}static never(){return new B(V=>{V.onSubscribe({cancel:()=>{},request:()=>{}})})}constructor(V,q=Number.MAX_SAFE_INTEGER){this._max=q,this._source=V}subscribe(V){let q;q="function"==typeof V?this._wrapCallback(V):V;const X=new R(q,this._max);this._source(X)}lift(V){return new B(q=>this._source(V(q)))}map(V){return this.lift(q=>new b.default(q,V))}take(V){return this.lift(q=>new _.default(q,V))}_wrapCallback(V){const q=this._max;return{onNext:V,onSubscribe(X){X.request(q)}}}}g.default=B;class R{constructor(V,q){Y(this,"_cancel",()=>{!this._active||(this._active=!1,this._subscription&&this._subscription.cancel())}),Y(this,"_request",X=>{(0,c.default)(Number.isInteger(X)&&X>=1&&X<=this._max,"Flowable: Expected request value to be an integer with a value greater than 0 and less than or equal to %s, got `%s`.",this._max,X),this._active&&(X===this._max?this._pending=this._max:(this._pending+=X,this._pending>=this._max&&(this._pending=this._max)),this._subscription&&this._subscription.request(X))}),this._active=!1,this._max=q,this._pending=0,this._started=!1,this._subscriber=V||{},this._subscription=null}onComplete(){if(this._active){this._active=!1,this._started=!0;try{this._subscriber.onComplete&&this._subscriber.onComplete()}catch(V){this._subscriber.onError&&this._subscriber.onError(V)}}else console.warn("Flowable: Invalid call to onComplete(): %s.",this._started?"onComplete/onError was already called":"onSubscribe has not been called")}onError(V){!this._started||this._active?(this._active=!1,this._started=!0,this._subscriber.onError&&this._subscriber.onError(V)):console.warn("Flowable: Invalid call to onError(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onNext(V){if(this._active)if(0!==this._pending){this._pending!==this._max&&this._pending--;try{this._subscriber.onNext&&this._subscriber.onNext(V)}catch(q){this._subscription&&this._subscription.cancel(),this.onError(q)}}else console.warn("Flowable: Invalid call to onNext(), all request()ed values have been published.");else console.warn("Flowable: Invalid call to onNext(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onSubscribe(V){if(this._started)console.warn("Flowable: Invalid call to onSubscribe(): already called.");else{this._active=!0,this._started=!0,this._subscription=V;try{this._subscriber.onSubscribe&&this._subscriber.onSubscribe({cancel:this._cancel,request:this._request})}catch(q){this.onError(q)}}}}},9763:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,g.default=class w{constructor(_,c){this._fn=c,this._subscriber=_,this._subscription=null}onComplete(){this._subscriber.onComplete()}onError(_){this._subscriber.onError(_)}onNext(_){try{this._subscriber.onNext(this._fn(_))}catch(c){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onError(c)}}onSubscribe(_){this._subscription=_,this._subscriber.onSubscribe(_)}}},6170:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,g.default=class w{constructor(_,c){this._source=_,this._transformer=c,this._done=!1,this._mappers=[]}onSubscribe(_){this._subscription=_}onNext(_){if(!this._sink)return void console.warn("premature onNext for processor, dropping value");let c=_;this._transformer&&(c=this._transformer(_));const k=this._mappers.reduce((Y,B)=>B(Y),c);this._sink.onNext(k)}onError(_){this._error=_,this._sink?this._sink.onError(_):console.warn("premature onError for processor, marking complete/errored")}onComplete(){this._done=!0,this._sink?this._sink.onComplete():console.warn("premature onError for processor, marking complete")}subscribe(_){this._source.subscribe&&this._source.subscribe(this),this._sink=_,this._sink.onSubscribe(this),this._error?this._sink.onError(this._error):this._done&&this._sink.onComplete()}map(_){return this._mappers.push(_),this}request(_){this._subscription&&this._subscription.request(_)}cancel(){this._subscription&&this._subscription.cancel()}}},4299:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,g.default=class w{constructor(_,c){this._subscriber=_,this._subscription=null,this._toTake=c}onComplete(){this._subscriber.onComplete()}onError(_){this._subscriber.onError(_)}onNext(_){try{this._subscriber.onNext(_),0==--this._toTake&&this._cancelAndComplete()}catch(c){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onError(c)}}onSubscribe(_){this._subscription=_,this._subscriber.onSubscribe(_),this._toTake<=0&&this._cancelAndComplete()}_cancelAndComplete(){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onComplete()}}},9719:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.every=function c(k){return new b.default(Y=>{let B=null,R=0;Y.onSubscribe({cancel:()=>{null!=B&&(clearInterval(B),B=null)},request:z=>{z<Number.MAX_SAFE_INTEGER?R+=z:R=Number.MAX_SAFE_INTEGER,null==B&&(B=setInterval(()=>{R>0&&(R!==Number.MAX_SAFE_INTEGER&&R--,Y.onNext(Date.now()))},k))}})})};var b=function _(k){return k&&k.__esModule?k:{default:k}}(w(9903))},8830:Ee=>{"use strict";Ee.exports=function g(w,b,..._){if(!w){let c;if(void 0===b)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let k=0;c=new Error(b.replace(/%s/g,()=>String(_[k++]))),c.name="Invariant Violation"}throw c.framesToPop=1,c}}},1684:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;class w{static of(c){return new w(k=>{k.onSubscribe(),k.onComplete(c)})}static error(c){return new w(k=>{k.onSubscribe(),k.onError(c)})}static never(){return new w(c=>{c.onSubscribe()})}constructor(c){this._source=c}subscribe(c){const k=new b(c);try{this._source(k)}catch(Y){k.onError(Y)}}flatMap(c){return new w(k=>{let Y;const B=()=>{Y&&Y(),Y=null};this._source({onComplete:R=>{c(R).subscribe({onComplete:z=>{k.onComplete(z)},onError:z=>k.onError(z),onSubscribe:z=>{Y=z}})},onError:R=>k.onError(R),onSubscribe:R=>{Y=R,k.onSubscribe(B)}})})}map(c){return new w(k=>this._source({onComplete:Y=>k.onComplete(c(Y)),onError:Y=>k.onError(Y),onSubscribe:Y=>k.onSubscribe(Y)}))}then(c,k){this.subscribe({onComplete:c||(()=>{}),onError:k||(()=>{})})}}g.default=w;class b{constructor(c){this._active=!1,this._started=!1,this._subscriber=c||{}}onComplete(c){if(this._active){this._active=!1,this._started=!0;try{this._subscriber.onComplete&&this._subscriber.onComplete(c)}catch(k){this._subscriber.onError&&this._subscriber.onError(k)}}else console.warn("Single: Invalid call to onComplete(): %s.",this._started?"onComplete/onError was already called":"onSubscribe has not been called")}onError(c){!this._started||this._active?(this._active=!1,this._started=!0,this._subscriber.onError&&this._subscriber.onError(c)):console.warn("Single: Invalid call to onError(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onSubscribe(c){if(this._started)console.warn("Single: Invalid call to onSubscribe(): already called.");else{this._active=!0,this._started=!0;try{this._subscriber.onSubscribe&&this._subscriber.onSubscribe(()=>{!this._active||(this._active=!1,c&&c())})}catch(k){this.onError(k)}}}}},2498:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"Flowable",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(g,"Single",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(g,"FlowableProcessor",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(g,"every",{enumerable:!0,get:function(){return k.every}});var b=Y(w(9903)),_=Y(w(1684)),c=Y(w(6170)),k=w(9719);function Y(B){return B&&B.__esModule?B:{default:B}}},5010:(Ee,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.CONNECTION_STATUS=void 0;const w={CLOSED:Object.freeze({kind:"CLOSED"}),CONNECTED:Object.freeze({kind:"CONNECTED"}),CONNECTING:Object.freeze({kind:"CONNECTING"}),NOT_CONNECTED:Object.freeze({kind:"NOT_CONNECTED"})};g.CONNECTION_STATUS=w},4119:()=>{},4672:(Ee,g,w)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var b=w(5010);Object.keys(b).forEach(function(c){"default"===c||"__esModule"===c||c in g&&g[c]===b[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return b[c]}})});var _=w(4119);Object.keys(_).forEach(function(c){"default"===c||"__esModule"===c||c in g&&g[c]===_[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return _[c]}})})},3104:(Ee,g,w)=>{"use strict";w.r(g),w.d(g,{CalendarMonthViewComponent:()=>zg});var b=w(6893),_=w(1048),c=w(9724),k=w(1816);function Y(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.close())}),c.qZA()}if(2&t){const e=c.oxw();c.Jzz("z-index:",e.zIndex,"")}}function B(t,n){if(1&t&&(c.TgZ(0,"div",3),c.Hsn(1),c.qZA()),2&t){const e=c.oxw();c.Jzz("z-index:",e.zIndex+1,""),c.ekj("front-mobile",e.isMobile&&!e.slideFromLeft)("front-big",!e.slideFromLeft&&e.bigSize&&!e.isMobile)("front-small",!e.slideFromLeft&&!e.bigSize&&!e.isMobile)("slide-left",e.slideFromLeft&&!e.closing)("slide-right",!e.slideFromLeft&&!e.closing)("slide-left-close",e.slideFromLeft&&e.closing)("slide-right-close",!e.slideFromLeft&&e.closing)}}const R=["*"];let z=(()=>{class t{constructor(e,r){this.elementRef=e,this.deviceService=r,this.slideFromLeft=!1,this.bigSize=!1,this.zIndex=1,this.closed=new c.vpe,this.isShowing=!1,this.isMobile=!1,this.closing=!1,this.isMobile=this.deviceService.mobileViewport(),this.deviceService.$mobileViewport().subscribe(i=>{this.isMobile=i})}close(){const e=this.elementRef.nativeElement.querySelector(".front");if(!e)return this.isShowing=!1,void this.closed.emit();this.closing=!0,e.addEventListener("webkitAnimationEnd",()=>{this.closing=!1,this.isShowing=!1,this.closed.emit()}),e.addEventListener("animationend",()=>{this.closing=!1,this.isShowing=!1,this.closed.emit()})}show(){this.isShowing=!0}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(k.U8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["acerta-slide-out"]],inputs:{slideFromLeft:"slideFromLeft",bigSize:"bigSize",zIndex:"zIndex"},outputs:{closed:"closed"},ngContentSelectors:R,decls:2,vars:2,consts:[["class","back",3,"style","click",4,"ngIf"],["class","front",3,"front-mobile","style","front-big","front-small","slide-left","slide-right","slide-left-close","slide-right-close",4,"ngIf"],[1,"back",3,"click"],[1,"front"]],template:function(e,r){1&e&&(c.F$t(),c.YNc(0,Y,1,3,"div",0),c.YNc(1,B,2,17,"div",1)),2&e&&(c.Q6J("ngIf",r.isShowing&&!r.closing),c.xp6(1),c.Q6J("ngIf",r.isShowing))},dependencies:[_.O5],styles:[".slide-left[_ngcontent-%COMP%]{animation:slide-left .5s forwards;-webkit-animation:slide-left .5s forwards;left:-100%}.slide-left-close[_ngcontent-%COMP%]{animation:slide-left-close .5s forwards;-webkit-animation:slide-left-close .5s forwards;left:0}.slide-right[_ngcontent-%COMP%]{animation:slide-right .5s forwards;-webkit-animation:slide-right .5s forwards;right:-100%}.slide-right-close[_ngcontent-%COMP%]{animation:slide-right-close .5s forwards;-webkit-animation:slide-right-close .5s forwards;right:0}@keyframes slide-left{to{left:0}}@keyframes slide-right{to{right:0}}@keyframes slide-left-close{to{left:-100%}}@keyframes slide-right-close{to{right:-100%}}.back[_ngcontent-%COMP%]{background-color:#225899cc;height:100%;left:0;position:fixed;top:0;width:100%}.front[_ngcontent-%COMP%]{background-color:#fff;height:100vh;overflow:auto;position:fixed;top:0;width:-moz-fit-content;width:fit-content}.front-mobile[_ngcontent-%COMP%]{width:100%!important}.front-small[_ngcontent-%COMP%]{width:480px!important}.front-big[_ngcontent-%COMP%]{width:770px!important}"]}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[_.ez]}),t})();var q=w(8023),X=w(5696),x=w(9201),M=w(6523),P=w(2085),C=w(8499);function U(t,n=M.z){return(0,P.e)((e,r)=>{let i=null,o=null,a=null;const l=()=>{if(i){i.unsubscribe(),i=null;const f=o;o=null,r.next(f)}};function u(){const f=a+t,p=n.now();if(p<f)return i=this.schedule(void 0,f-p),void r.add(i);l()}e.subscribe(new C.Q(r,f=>{o=f,a=n.now(),i||(i=n.schedule(u,t),r.add(i))},()=>{l(),r.complete()},void 0,()=>{o=i=null}))})}var H,I,$,oe,de,ge,Ie,L=w(4970),J=w(4882),ae=w(5439),N=w.n(ae),h=w(4762),Ne={},Ce=[],yt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Le(t,n){for(var e in n)t[e]=n[e];return t}function pt(t){var n=t.parentNode;n&&n.removeChild(t)}function Re(t,n,e){var r,i,o,a={};for(o in n)"key"==o?r=n[o]:"ref"==o?i=n[o]:a[o]=n[o];if(arguments.length>2&&(a.children=arguments.length>3?H.call(arguments,2):e),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return re(t,a,r,i,null)}function re(t,n,e,r,i){var o={type:t,props:n,key:e,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++$:i};return null==i&&null!=I.vnode&&I.vnode(o),o}function me(t){return t.children}function Ae(t,n){this.props=t,this.context=n}function ke(t,n){if(null==n)return t.__?ke(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e)return e.__e;return"function"==typeof t.type?ke(t):null}function bt(t){var n,e;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e){t.__e=t.__c.base=e.__e;break}return bt(t)}}function nt(t){(!t.__d&&(t.__d=!0)&&oe.push(t)&&!Ve.__r++||ge!==I.debounceRendering)&&((ge=I.debounceRendering)||de)(Ve)}function Ve(){for(var t;Ve.__r=oe.length;)t=oe.sort(function(n,e){return n.__v.__b-e.__v.__b}),oe=[],t.some(function(n){var e,r,i,o,a,l;n.__d&&(a=(o=(e=n).__v).__e,(l=e.__P)&&(r=[],(i=Le({},o)).__v=o.__v+1,Ue(l,o,i,e.__n,void 0!==l.ownerSVGElement,null!=o.__h?[a]:null,r,null==a?ke(o):a,o.__h),Nt(r,o),o.__e!=a&&bt(o)))})}function ht(t,n,e,r,i,o,a,l,u,f){var p,E,A,T,D,G,W,F=r&&r.__k||Ce,ee=F.length;for(e.__k=[],p=0;p<n.length;p++)if(null!=(T=e.__k[p]=null==(T=n[p])||"boolean"==typeof T?null:"string"==typeof T||"number"==typeof T||"bigint"==typeof T?re(null,T,null,null,T):Array.isArray(T)?re(me,{children:T},null,null,null):T.__b>0?re(T.type,T.props,T.key,null,T.__v):T)){if(T.__=e,T.__b=e.__b+1,null===(A=F[p])||A&&T.key==A.key&&T.type===A.type)F[p]=void 0;else for(E=0;E<ee;E++){if((A=F[E])&&T.key==A.key&&T.type===A.type){F[E]=void 0;break}A=null}Ue(t,T,A=A||Ne,i,o,a,l,u,f),D=T.__e,(E=T.ref)&&A.ref!=E&&(W||(W=[]),A.ref&&W.push(A.ref,null,T),W.push(E,T.__c||D,T)),null!=D?(null==G&&(G=D),"function"==typeof T.type&&T.__k===A.__k?T.__d=u=_t(T,u,t):u=At(t,T,A,F,D,u),"function"==typeof e.type&&(e.__d=u)):u&&A.__e==u&&u.parentNode!=t&&(u=ke(A))}for(e.__e=G,p=ee;p--;)null!=F[p]&&("function"==typeof e.type&&null!=F[p].__e&&F[p].__e==e.__d&&(e.__d=ke(r,p+1)),je(F[p],F[p]));if(W)for(p=0;p<W.length;p++)St(W[p],W[++p],W[++p])}function _t(t,n,e){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,n="function"==typeof r.type?_t(r,n,e):At(e,r,r,i,r.__e,n));return n}function ze(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some(function(e){ze(e,n)}):n.push(t)),n}function At(t,n,e,r,i,o){var a,l,u;if(void 0!==n.__d)a=n.__d,n.__d=void 0;else if(null==e||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==t)t.appendChild(i),a=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<r.length;u+=2)if(l==i)break e;t.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function Ge(t,n,e){"-"===n[0]?t.setProperty(n,e):t[n]=null==e?"":"number"!=typeof e||yt.test(n)?e:e+"px"}function rt(t,n,e,r,i){var o;e:if("style"===n)if("string"==typeof e)t.style.cssText=e;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(n in r)e&&n in e||Ge(t.style,n,"");if(e)for(n in e)r&&e[n]===r[n]||Ge(t.style,n,e[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+o]=e,e?r||t.addEventListener(n,o?qe:xt,o):t.removeEventListener(n,o?qe:xt,o);else if("dangerouslySetInnerHTML"!==n){if(i)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in t)try{t[n]=null==e?"":e;break e}catch(a){}"function"==typeof e||(null!=e&&(!1!==e||"a"===n[0]&&"r"===n[1])?t.setAttribute(n,e):t.removeAttribute(n))}}function xt(t){this.l[t.type+!1](I.event?I.event(t):t)}function qe(t){this.l[t.type+!0](I.event?I.event(t):t)}function Ue(t,n,e,r,i,o,a,l,u){var f,p,E,A,T,D,G,W,F,ee,ie,ne,ue,le=n.type;if(void 0!==n.constructor)return null;null!=e.__h&&(u=e.__h,l=n.__e=e.__e,n.__h=null,o=[l]),(f=I.__b)&&f(n);try{e:if("function"==typeof le){if(W=n.props,F=(f=le.contextType)&&r[f.__c],ee=f?F?F.props.value:f.__:r,e.__c?G=(p=n.__c=e.__c).__=p.__E:("prototype"in le&&le.prototype.render?n.__c=p=new le(W,ee):(n.__c=p=new Ae(W,ee),p.constructor=le,p.render=qt),F&&F.sub(p),p.props=W,p.state||(p.state={}),p.context=ee,p.__n=r,E=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=le.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=Le({},p.__s)),Le(p.__s,le.getDerivedStateFromProps(W,p.__s))),A=p.props,T=p.state,E)null==le.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==le.getDerivedStateFromProps&&W!==A&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(W,ee),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(W,p.__s,ee)||n.__v===e.__v){p.props=W,p.state=p.__s,n.__v!==e.__v&&(p.__d=!1),p.__v=n,n.__e=e.__e,n.__k=e.__k,n.__k.forEach(function(he){he&&(he.__=n)}),p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(W,p.__s,ee),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(A,T,D)})}if(p.context=ee,p.props=W,p.__v=n,p.__P=t,ie=I.__r,ne=0,"prototype"in le&&le.prototype.render)p.state=p.__s,p.__d=!1,ie&&ie(n),f=p.render(p.props,p.state,p.context);else do{p.__d=!1,ie&&ie(n),f=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++ne<25);p.state=p.__s,null!=p.getChildContext&&(r=Le(Le({},r),p.getChildContext())),E||null==p.getSnapshotBeforeUpdate||(D=p.getSnapshotBeforeUpdate(A,T)),ue=null!=f&&f.type===me&&null==f.key?f.props.children:f,ht(t,Array.isArray(ue)?ue:[ue],n,e,r,i,o,a,l,u),p.base=n.__e,n.__h=null,p.__h.length&&a.push(p),G&&(p.__E=p.__=null),p.__e=!1}else null==o&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=function ln(t,n,e,r,i,o,a,l){var u,f,p,E=e.props,A=n.props,T=n.type,D=0;if("svg"===T&&(i=!0),null!=o)for(;D<o.length;D++)if((u=o[D])&&"setAttribute"in u==!!T&&(T?u.localName===T:3===u.nodeType)){t=u,o[D]=null;break}if(null==t){if(null===T)return document.createTextNode(A);t=i?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,A.is&&A),o=null,l=!1}if(null===T)E===A||l&&t.data===A||(t.data=A);else{if(o=o&&H.call(t.childNodes),f=(E=e.props||Ne).dangerouslySetInnerHTML,p=A.dangerouslySetInnerHTML,!l){if(null!=o)for(E={},D=0;D<t.attributes.length;D++)E[t.attributes[D].name]=t.attributes[D].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function et(t,n,e,r,i){var o;for(o in e)"children"===o||"key"===o||o in n||rt(t,o,null,e[o],r);for(o in n)i&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||e[o]===n[o]||rt(t,o,n[o],e[o],r)}(t,A,E,i,l),p)n.__k=[];else if(D=n.props.children,ht(t,Array.isArray(D)?D:[D],n,e,r,i&&"foreignObject"!==T,o,a,o?o[0]:e.__k&&ke(e,0),l),null!=o)for(D=o.length;D--;)null!=o[D]&&pt(o[D]);l||("value"in A&&void 0!==(D=A.value)&&(D!==t.value||"progress"===T&&!D||"option"===T&&D!==E.value)&&rt(t,"value",D,E.value,!1),"checked"in A&&void 0!==(D=A.checked)&&D!==t.checked&&rt(t,"checked",D,E.checked,!1))}return t}(e.__e,n,e,r,i,o,a,u);(f=I.diffed)&&f(n)}catch(he){n.__v=null,(u||null!=o)&&(n.__e=l,n.__h=!!u,o[o.indexOf(l)]=null),I.__e(he,n,e)}}function Nt(t,n){I.__c&&I.__c(n,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(r){r.call(e)})}catch(r){I.__e(r,e.__v)}})}function St(t,n,e){try{"function"==typeof t?t(n):t.current=n}catch(r){I.__e(r,e)}}function je(t,n,e){var r,i;if(I.unmount&&I.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||St(r,null,n)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){I.__e(o,n)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&je(r[i],n,"function"!=typeof t.type);e||null==t.__e||pt(t.__e),t.__e=t.__d=void 0}function qt(t,n,e){return this.constructor(t,e)}function it(t,n,e){var r,i,o;I.__&&I.__(t,n),i=(r="function"==typeof e)?null:e&&e.__k||n.__k,o=[],Ue(n,t=(!r&&e||n).__k=Re(me,null,[t]),i||Ne,Ne,void 0!==n.ownerSVGElement,!r&&e?[e]:i?null:n.firstChild?H.call(n.childNodes):null,o,!r&&e?e:i?i.__e:n.firstChild,r),Nt(o,t)}H=Ce.slice,I={__e:function(t,n,e,r){for(var i,o,a;n=n.__;)if((i=n.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(l){t=l}throw t}},$=0,Ae.prototype.setState=function(t,n){var e;e=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Le({},this.state),"function"==typeof t&&(t=t(Le({},e),this.props)),t&&Le(e,t),null!=t&&this.__v&&(n&&this.__h.push(n),nt(this))},Ae.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),nt(this))},Ae.prototype.render=me,oe=[],de="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ve.__r=0,Ie=0;var s,v,y,O=[],Q=[],se=I.__b,ce=I.__r,ve=I.diffed,Se=I.__c,Yt=I.unmount;function hl(){for(var t;t=O.shift();)if(t.__P)try{t.__H.__h.forEach(Kn),t.__H.__h.forEach(ei),t.__H.__h=[]}catch(n){t.__H.__h=[],I.__e(n,t.__v)}}I.__b=function(t){s=null,se&&se(t)},I.__r=function(t){ce&&ce(t);var n=(s=t.__c).__H;n&&(v===s?(n.__h=[],s.__h=[],n.__.forEach(function(e){e.__V=Q,e.u=void 0})):(n.__h.forEach(Kn),n.__h.forEach(ei),n.__h=[])),v=s},I.diffed=function(t){ve&&ve(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(1!==O.push(n)&&y===I.requestAnimationFrame||((y=I.requestAnimationFrame)||function(e){var r,i=function(){clearTimeout(o),go&&cancelAnimationFrame(r),setTimeout(e)},o=setTimeout(i,100);go&&(r=requestAnimationFrame(i))})(hl)),n.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.__V!==Q&&(e.__=e.__V),e.u=void 0,e.__V=Q})),v=s=null},I.__c=function(t,n){n.some(function(e){try{e.__h.forEach(Kn),e.__h=e.__h.filter(function(r){return!r.__||ei(r)})}catch(r){n.some(function(i){i.__h&&(i.__h=[])}),n=[],I.__e(r,e.__v)}}),Se&&Se(t,n)},I.unmount=function(t){Yt&&Yt(t);var n,e=t.__c;e&&e.__H&&(e.__H.__.forEach(function(r){try{Kn(r)}catch(i){n=i}}),n&&I.__e(n,e.__v))};var go="function"==typeof requestAnimationFrame;function Kn(t){var n=s,e=t.__c;"function"==typeof e&&(t.__c=void 0,e()),s=n}function ei(t){var n=s;t.__c=t.__(),s=n}function ni(t,n){for(var e in t)if("__source"!==e&&!(e in n))return!0;for(var r in n)if("__source"!==r&&t[r]!==n[r])return!0;return!1}function ri(t){this.props=t}(ri.prototype=new Ae).isPureReactComponent=!0,ri.prototype.shouldComponentUpdate=function(t,n){return ni(this.props,t)||ni(this.state,n)};var yo=I.__b;I.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),yo&&yo(t)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var yl=I.__e;I.__e=function(t,n,e,r){if(t.then)for(var i,o=n;o=o.__;)if((i=o.__c)&&i.__c)return null==n.__e&&(n.__e=e.__e,n.__k=e.__k),i.__c(t,n);yl(t,n,e,r)};var _o=I.unmount;function $n(){this.__u=0,this.t=null,this.__b=null}function Ao(t){var n=t.__.__c;return n&&n.__e&&n.__e(t)}function Mn(){this.u=null,this.o=null}I.unmount=function(t){var n=t.__c;n&&n.__R&&n.__R(),n&&!0===t.__h&&(t.type=null),_o&&_o(t)},($n.prototype=new Ae).__c=function(t,n){var e=n.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var i=Ao(r.__v),o=!1,a=function(){o||(o=!0,e.__R=null,i?i(l):l())};e.__R=a;var l=function(){if(!--r.__u){if(r.state.__e){var f=r.state.__e;r.__v.__k[0]=function E(A,T,D){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function(G){return E(G,T,D)}),A.__c&&A.__c.__P===T&&(A.__e&&D.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=D)),A}(f,f.__c.__P,f.__c.__O)}var p;for(r.setState({__e:r.__b=null});p=r.t.pop();)p.forceUpdate()}},u=!0===n.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},$n.prototype.componentWillUnmount=function(){this.t=[]},$n.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,l,u){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(f){"function"==typeof f.__c&&f.__c()}),a.__c.__H=null),null!=(a=function Eo(t,n){for(var e in n)t[e]=n[e];return t}({},a)).__c&&(a.__c.__P===u&&(a.__c.__P=l),a.__c=null),a.__k=a.__k&&a.__k.map(function(f){return o(f,l,u)})),a}(this.__b,e,r.__O=r.__P)}this.__b=null}var i=n.__e&&Re(me,null,t.fallback);return i&&(i.__h=null),[Re(me,null,n.__e?null:t.children),i]};var So=function(t,n,e){if(++e[1]===e[0]&&t.o.delete(n),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(e=t.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;t.u=e=e[2]}};function _l(t){return this.getChildContext=function(){return t.context},t.children}function Al(t){var n=this,e=t.i;n.componentWillUnmount=function(){it(null,n.l),n.l=null,n.i=null},n.i&&n.i!==e&&n.componentWillUnmount(),t.__v?(n.l||(n.i=e,n.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(r){this.childNodes.push(r),n.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),n.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),n.i.removeChild(r)}}),it(Re(_l,{context:n.context},t.__v),n.l)):n.l&&n.componentWillUnmount()}(Mn.prototype=new Ae).__e=function(t){var n=this,e=Ao(n.__v),r=n.o.get(t);return r[0]++,function(i){var o=function(){n.props.revealOrder?(r.push(i),So(n,t,r)):i()};e?e(o):o()}},Mn.prototype.render=function(t){this.u=null,this.o=new Map;var n=ze(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&n.reverse();for(var e=n.length;e--;)this.o.set(n[e],this.u=[1,0,this.u]);return t.children},Mn.prototype.componentDidUpdate=Mn.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(n,e){So(t,e,n)})};var wo="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Sl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Tl="undefined"!=typeof document,wl=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ae.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ae.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var Co=I.event;function Dl(){}function Ml(){return this.cancelBubble}function Il(){return this.defaultPrevented}I.event=function(t){return Co&&(t=Co(t)),t.persist=Dl,t.isPropagationStopped=Ml,t.isDefaultPrevented=Il,t.nativeEvent=t};var Do={configurable:!0,get:function(){return this.class}},Mo=I.vnode;I.vnode=function(t){var n=t.type,e=t.props,r=e;if("string"==typeof n){var i=-1===n.indexOf("-");for(var o in r={},e){var a=e[o];Tl&&"children"===o&&"noscript"===n||"value"===o&&"defaultValue"in e&&null==a||("defaultValue"===o&&"value"in e&&null==e.value?o="value":"download"===o&&!0===a?a="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+n)&&!wl(e.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&Sl.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=a)}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=ze(e.children).forEach(function(l){l.props.selected=-1!=r.value.indexOf(l.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=ze(e.children).forEach(function(l){l.props.selected=r.multiple?-1!=r.defaultValue.indexOf(l.props.value):r.defaultValue==l.props.value})),t.props=r,e.class!=e.className&&(Do.enumerable="className"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,"className",Do))}t.$$typeof=wo,Mo&&Mo(t)};var Io=I.__r;I.__r=function(t){Io&&Io(t)};var Po="undefined"!=typeof globalThis?globalThis:window;Po.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):Po.FullCalendarVDom={Component:Ae,createElement:Re,render:it,createRef:function pe(){return{current:null}},Fragment:me,createContext:function Hl(t){var n=function m(t,n){var e={__c:n="__cC"+Ie++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[n]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(nt)},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return e.Provider.__=e.Consumer.contextType=e}(t),e=n.Provider;return n.Provider=function(){var r=this,i=!this.getChildContext,o=e.apply(this,arguments);if(i){var a=[];this.shouldComponentUpdate=function(l){r.props.value!==l.value&&a.forEach(function(u){u.context=l.value,u.forceUpdate()})},this.sub=function(l){a.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),u&&u.call(l)}}}return o},n},createPortal:function To(t,n){var e=Re(Al,{__v:t,i:n});return e.containerInfo=n,e},flushSync:function Bl(t){t();var n=I.debounceRendering,e=[];for(I.debounceRendering=function r(i){e.push(i)},it(Re(Ul,{}),document.createElement("div"));e.length;)e.shift()();I.debounceRendering=n},unmountComponentAtNode:function Vl(t){it(null,t)}};var Ul=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){return Re("div",{})},n.prototype.componentDidMount=function(){this.setState({})},n}(Ae);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var ii=FullCalendarVDom.Component,Z=FullCalendarVDom.createElement,zl=FullCalendarVDom.render,at=FullCalendarVDom.createRef,Xe=FullCalendarVDom.Fragment,xo=FullCalendarVDom.createContext,Gl=FullCalendarVDom.createPortal,No=FullCalendarVDom.flushSync,ql=FullCalendarVDom.unmountComponentAtNode,cn=function(){function t(n,e){this.context=n,this.internalEventSource=e}return t.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},t.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(t.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),t}();function oi(t){t.parentNode&&t.parentNode.removeChild(t)}function Ye(t,n){if(t.closest)return t.closest(n);if(!document.documentElement.contains(t))return null;do{if(ai(t,n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}function ai(t,n){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,n)}var Wl=/(top|left|right|bottom|width|height)$/i;function In(t,n){for(var e in n)ko(t,e,n[e])}function ko(t,n,e){t.style[n]=null==e?"":"number"==typeof e&&Wl.test(n)?e+"px":e}function Lo(t){var n,e;return null!==(e=null===(n=t.composedPath)||void 0===n?void 0:n.call(t)[0])&&void 0!==e?e:t.target}function Fo(t){return t.getRootNode?t.getRootNode():document}var Bo=0;function er(){return"fc-dom-"+(Bo+=1)}function tr(t){t.preventDefault()}function Uo(t,n,e,r){var i=function Zl(t,n){return function(e){var r=Ye(e.target,t);r&&n.call(r,e,r)}}(e,r);return t.addEventListener(n,i),function(){t.removeEventListener(n,i)}}var Ho=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Vo(t){return(0,h.pi)({onClick:t},zo(t))}function zo(t){return{tabIndex:0,onKeyDown:function(n){("Enter"===n.key||" "===n.key)&&(t(n),n.preventDefault())}}}var Go=0;function un(){return String(Go+=1)}function nr(){document.body.classList.add("fc-not-allowed")}function rr(){document.body.classList.remove("fc-not-allowed")}function nc(t,n,e){return e.func?e.func(t,n):function rc(t,n){return t||n?null==n?-1:null==t?1:"string"==typeof t||"string"==typeof n?String(t).localeCompare(String(n)):t-n:0}(t[e.field],n[e.field])*(e.order||1)}function dn(t,n){var e=String(t);return"000".substr(0,n-e.length)+e}function On(t,n,e){return"function"==typeof t?t.apply(void 0,n):"string"==typeof t?n.reduce(function(r,i,o){return r.replace("$"+o,i||"")},t):e}function ic(t,n){return t-n}function ir(t){return t%1==0}function oc(t){var n=t.querySelector(".fc-scrollgrid-shrink-frame"),e=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!n)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!e)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-n.getBoundingClientRect().width+e.getBoundingClientRect().width}var qo=["sun","mon","tue","wed","thu","fri","sat"];function Yo(t,n){var e=kt(t);return e[2]+=7*n,Je(e)}function Qe(t,n){var e=kt(t);return e[2]+=n,Je(e)}function Zt(t,n){var e=kt(t);return e[6]+=n,Je(e)}function jt(t,n){return(n.valueOf()-t.valueOf())/864e5}function or(t,n){return Lt(t)===Lt(n)?Math.round(jt(t,n)):null}function Oe(t){return Je([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function si(t,n,e,r){var i=Je([n,0,1+gc(n,e,r)]),o=Oe(t),a=Math.round(jt(i,o));return Math.floor(a/7)+1}function gc(t,n,e){var r=7+n-e;return-(7+Je([t,0,r]).getUTCDay()-n)%7+r-1}function Wo(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function Zo(t){return new Date(t[0],t[1]||0,null==t[2]?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function kt(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Je(t){return 1===t.length&&(t=t.concat([0])),new Date(Date.UTC.apply(Date,t))}function jo(t){return!isNaN(t.valueOf())}function Lt(t){return 1e3*t.getUTCHours()*60*60+1e3*t.getUTCMinutes()*60+1e3*t.getUTCSeconds()+t.getUTCMilliseconds()}function ar(t,n,e,r){return{instanceId:un(),defId:t,range:n,forcedStartTzo:null==e?null:e,forcedEndTzo:null==r?null:r}}var sr=Object.prototype.hasOwnProperty;function li(t,n){var e={};if(n)for(var r in n){for(var i=[],o=t.length-1;o>=0;o-=1){var a=t[o][r];if("object"==typeof a&&a)i.unshift(a);else if(void 0!==a){e[r]=a;break}}i.length&&(e[r]=li(i))}for(o=t.length-1;o>=0;o-=1){var l=t[o];for(var u in l)u in e||(e[u]=l[u])}return e}function Qt(t,n){var e={};for(var r in t)n(t[r],r)&&(e[r]=t[r]);return e}function Rt(t,n){var e={};for(var r in t)e[r]=n(t[r],r);return e}function Qo(t){for(var n={},e=0,r=t;e<r.length;e++)n[r[e]]=!0;return n}function ci(t){var n=[];for(var e in t)n.push(t[e]);return n}function Dt(t,n){if(t===n)return!0;for(var e in t)if(sr.call(t,e)&&!(e in n))return!1;for(var e in n)if(sr.call(n,e)&&t[e]!==n[e])return!1;return!0}function Xo(t,n){var e=[];for(var r in t)sr.call(t,r)&&(r in n||e.push(r));for(var r in n)sr.call(n,r)&&t[r]!==n[r]&&e.push(r);return e}function ui(t,n,e){if(void 0===e&&(e={}),t===n)return!0;for(var r in n)if(!(r in t)||!mc(t[r],n[r],e[r]))return!1;for(var r in t)if(!(r in n))return!1;return!0}function mc(t,n,e){return t===n||!0===e||!!e&&e(t,n)}function fn(t,n,e){var r=e.dateEnv,i=e.pluginHooks,o=e.options,a=t.defs,l=t.instances;for(var u in l=Qt(l,function(W){return!a[W.defId].recurringDef}),a){var f=a[u];if(f.recurringDef){var p=f.recurringDef.duration;p||(p=f.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);for(var A=0,T=bc(f,p,n,r,i.recurringTypes);A<T.length;A++){var D=T[A],G=ar(u,{start:D,end:r.add(D,p)});l[G.instanceId]=G}}}return{defs:a,instances:l}}function bc(t,n,e,r,i){var a=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(e.start,n),end:e.end},r);return t.allDay&&(a=a.map(Oe)),a}var _c=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Te(t,n){var e;return"string"==typeof t?function Ac(t){var n=_c.exec(t);if(n){var e=n[1]?-1:1;return{years:0,months:0,days:e*(n[2]?parseInt(n[2],10):0),milliseconds:e*(60*(n[3]?parseInt(n[3],10):0)*60*1e3+60*(n[4]?parseInt(n[4],10):0)*1e3+1e3*(n[5]?parseInt(n[5],10):0)+(n[6]?parseInt(n[6],10):0))}}return null}(t):"object"==typeof t&&t?Ko(t):"number"==typeof t?Ko(((e={})[n||"milliseconds"]=t,e)):null}function Ko(t){var n={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:60*(t.hours||t.hour||0)*60*1e3+60*(t.minutes||t.minute||0)*1e3+1e3*(t.seconds||t.second||0)+(t.milliseconds||t.millisecond||t.ms||0)},e=t.weeks||t.week;return e&&(n.days+=7*e,n.specifiedWeeks=!0),n}function pn(t){return Xt(t)/864e5}function Xt(t){return 31536e6*t.years+2592e6*t.months+864e5*t.days+t.milliseconds}function di(t){var n=t.milliseconds;if(n){if(n%1e3!=0)return{unit:"millisecond",value:n};if(n%6e4!=0)return{unit:"second",value:n/1e3};if(n%36e5!=0)return{unit:"minute",value:n/6e4};if(n)return{unit:"hour",value:n/36e5}}return t.days?t.specifiedWeeks&&t.days%7==0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function $o(t){return t.toISOString().replace(/T.*$/,"")}function fi(t,n){void 0===n&&(n=!1);var e=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=Math.round(r%60);return n?e+dn(i,2)+":"+dn(o,2):"GMT"+e+i+(o?":"+dn(o,2):"")}function Ft(t,n,e){if(t===n)return!0;var i,r=t.length;if(r!==n.length)return!1;for(i=0;i<r;i+=1)if(!(e?e(t[i],n[i]):t[i]===n[i]))return!1;return!0}function ye(t,n,e){var r,i;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(r){if(!Ft(r,o)){e&&e(i);var l=t.apply(this,o);(!n||!n(l,i))&&(i=l)}}else i=t.apply(this,o);return r=o,i}}function lr(t,n,e){var i,o,r=this;return function(a){if(i){if(!Dt(i,a)){e&&e(o);var l=t.call(r,a);(!n||!n(l,o))&&(o=l)}}else o=t.call(r,a);return i=a,o}}var ea={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},cr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ur=/\s*([ap])\.?m\.?/i,Dc=/,/g,Mc=/\s+/g,Ic=/\u200e/g,Oc=/UTC|GMT/,Pc=function(){function t(n){var e={},r={},i=0;for(var o in n)o in ea?(r[o]=n[o],i=Math.max(ea[o],i)):(e[o]=n[o],o in cr&&(i=Math.max(cr[o],i)));this.standardDateProps=e,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=ye(ta)}return t.prototype.format=function(n,e){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,e)(n)},t.prototype.formatRange=function(n,e,r,i){var a=this.standardDateProps,l=this.extendedSettings,u=function Bc(t,n,e){return e.getMarkerYear(t)!==e.getMarkerYear(n)?5:e.getMarkerMonth(t)!==e.getMarkerMonth(n)?4:e.getMarkerDay(t)!==e.getMarkerDay(n)?2:Lt(t)!==Lt(n)?1:0}(n.marker,e.marker,r.calendarSystem);if(!u)return this.format(n,r);var f=u;f>1&&("numeric"===a.year||"2-digit"===a.year)&&("numeric"===a.month||"2-digit"===a.month)&&("numeric"===a.day||"2-digit"===a.day)&&(f=1);var p=this.format(n,r),E=this.format(e,r);if(p===E)return p;var A=function Uc(t,n){var e={};for(var r in t)(!(r in cr)||cr[r]<=n)&&(e[r]=t[r]);return e}(a,f),T=ta(A,l,r),D=T(n),G=T(e),W=function Hc(t,n,e,r){for(var i=0;i<t.length;){var o=t.indexOf(n,i);if(-1===o)break;for(var a=t.substr(0,o),l=t.substr(i=o+n.length),u=0;u<e.length;){var f=e.indexOf(r,u);if(-1===f)break;var p=e.substr(0,f),E=e.substr(u=f+r.length);if(a===p&&l===E)return{before:a,after:l}}}return null}(p,D,E,G),F=l.separator||i||r.defaultSeparator||"";return W?W.before+D+F+G+W.after:p+F+E},t.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},t}();function ta(t,n,e){var r=Object.keys(t).length;return 1===r&&"short"===t.timeZoneName?function(i){return fi(i.timeZoneOffset)}:0===r&&n.week?function(i){return function Fc(t,n,e,r,i){var o=[];return"long"===i?o.push(e):("short"===i||"narrow"===i)&&o.push(n),("long"===i||"short"===i)&&o.push(" "),o.push(r.simpleNumberFormat.format(t)),"rtl"===r.options.direction&&o.reverse(),o.join("")}(e.computeWeekNumber(i.marker),e.weekText,e.weekTextLong,e.locale,n.week)}:function xc(t,n,e){t=(0,h.pi)({},t),n=(0,h.pi)({},n),function Nc(t,n){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),"long"===t.timeZoneName&&(t.timeZoneName="short"),n.omitZeroMinute&&(t.second||t.millisecond)&&delete n.omitZeroMinute}(t,n),t.timeZone="UTC";var i,r=new Intl.DateTimeFormat(e.locale.codes,t);if(n.omitZeroMinute){var o=(0,h.pi)({},t);delete o.minute,i=new Intl.DateTimeFormat(e.locale.codes,o)}return function(a){var l=a.marker;return function kc(t,n,e,r,i){return t=t.replace(Ic,""),"short"===e.timeZoneName&&(t=function Lc(t,n){var e=!1;return t=t.replace(Oc,function(){return e=!0,n}),e||(t+=" "+n),t}(t,"UTC"===i.timeZone||null==n.timeZoneOffset?"UTC":fi(n.timeZoneOffset))),r.omitCommas&&(t=t.replace(Dc,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),!1===r.meridiem?t=t.replace(ur,"").trim():"narrow"===r.meridiem?t=t.replace(ur,function(o,a){return a.toLocaleLowerCase()}):"short"===r.meridiem?t=t.replace(ur,function(o,a){return a.toLocaleLowerCase()+"m"}):"lowercase"===r.meridiem&&(t=t.replace(ur,function(o){return o.toLocaleLowerCase()})),(t=t.replace(Mc," ")).trim()}((i&&!l.getUTCMinutes()?i:r).format(l),a,t,n,e)}}(t,n,e)}function na(t,n){var e=n.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:e,year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}function dr(t,n,e,r){var i=na(t,e.calendarSystem);return{date:i,start:i,end:n?na(n,e.calendarSystem):null,timeZone:e.timeZone,localeCodes:e.locale.codes,defaultSeparator:r||e.defaultSeparator}}var Vc=function(){function t(n){this.cmdStr=n}return t.prototype.format=function(n,e,r){return e.cmdFormatter(this.cmdStr,dr(n,null,e,r))},t.prototype.formatRange=function(n,e,r,i){return r.cmdFormatter(this.cmdStr,dr(n,e,r,i))},t}(),zc=function(){function t(n){this.func=n}return t.prototype.format=function(n,e,r){return this.func(dr(n,null,e,r))},t.prototype.formatRange=function(n,e,r,i){return this.func(dr(n,e,r,i))},t}();function Be(t){return"object"==typeof t&&t?new Pc(t):"string"==typeof t?new Vc(t):"function"==typeof t?new zc(t):null}var ra={navLinkDayClick:j,navLinkWeekClick:j,duration:Te,bootstrapFontAwesome:j,buttonIcons:j,customButtons:j,defaultAllDayEventDuration:Te,defaultTimedEventDuration:Te,nextDayThreshold:Te,scrollTime:Te,scrollTimeReset:Boolean,slotMinTime:Te,slotMaxTime:Te,dayPopoverFormat:Be,slotDuration:Te,snapDuration:Te,headerToolbar:j,footerToolbar:j,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Be,dayHeaderClassNames:j,dayHeaderContent:j,dayHeaderDidMount:j,dayHeaderWillUnmount:j,dayCellClassNames:j,dayCellContent:j,dayCellDidMount:j,dayCellWillUnmount:j,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:j,weekNumbers:Boolean,weekNumberClassNames:j,weekNumberContent:j,weekNumberDidMount:j,weekNumberWillUnmount:j,editable:Boolean,viewClassNames:j,viewDidMount:j,viewWillUnmount:j,nowIndicator:Boolean,nowIndicatorClassNames:j,nowIndicatorContent:j,nowIndicatorDidMount:j,nowIndicatorWillUnmount:j,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:j,locale:j,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:j,eventOrder:function ec(t){var r,i,n=[],e=[];for("string"==typeof t?e=t.split(/\s*,\s*/):"function"==typeof t?e=[t]:Array.isArray(t)&&(e=t),r=0;r<e.length;r+=1)"string"==typeof(i=e[r])?n.push("-"===i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&n.push({func:i});return n},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:j,contentHeight:j,direction:String,weekNumberFormat:Be,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:j,initialDate:j,now:j,eventDataTransform:j,stickyHeaderDates:j,stickyFooterScrollbar:j,viewHeight:j,defaultAllDay:Boolean,eventSourceFailure:j,eventSourceSuccess:j,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:j,eventConstraint:j,eventAllow:j,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:j,eventContent:j,eventDidMount:j,eventWillUnmount:j,selectConstraint:j,selectOverlap:j,selectAllow:j,droppable:Boolean,unselectCancel:String,slotLabelFormat:j,slotLaneClassNames:j,slotLaneContent:j,slotLaneDidMount:j,slotLaneWillUnmount:j,slotLabelClassNames:j,slotLabelContent:j,slotLabelDidMount:j,slotLabelWillUnmount:j,dayMaxEvents:j,dayMaxEventRows:j,dayMinWidth:Number,slotLabelInterval:Te,allDayText:String,allDayClassNames:j,allDayContent:j,allDayDidMount:j,allDayWillUnmount:j,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Be,rerenderDelay:Number,moreLinkText:j,moreLinkHint:j,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:j,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Te,hiddenDays:j,monthMode:Boolean,fixedWeekCount:Boolean,validRange:j,visibleRange:j,titleFormat:j,eventInteractive:Boolean,noEventsText:String,viewHint:j,navLinkHint:j,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:j,moreLinkClassNames:j,moreLinkContent:j,moreLinkDidMount:j,moreLinkWillUnmount:j},Mt={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},ia={datesSet:j,eventsSet:j,eventAdd:j,eventChange:j,eventRemove:j,windowResize:j,eventClick:j,eventMouseEnter:j,eventMouseLeave:j,select:j,unselect:j,loading:j,_unmount:j,_beforeprint:j,_afterprint:j,_noEventDrop:j,_noEventResize:j,_resize:j,_scrollRequest:j},oa={buttonText:j,buttonHints:j,views:j,plugins:j,initialEvents:j,events:j,eventSources:j},Jt={headerToolbar:hn,footerToolbar:hn,buttonText:hn,buttonHints:hn,buttonIcons:hn,dateIncrement:hn};function hn(t,n){return"object"==typeof t&&"object"==typeof n&&t&&n?Dt(t,n):t===n}var Gc={type:String,component:j,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:j,usesMinMaxTime:Boolean,classNames:j,content:j,didMount:j,willUnmount:j};function pi(t){return li(t,Jt)}function fr(t,n){var e={},r={};for(var i in n)i in t&&(e[i]=n[i](t[i]));for(var i in t)i in n||(r[i]=t[i]);return{refined:e,extra:r}}function j(t){return t}function pr(t,n,e,r){for(var i={defs:{},instances:{}},o=Ei(e),a=0,l=t;a<l.length;a++){var f=la(l[a],n,e,r,o);f&&Pn(f,i)}return i}function Pn(t,n){return void 0===n&&(n={defs:{},instances:{}}),n.defs[t.def.defId]=t.def,t.instance&&(n.instances[t.instance.instanceId]=t.instance),n}function hi(t,n){var e=t.instances[n];if(e){var r=t.defs[e.defId],i=hr(t,function(o){return function qc(t,n){return Boolean(t.groupId&&t.groupId===n.groupId)}(r,o)});return i.defs[r.defId]=r,i.instances[e.instanceId]=e,i}return{defs:{},instances:{}}}function vi(t,n){return{defs:(0,h.pi)((0,h.pi)({},t.defs),n.defs),instances:(0,h.pi)((0,h.pi)({},t.instances),n.instances)}}function hr(t,n){var e=Qt(t.defs,n),r=Qt(t.instances,function(i){return e[i.defId]});return{defs:e,instances:r}}function gi(t){return Array.isArray(t)?t:"string"==typeof t?t.split(/\s+/):[]}var vr={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:j,overlap:j,allow:j,className:gi,classNames:gi,color:String,backgroundColor:String,borderColor:String,textColor:String},Zc={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function gr(t,n){var e=function Wc(t,n){return Array.isArray(t)?pr(t,null,n,!0):"object"==typeof t&&t?pr([t],null,n,!0):null!=t?String(t):null}(t.constraint,n);return{display:t.display||null,startEditable:null!=t.startEditable?t.startEditable:t.editable,durationEditable:null!=t.durationEditable?t.durationEditable:t.editable,constraints:null!=e?[e]:[],overlap:null!=t.overlap?t.overlap:null,allows:null!=t.allow?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function aa(t){return t.reduce(jc,Zc)}function jc(t,n){return{display:null!=n.display?n.display:t.display,startEditable:null!=n.startEditable?n.startEditable:t.startEditable,durationEditable:null!=n.durationEditable?n.durationEditable:t.durationEditable,constraints:t.constraints.concat(n.constraints),overlap:"boolean"==typeof n.overlap?n.overlap:t.overlap,allows:t.allows.concat(n.allows),backgroundColor:n.backgroundColor||t.backgroundColor,borderColor:n.borderColor||t.borderColor,textColor:n.textColor||t.textColor,classNames:t.classNames.concat(n.classNames)}}var mr={id:String,groupId:String,title:String,url:String,interactive:Boolean},sa={start:j,end:j,date:j,allDay:Boolean},Qc=(0,h.pi)((0,h.pi)((0,h.pi)({},mr),sa),{extendedProps:j});function la(t,n,e,r,i){void 0===i&&(i=Ei(e));var o=mi(t,e,i),a=o.refined,l=o.extra,u=function Jc(t,n){var e=null;return t&&(e=t.defaultAllDay),null==e&&(e=n.options.defaultAllDay),e}(n,e),f=function yc(t,n,e,r){for(var i=0;i<r.length;i+=1){var o=r[i].parse(t,e);if(o){var a=t.allDay;return null==a&&null==(a=n)&&null==(a=o.allDayGuess)&&(a=!1),{allDay:a,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}(a,u,e.dateEnv,e.pluginHooks.recurringTypes);if(f)return(p=Er(a,l,n?n.sourceId:"",f.allDay,Boolean(f.duration),e)).recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:p,instance:null};var p,E=function Xc(t,n,e,r){var o,u,i=t.allDay,a=null,l=!1,f=null;if(o=e.dateEnv.createMarkerMeta(null!=t.start?t.start:t.date))a=o.marker;else if(!r)return null;return null!=t.end&&(u=e.dateEnv.createMarkerMeta(t.end)),null==i&&(i=null!=n?n:(!o||o.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),i&&a&&(a=Oe(a)),u&&(f=u.marker,i&&(f=Oe(f)),a&&f<=a&&(f=null)),f?l=!0:r||(l=e.options.forceEventDuration||!1,f=e.dateEnv.add(a,i?e.options.defaultAllDayEventDuration:e.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:f},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}(a,u,e,r);return E?{def:p=Er(a,l,n?n.sourceId:"",E.allDay,E.hasEnd,e),instance:ar(p.defId,E.range,E.forcedStartTzo,E.forcedEndTzo)}:null}function mi(t,n,e){return void 0===e&&(e=Ei(n)),fr(t,e)}function Ei(t){return(0,h.pi)((0,h.pi)((0,h.pi)({},vr),Qc),t.pluginHooks.eventRefiners)}function Er(t,n,e,r,i,o){for(var a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:un(),sourceId:e,allDay:r,hasEnd:i,interactive:t.interactive,ui:gr(t,o),extendedProps:(0,h.pi)((0,h.pi)({},t.extendedProps||{}),n)},l=0,u=o.pluginHooks.eventDefMemberAdders;l<u.length;l++)(0,h.pi)(a,(0,u[l])(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function ca(t){var n=Math.floor(jt(t.start,t.end))||1,e=Oe(t.start);return{start:e,end:Qe(e,n)}}function yi(t,n){void 0===n&&(n=Te(0));var e=null,r=null;if(t.end){r=Oe(t.end);var i=t.end.valueOf()-r.valueOf();i&&i>=Xt(n)&&(r=Qe(r,1))}return t.start&&(e=Oe(t.start),r&&r<=e&&(r=Qe(e,1))),{start:e,end:r}}function vn(t,n,e,r){return"year"===r?Te(e.diffWholeYears(t,n),"year"):"month"===r?Te(e.diffWholeMonths(t,n),"month"):function uc(t,n){var e=Oe(t),r=Oe(n);return{years:0,months:0,days:Math.round(jt(e,r)),milliseconds:n.valueOf()-r.valueOf()-(t.valueOf()-e.valueOf())}}(t,n)}function ua(t,n){var i,o,e=[],r=n.start;for(t.sort($c),i=0;i<t.length;i+=1)(o=t[i]).start>r&&e.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<n.end&&e.push({start:r,end:n.end}),e}function $c(t,n){return t.start.valueOf()-n.start.valueOf()}function xn(t,n){var e=t.start,r=t.end,i=null;return null!==n.start&&(e=null===e?n.start:new Date(Math.max(e.valueOf(),n.start.valueOf()))),null!=n.end&&(r=null===r?n.end:new Date(Math.min(r.valueOf(),n.end.valueOf()))),(null===e||null===r||e<r)&&(i={start:e,end:r}),i}function bi(t,n){return(null===t.end||null===n.start||t.end>n.start)&&(null===t.start||null===n.end||t.start<n.end)}function yr(t,n){return(null===t.start||null!==n.start&&n.start>=t.start)&&(null===t.end||null!==n.end&&n.end<=t.end)}function Kt(t,n){return(null===t.start||n>=t.start)&&(null===t.end||n<t.end)}function _i(t,n,e,r){var i={},o={},a={},l=[],u=[],f=br(t.defs,n);for(var p in t.defs)"inverse-background"===(A=f[(E=t.defs[p]).defId]).display&&(E.groupId?(i[E.groupId]=[],a[E.groupId]||(a[E.groupId]=E)):o[p]=[]);for(var T in t.instances){var D=t.instances[T],A=f[(E=t.defs[D.defId]).defId],G=D.range,W=!E.allDay&&r?yi(G,r):G,F=xn(W,e);F&&("inverse-background"===A.display?E.groupId?i[E.groupId].push(F):o[D.defId].push(F):"none"!==A.display&&("background"===A.display?l:u).push({def:E,ui:A,instance:D,range:F,isStart:W.start&&W.start.valueOf()===F.start.valueOf(),isEnd:W.end&&W.end.valueOf()===F.end.valueOf()}))}for(var ee in i)for(var ue=0,le=ua(i[ee],e);ue<le.length;ue++){var E;l.push({def:E=a[ee],ui:A=f[E.defId],instance:null,range:le[ue],isStart:!1,isEnd:!1})}for(var p in o)for(var fe=0,be=ua(o[p],e);fe<be.length;fe++)l.push({def:t.defs[p],ui:f[p],instance:null,range:be[fe],isStart:!1,isEnd:!1});return{bg:l,fg:u}}function da(t,n){t.fcSeg=n}function gn(t){return t.fcSeg||t.parentNode.fcSeg||null}function br(t,n){return Rt(t,function(e){return fa(e,n)})}function fa(t,n){var e=[];return n[""]&&e.push(n[""]),n[t.defId]&&e.push(n[t.defId]),e.push(t.ui),aa(e)}function ru(t){var n=t.eventRange,e=n.def,r=n.instance?n.instance.range:n.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return(0,h.pi)((0,h.pi)((0,h.pi)({},e.extendedProps),e),{id:e.publicId,start:i,end:o,duration:o-i,allDay:Number(e.allDay),_seg:t})}function iu(t,n){for(var i=t.eventRange,o=i.def,a=i.ui,l=a.startEditable,u=0,f=n.pluginHooks.isDraggableTransformers;u<f.length;u++)l=(0,f[u])(l,o,a,n);return l}function ou(t,n){return t.isStart&&t.eventRange.ui.durationEditable&&n.options.eventResizableFromStart}function au(t,n){return t.isEnd&&t.eventRange.ui.durationEditable}function pa(t,n,e,r,i,o,a){var l=e.dateEnv,u=e.options,f=u.displayEventTime,p=u.displayEventEnd,E=t.eventRange.def,A=t.eventRange.instance;null==f&&(f=!1!==r),null==p&&(p=!1!==i);var T=A.range.start,D=A.range.end,G=o||t.start||t.eventRange.range.start,W=a||t.end||t.eventRange.range.end,F=Oe(T).valueOf()===Oe(G).valueOf(),ee=Oe(Zt(D,-1)).valueOf()===Oe(Zt(W,-1)).valueOf();return f&&!E.allDay&&(F||ee)?(G=F?T:G,W=ee?D:W,p&&E.hasEnd?l.formatRange(G,W,n,{forcedStartTzo:o?null:A.forcedStartTzo,forcedEndTzo:a?null:A.forcedEndTzo}):l.format(G,n,{forcedTzo:o?null:A.forcedStartTzo})):""}function Nn(t,n,e){var r=t.eventRange.range;return{isPast:r.end<(e||n.start),isFuture:r.start>=(e||n.end),isToday:n&&Kt(n,r.start)}}function lu(t){return t.instance?t.instance.instanceId:t.def.defId+":"+t.range.start.toISOString()}function ha(t,n){var e=t.eventRange,r=e.def,i=e.instance,o=r.url;if(o)return{href:o};var a=n.emitter,u=n.options.eventInteractive;return null==u&&null==(u=r.interactive)&&(u=Boolean(a.hasHandlers("eventClick"))),u?zo(function(f){a.trigger("eventClick",{el:f.target,event:new xe(n,r,i),jsEvent:f,view:n.viewApi})}):{}}var cu={start:j,end:j,allDay:Boolean};function va(t,n,e){return(0,h.pi)((0,h.pi)({},ga(t,n,e)),{timeZone:n.timeZone})}function ga(t,n,e){return{start:n.toDate(t.start),end:n.toDate(t.end),startStr:n.formatIso(t.start,{omitTime:e}),endStr:n.formatIso(t.end,{omitTime:e})}}function vu(t,n,e){var r=mi({editable:!1},e),i=Er(r.refined,r.extra,"",t.allDay,!0,e);return{def:i,ui:fa(i,n),instance:ar(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function ma(t,n,e){e.emitter.trigger("select",(0,h.pi)((0,h.pi)({},Ai(t,e)),{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view}))}function Ai(t,n){for(var e={},r=0,i=n.pluginHooks.dateSpanTransforms;r<i.length;r++)(0,h.pi)(e,(0,i[r])(t,n));return(0,h.pi)(e,function hu(t,n){return(0,h.pi)((0,h.pi)({},ga(t.range,n,t.allDay)),{allDay:t.allDay})}(t,n.dateEnv)),e}function Si(t,n,e){var r=e.dateEnv,i=e.options,o=n;return t?(o=Oe(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function Ti(t,n,e,r){var i=br(t.defs,n),o={defs:{},instances:{}};for(var a in t.defs)o.defs[a]=mu(t.defs[a],i[a],e,r);for(var u in t.instances){var f=t.instances[u];o.instances[u]=Eu(f,o.defs[f.defId],i[f.defId],e,r)}return o}function mu(t,n,e,r){var i=e.standardProps||{};null==i.hasEnd&&n.durationEditable&&(e.startDelta||e.endDelta)&&(i.hasEnd=!0);var o=(0,h.pi)((0,h.pi)((0,h.pi)({},t),i),{ui:(0,h.pi)((0,h.pi)({},t.ui),i.ui)});e.extendedProps&&(o.extendedProps=(0,h.pi)((0,h.pi)({},o.extendedProps),e.extendedProps));for(var a=0,l=r.pluginHooks.eventDefMutationAppliers;a<l.length;a++)(0,l[a])(o,e,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function Eu(t,n,e,r,i){var o=i.dateEnv,a=r.standardProps&&!0===r.standardProps.allDay,l=r.standardProps&&!1===r.standardProps.hasEnd,u=(0,h.pi)({},t);return a&&(u.range=ca(u.range)),r.datesDelta&&e.startEditable&&(u.range={start:o.add(u.range.start,r.datesDelta),end:o.add(u.range.end,r.datesDelta)}),r.startDelta&&e.durationEditable&&(u.range={start:o.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&e.durationEditable&&(u.range={start:u.range.start,end:o.add(u.range.end,r.endDelta)}),l&&(u.range={start:u.range.start,end:Si(n.allDay,u.range.start,i)}),n.allDay&&(u.range={start:Oe(u.range.start),end:Oe(u.range.end)}),u.range.end<u.range.start&&(u.range.end=Si(n.allDay,u.range.start,i)),u}var yu=function(){function t(n,e,r){this.type=n,this.getCurrentData=e,this.dateEnv=r}return Object.defineProperty(t.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),t.prototype.getOption=function(n){return this.getCurrentData().options[n]},t}(),bu={id:String,defaultAllDay:Boolean,url:String,format:String,events:j,eventDataTransform:j,success:j,failure:j};function Ea(t,n,e){var r;if(void 0===e&&(e=ya(n)),"string"==typeof t?r={url:t}:"function"==typeof t||Array.isArray(t)?r={events:t}:"object"==typeof t&&t&&(r=t),r){var i=fr(r,e),o=i.refined,a=i.extra,l=function _u(t,n){for(var e=n.pluginHooks.eventSourceDefs,r=e.length-1;r>=0;r-=1){var o=e[r].parseMeta(t);if(o)return{sourceDefId:r,meta:o}}return null}(o,n);if(l)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:o.defaultAllDay,eventDataTransform:o.eventDataTransform,success:o.success,failure:o.failure,publicId:o.id||"",sourceId:un(),sourceDefId:l.sourceDefId,meta:l.meta,ui:gr(o,n),extendedProps:a}}return null}function ya(t){return(0,h.pi)((0,h.pi)((0,h.pi)({},vr),bu),t.pluginHooks.eventSourceRefiners)}function kn(t,n){return"function"==typeof t&&(t=t()),null==t?n.createNowMarker():n.createMarker(t)}var Tu=function(){function t(){}return t.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},t.prototype.dispatch=function(n){return this.currentDataManager.dispatch(n)},Object.defineProperty(t.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),t.prototype.batchRendering=function(n){n()},t.prototype.updateSize=function(){this.trigger("_resize",!0)},t.prototype.setOption=function(n,e){this.dispatch({type:"SET_OPTION",optionName:n,rawOptionValue:e})},t.prototype.getOption=function(n){return this.currentDataManager.currentCalendarOptionsInput[n]},t.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},t.prototype.on=function(n,e){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[n]?r.emitter.on(n,e):console.warn("Unknown listener name '"+n+"'")},t.prototype.off=function(n,e){this.currentDataManager.emitter.off(n,e)},t.prototype.trigger=function(n){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(e=this.currentDataManager.emitter).trigger.apply(e,(0,h.ev)([n],r))},t.prototype.changeView=function(n,e){var r=this;this.batchRendering(function(){if(r.unselect(),e)if(e.start&&e.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:e});else{var i=r.getCurrentData().dateEnv;r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n,dateMarker:i.createMarker(e)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n})})},t.prototype.zoomTo=function(n,e){var i;i=this.getCurrentData().viewSpecs[e=e||"day"]||this.getUnitViewSpec(e),this.unselect(),this.dispatch(i?{type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:n}:{type:"CHANGE_DATE",dateMarker:n})},t.prototype.getUnitViewSpec=function(n){var a,l,e=this.getCurrentData(),r=e.viewSpecs,i=e.toolbarConfig,o=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(var u in r)o.push(u);for(a=0;a<o.length;a+=1)if((l=r[o[a]])&&l.singleUnit===n)return l;return null},t.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},t.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},t.prototype.prevYear=function(){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.addYears(n.currentDate,-1)})},t.prototype.nextYear=function(){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.addYears(n.currentDate,1)})},t.prototype.today=function(){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:kn(n.calendarOptions.now,n.dateEnv)})},t.prototype.gotoDate=function(n){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.createMarker(n)})},t.prototype.incrementDate=function(n){var e=this.getCurrentData(),r=Te(n);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.add(e.currentDate,r)}))},t.prototype.getDate=function(){var n=this.getCurrentData();return n.dateEnv.toDate(n.currentDate)},t.prototype.formatDate=function(n,e){var r=this.getCurrentData().dateEnv;return r.format(r.createMarker(n),Be(e))},t.prototype.formatRange=function(n,e,r){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(n),i.createMarker(e),Be(r),r)},t.prototype.formatIso=function(n,e){var r=this.getCurrentData().dateEnv;return r.formatIso(r.createMarker(n),{omitTime:e})},t.prototype.select=function(n,e){var r;r=null==e?null!=n.start?n:{start:n,end:null}:{start:n,end:e};var i=this.getCurrentData(),o=function uu(t,n,e){var r=function du(t,n){var e=fr(t,cu),r=e.refined,i=e.extra,o=r.start?n.createMarkerMeta(r.start):null,a=r.end?n.createMarkerMeta(r.end):null,l=r.allDay;return null==l&&(l=o&&o.isTimeUnspecified&&(!a||a.isTimeUnspecified)),(0,h.pi)({range:{start:o?o.marker:null,end:a?a.marker:null},allDay:l},i)}(t,n),i=r.range;if(!i.start)return null;if(!i.end){if(null==e)return null;i.end=n.add(i.start,e)}return r}(r,i.dateEnv,Te({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),ma(o,null,i))},t.prototype.unselect=function(n){var e=this.getCurrentData();e.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function gu(t,n){n.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view})}(n,e))},t.prototype.addEvent=function(n,e){if(n instanceof xe){var r=n._def,i=n._instance;return this.getCurrentData().eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Pn({def:r,instance:i})}),this.triggerEventAdd(n)),n}var l,a=this.getCurrentData();if(e instanceof cn)l=e.internalEventSource;else if("boolean"==typeof e)e&&(l=ci(a.eventSources)[0]);else if(null!=e){var u=this.getEventSourceById(e);if(!u)return console.warn('Could not find an event source with ID "'+e+'"'),null;l=u.internalEventSource}var f=la(n,l,a,!1);if(f){var p=new xe(a,f.def,f.def.recurringDef?null:f.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Pn(f)}),this.triggerEventAdd(p),p}return null},t.prototype.triggerEventAdd=function(n){var e=this;this.getCurrentData().emitter.trigger("eventAdd",{event:n,relatedEvents:[],revert:function(){e.dispatch({type:"REMOVE_EVENTS",eventStore:ba(n)})}})},t.prototype.getEventById=function(n){var e=this.getCurrentData(),r=e.eventStore,i=r.defs,o=r.instances;for(var a in n=String(n),i){var l=i[a];if(l.publicId===n){if(l.recurringDef)return new xe(e,l,null);for(var u in o){var f=o[u];if(f.defId===l.defId)return new xe(e,l,f)}}}return null},t.prototype.getEvents=function(){var n=this.getCurrentData();return $t(n.eventStore,n)},t.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},t.prototype.getEventSources=function(){var n=this.getCurrentData(),e=n.eventSources,r=[];for(var i in e)r.push(new cn(n,e[i]));return r},t.prototype.getEventSourceById=function(n){var e=this.getCurrentData(),r=e.eventSources;for(var i in n=String(n),r)if(r[i].publicId===n)return new cn(e,r[i]);return null},t.prototype.addEventSource=function(n){var e=this.getCurrentData();if(n instanceof cn)return e.eventSources[n.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n.internalEventSource]}),n;var r=Ea(n,e);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new cn(e,r)):null},t.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},t.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},t.prototype.scrollToTime=function(n){var e=Te(n);e&&this.trigger("_scrollRequest",{time:e})},t}(),xe=function(){function t(n,e,r){this._context=n,this._def=e,this._instance=r||null}return t.prototype.setProp=function(n,e){var r,i;if(n in sa)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===n)e=mr[n](e),this.mutate({standardProps:{publicId:e}});else if(n in mr)e=mr[n](e),this.mutate({standardProps:(r={},r[n]=e,r)});else if(n in vr){var o=vr[n](e);"color"===n?o={backgroundColor:e,borderColor:e}:"editable"===n?o={startEditable:e,durationEditable:e}:((i={})[n]=e,o=i),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+n+"'. Use setExtendedProp instead.")},t.prototype.setExtendedProp=function(n,e){var r;this.mutate({extendedProps:(r={},r[n]=e,r)})},t.prototype.setStart=function(n,e){void 0===e&&(e={});var r=this._context.dateEnv,i=r.createMarker(n);if(i&&this._instance){var a=vn(this._instance.range.start,i,r,e.granularity);this.mutate(e.maintainDuration?{datesDelta:a}:{startDelta:a})}},t.prototype.setEnd=function(n,e){void 0===e&&(e={});var i,r=this._context.dateEnv;if((null==n||(i=r.createMarker(n)))&&this._instance)if(i){var o=vn(this._instance.range.end,i,r,e.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},t.prototype.setDates=function(n,e,r){void 0===r&&(r={});var l,i=this._context.dateEnv,o={allDay:r.allDay},a=i.createMarker(n);if(a&&(null==e||(l=i.createMarker(e)))&&this._instance){var u=this._instance.range;!0===r.allDay&&(u=ca(u));var f=vn(u.start,a,i,r.granularity);if(l){var p=vn(u.end,l,i,r.granularity);!function Sc(t,n){return t.years===n.years&&t.months===n.months&&t.days===n.days&&t.milliseconds===n.milliseconds}(f,p)?this.mutate({startDelta:f,endDelta:p,standardProps:o}):this.mutate({datesDelta:f,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:f,standardProps:o})}},t.prototype.moveStart=function(n){var e=Te(n);e&&this.mutate({startDelta:e})},t.prototype.moveEnd=function(n){var e=Te(n);e&&this.mutate({endDelta:e})},t.prototype.moveDates=function(n){var e=Te(n);e&&this.mutate({datesDelta:e})},t.prototype.setAllDay=function(n,e){void 0===e&&(e={});var r={allDay:n},i=e.maintainDuration;null==i&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==n&&(r.hasEnd=i),this.mutate({standardProps:r})},t.prototype.formatRange=function(n){var e=this._context.dateEnv,r=this._instance,i=Be(n);return this._def.hasEnd?e.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):e.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})},t.prototype.mutate=function(n){var e=this._instance;if(e){var r=this._def,i=this._context,o=i.getCurrentData().eventStore,a=hi(o,e.instanceId);a=Ti(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},n,i);var u=new t(i,r,e);this._def=a.defs[r.defId],this._instance=a.instances[e.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:$t(a,i,e),revert:function(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}},t.prototype.remove=function(){var n=this._context,e=ba(this);n.dispatch({type:"REMOVE_EVENTS",eventStore:e}),n.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){n.dispatch({type:"MERGE_EVENTS",eventStore:e})}})},Object.defineProperty(t.prototype,"source",{get:function(){var n=this._def.sourceId;return n?new cn(this._context,this._context.getCurrentData().eventSources[n]):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startStr",{get:function(){var n=this._instance;return n?this._context.dateEnv.formatIso(n.range.start,{omitTime:this._def.allDay,forcedTzo:n.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endStr",{get:function(){var n=this._instance;return n&&this._def.hasEnd?this._context.dateEnv.formatIso(n.range.end,{omitTime:this._def.allDay,forcedTzo:n.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(n){void 0===n&&(n={});var e=this._def,r=e.ui,o=this.startStr,a=this.endStr,l={};return e.title&&(l.title=e.title),o&&(l.start=o),a&&(l.end=a),e.publicId&&(l.id=e.publicId),e.groupId&&(l.groupId=e.groupId),e.url&&(l.url=e.url),r.display&&"auto"!==r.display&&(l.display=r.display),n.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(e.extendedProps).length&&(n.collapseExtendedProps?(0,h.pi)(l,e.extendedProps):l.extendedProps=e.extendedProps),l},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function ba(t){var n,e,r=t._def,i=t._instance;return{defs:(n={},n[r.defId]=r,n),instances:i?(e={},e[i.instanceId]=i,e):{}}}function $t(t,n,e){var r=t.defs,i=t.instances,o=[],a=e?e.instanceId:"";for(var l in i){var u=i[l];u.instanceId!==a&&o.push(new xe(n,r[u.defId],u))}return o}var _a={};!function wu(t,n){_a[t]=n}("gregory",function(){function t(){}return t.prototype.getMarkerYear=function(n){return n.getUTCFullYear()},t.prototype.getMarkerMonth=function(n){return n.getUTCMonth()},t.prototype.getMarkerDay=function(n){return n.getUTCDate()},t.prototype.arrayToMarker=function(n){return Je(n)},t.prototype.markerToArray=function(n){return kt(n)},t}());var Du=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,Aa=function(){function t(n){var e=this.timeZone=n.timeZone,r="local"!==e&&"UTC"!==e;n.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new n.namedTimeZoneImpl(e)),this.canComputeOffset=Boolean(!r||this.namedTimeZoneImpl),this.calendarSystem=function Cu(t){return new _a[t]}(n.calendarSystem),this.locale=n.locale,this.weekDow=n.locale.week.dow,this.weekDoy=n.locale.week.doy,"ISO"===n.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof n.firstDay&&(this.weekDow=n.firstDay),"function"==typeof n.weekNumberCalculation&&(this.weekNumberFunc=n.weekNumberCalculation),this.weekText=null!=n.weekText?n.weekText:n.locale.options.weekText,this.weekTextLong=(null!=n.weekTextLong?n.weekTextLong:n.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=n.cmdFormatter,this.defaultSeparator=n.defaultSeparator}return t.prototype.createMarker=function(n){var e=this.createMarkerMeta(n);return null===e?null:e.marker},t.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Je(Wo(new Date))},t.prototype.createMarkerMeta=function(n){if("string"==typeof n)return this.parse(n);var e=null;return"number"==typeof n?e=this.timestampToMarker(n):n instanceof Date?(n=n.valueOf(),isNaN(n)||(e=this.timestampToMarker(n))):Array.isArray(n)&&(e=Je(n)),null!==e&&jo(e)?{marker:e,isTimeUnspecified:!1,forcedTzo:null}:null},t.prototype.parse=function(n){var e=function Mu(t){var n=Du.exec(t);if(n){var e=new Date(Date.UTC(Number(n[1]),n[3]?Number(n[3])-1:0,Number(n[5]||1),Number(n[7]||0),Number(n[8]||0),Number(n[10]||0),n[12]?1e3*Number("0."+n[12]):0));if(jo(e)){var r=null;return n[13]&&(r=("-"===n[15]?-1:1)*(60*Number(n[16]||0)+Number(n[18]||0))),{marker:e,isTimeUnspecified:!n[6],timeZoneOffset:r}}}return null}(n);if(null===e)return null;var r=e.marker,i=null;return null!==e.timeZoneOffset&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-60*e.timeZoneOffset*1e3):i=e.timeZoneOffset),{marker:r,isTimeUnspecified:e.isTimeUnspecified,forcedTzo:i}},t.prototype.getYear=function(n){return this.calendarSystem.getMarkerYear(n)},t.prototype.getMonth=function(n){return this.calendarSystem.getMarkerMonth(n)},t.prototype.add=function(n,e){var r=this.calendarSystem.markerToArray(n);return r[0]+=e.years,r[1]+=e.months,r[2]+=e.days,r[6]+=e.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.subtract=function(n,e){var r=this.calendarSystem.markerToArray(n);return r[0]-=e.years,r[1]-=e.months,r[2]-=e.days,r[6]-=e.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.addYears=function(n,e){var r=this.calendarSystem.markerToArray(n);return r[0]+=e,this.calendarSystem.arrayToMarker(r)},t.prototype.addMonths=function(n,e){var r=this.calendarSystem.markerToArray(n);return r[1]+=e,this.calendarSystem.arrayToMarker(r)},t.prototype.diffWholeYears=function(n,e){var r=this.calendarSystem;return Lt(n)===Lt(e)&&r.getMarkerDay(n)===r.getMarkerDay(e)&&r.getMarkerMonth(n)===r.getMarkerMonth(e)?r.getMarkerYear(e)-r.getMarkerYear(n):null},t.prototype.diffWholeMonths=function(n,e){var r=this.calendarSystem;return Lt(n)===Lt(e)&&r.getMarkerDay(n)===r.getMarkerDay(e)?r.getMarkerMonth(e)-r.getMarkerMonth(n)+12*(r.getMarkerYear(e)-r.getMarkerYear(n)):null},t.prototype.greatestWholeUnit=function(n,e){var r=this.diffWholeYears(n,e);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(n,e))?{unit:"month",value:r}:(r=function dc(t,n){var e=or(t,n);return null!==e&&e%7==0?e/7:null}(n,e),null!==r?{unit:"week",value:r}:null!==(r=or(n,e))?{unit:"day",value:r}:(r=function sc(t,n){return(n.valueOf()-t.valueOf())/36e5}(n,e),ir(r)?{unit:"hour",value:r}:(r=function lc(t,n){return(n.valueOf()-t.valueOf())/6e4}(n,e),ir(r)?{unit:"minute",value:r}:(r=function cc(t,n){return(n.valueOf()-t.valueOf())/1e3}(n,e),ir(r)?{unit:"second",value:r}:{unit:"millisecond",value:e.valueOf()-n.valueOf()}))))},t.prototype.countDurationsBetween=function(n,e,r){var i;return r.years&&null!==(i=this.diffWholeYears(n,e))?i/function wc(t){return pn(t)/365}(r):r.months&&null!==(i=this.diffWholeMonths(n,e))?i/function Cc(t){return pn(t)/30}(r):r.days&&null!==(i=or(n,e))?i/pn(r):(e.valueOf()-n.valueOf())/Xt(r)},t.prototype.startOf=function(n,e){return"year"===e?this.startOfYear(n):"month"===e?this.startOfMonth(n):"week"===e?this.startOfWeek(n):"day"===e?Oe(n):"hour"===e?function fc(t){return Je([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}(n):"minute"===e?function pc(t){return Je([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}(n):"second"===e?function hc(t){return Je([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}(n):null},t.prototype.startOfYear=function(n){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(n)])},t.prototype.startOfMonth=function(n){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(n),this.calendarSystem.getMarkerMonth(n)])},t.prototype.startOfWeek=function(n){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(n),this.calendarSystem.getMarkerMonth(n),n.getUTCDate()-(n.getUTCDay()-this.weekDow+7)%7])},t.prototype.computeWeekNumber=function(n){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(n)):function vc(t,n,e){var r=t.getUTCFullYear(),i=si(t,r,n,e);if(i<1)return si(t,r-1,n,e);var o=si(t,r+1,n,e);return o>=1?Math.min(i,o):i}(n,this.weekDow,this.weekDoy)},t.prototype.format=function(n,e,r){return void 0===r&&(r={}),e.format({marker:n,timeZoneOffset:null!=r.forcedTzo?r.forcedTzo:this.offsetForMarker(n)},this)},t.prototype.formatRange=function(n,e,r,i){return void 0===i&&(i={}),i.isEndExclusive&&(e=Zt(e,-1)),r.formatRange({marker:n,timeZoneOffset:null!=i.forcedStartTzo?i.forcedStartTzo:this.offsetForMarker(n)},{marker:e,timeZoneOffset:null!=i.forcedEndTzo?i.forcedEndTzo:this.offsetForMarker(e)},this,i.defaultSeparator)},t.prototype.formatIso=function(n,e){void 0===e&&(e={});var r=null;return e.omitTimeZoneOffset||(r=null!=e.forcedTzo?e.forcedTzo:this.offsetForMarker(n)),function Rc(t,n,e){void 0===e&&(e=!1);var r=t.toISOString();return r=r.replace(".000",""),e&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==n?r=r.replace("Z",""):0!==n&&(r=r.replace("Z",fi(n,!0)))),r}(n,r,e.omitTime)},t.prototype.timestampToMarker=function(n){return"local"===this.timeZone?Je(Wo(new Date(n))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Je(this.namedTimeZoneImpl.timestampToArray(n)):new Date(n)},t.prototype.offsetForMarker=function(n){return"local"===this.timeZone?-Zo(kt(n)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(kt(n)):null},t.prototype.toDate=function(n,e){return"local"===this.timeZone?Zo(kt(n)):"UTC"===this.timeZone?new Date(n.valueOf()):this.namedTimeZoneImpl?new Date(n.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(kt(n))*60):new Date(n.valueOf()-(e||0))},t}(),Iu=[],Sa={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Ta=(0,h.pi)((0,h.pi)({},Sa),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(t,n){return"day"===n?"Today":"This "+t}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(t){return"Show "+t+" more event"+(1===t?"":"s")}});function wa(t){for(var n=t.length>0?t[0].code:"en",e=Iu.concat(t),r={en:Ta},i=0,o=e;i<o.length;i++){var a=o[i];r[a.code]=a}return{map:r,defaultCode:n}}function wi(t,n){return"object"!=typeof t||Array.isArray(t)?function Ou(t,n){var e=[].concat(t||[]),r=function Pu(t,n){for(var e=0;e<t.length;e+=1)for(var r=t[e].toLocaleLowerCase().split("-"),i=r.length;i>0;i-=1){var o=r.slice(0,i).join("-");if(n[o])return n[o]}return null}(e,n)||Ta;return Ca(t,e,r)}(t,n):Ca(t.code,[t.code],t)}function Ca(t,n,e){var r=li([Sa,e],["buttonText"]);delete r.code;var i=r.week;return delete r.week,{codeArg:t,codes:n,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}var Ci,xu={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Lu(t,n){return t.left>=n.left&&t.left<n.right&&t.top>=n.top&&t.top<n.bottom}function Da(t,n){var e={left:Math.max(t.left,n.left),right:Math.min(t.right,n.right),top:Math.max(t.top,n.top),bottom:Math.min(t.bottom,n.bottom)};return e.left<e.right&&e.top<e.bottom&&e}function Ma(){return null==Ci&&(Ci=function Hu(){if("undefined"==typeof document)return!0;var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);var e=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),e}()),Ci}var Ri={defs:{},instances:{}};function Vu(t,n,e){var r=[];t&&r.push(t),n&&r.push(n);var i={"":aa(r)};return e&&(0,h.pi)(i,e),i}function Ia(t,n,e,r){return{dow:t.getUTCDay(),isDisabled:Boolean(r&&!Kt(r.activeRange,t)),isOther:Boolean(r&&!Kt(r.currentRange,t)),isToday:Boolean(n&&Kt(n,t)),isPast:Boolean(e?t<e:!!n&&t<n.start),isFuture:Boolean(e?t>e:!!n&&t>=n.end)}}function Di(t,n){var e=["fc-day","fc-day-"+qo[t.dow]];return t.isDisabled?e.push("fc-day-disabled"):(t.isToday&&(e.push("fc-day-today"),e.push(n.getClass("today"))),t.isPast&&e.push("fc-day-past"),t.isFuture&&e.push("fc-day-future"),t.isOther&&e.push("fc-day-other")),e}!function(){function t(){this.getKeysForEventDefs=ye(this._getKeysForEventDefs),this.splitDateSelection=ye(this._splitDateSpan),this.splitEventStore=ye(this._splitEventStore),this.splitIndividualUi=ye(this._splitIndividualUi),this.splitEventDrag=ye(this._splitInteraction),this.splitEventResize=ye(this._splitInteraction),this.eventUiBuilders={}}t.prototype.splitProps=function(n){var e=this,r=this.getKeyInfo(n),i=this.getKeysForEventDefs(n.eventStore),o=this.splitDateSelection(n.dateSelection),a=this.splitIndividualUi(n.eventUiBases,i),l=this.splitEventStore(n.eventStore,i),u=this.splitEventDrag(n.eventDrag),f=this.splitEventResize(n.eventResize),p={};for(var E in this.eventUiBuilders=Rt(r,function(G,W){return e.eventUiBuilders[W]||ye(Vu)}),r){var A=r[E],T=l[E]||Ri;p[E]={businessHours:A.businessHours||n.businessHours,dateSelection:o[E]||null,eventStore:T,eventUiBases:(0,this.eventUiBuilders[E])(n.eventUiBases[""],A.ui,a[E]),eventSelection:T.instances[n.eventSelection]?n.eventSelection:"",eventDrag:u[E]||null,eventResize:f[E]||null}}return p},t.prototype._splitDateSpan=function(n){var e={};if(n)for(var i=0,o=this.getKeysForDateSpan(n);i<o.length;i++)e[o[i]]=n;return e},t.prototype._getKeysForEventDefs=function(n){var e=this;return Rt(n.defs,function(r){return e.getKeysForEventDef(r)})},t.prototype._splitEventStore=function(n,e){var r=n.defs,i=n.instances,o={};for(var a in r)for(var l=0,u=e[a];l<u.length;l++)o[f=u[l]]||(o[f]={defs:{},instances:{}}),o[f].defs[a]=r[a];for(var p in i)for(var E=i[p],A=0,T=e[E.defId];A<T.length;A++){var f;o[f=T[A]]&&(o[f].instances[p]=E)}return o},t.prototype._splitIndividualUi=function(n,e){var r={};for(var i in n)if(i)for(var o=0,a=e[i];o<a.length;o++){var l=a[o];r[l]||(r[l]={}),r[l][i]=n[i]}return r},t.prototype._splitInteraction=function(n){var e={};if(n){var r=this._splitEventStore(n.affectedEvents,this._getKeysForEventDefs(n.affectedEvents)),i=this._getKeysForEventDefs(n.mutatedEvents),o=this._splitEventStore(n.mutatedEvents,i),a=function(u){e[u]||(e[u]={affectedEvents:r[u]||Ri,mutatedEvents:o[u]||Ri,isEvent:n.isEvent})};for(var l in r)a(l);for(var l in o)a(l)}return e}}();var zu=Be({year:"numeric",month:"long",day:"numeric"}),Gu=Be({week:"long"});function Mi(t,n,e,r){void 0===e&&(e="day"),void 0===r&&(r=!0);var i=t.dateEnv,o=t.options,a=t.calendarApi,l=i.format(n,"week"===e?Gu:zu);if(o.navLinks){var u=i.toDate(n),f=function(p){var E="day"===e?o.navLinkDayClick:"week"===e?o.navLinkWeekClick:null;"function"==typeof E?E.call(a,i.toDate(n),p):("string"==typeof E&&(e=E),a.zoomTo(n,e))};return(0,h.pi)({title:On(o.navLinkHint,[l,u],l),"data-navlink":""},r?Vo(f):{onClick:f})}return{"aria-label":l}}var Oi,Ii=null;function Oa(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Qu(t,n,e){void 0===n&&(n=!1);var r=e?t.getBoundingClientRect():Pi(t),i=function ju(t,n){void 0===n&&(n=!1);var e=window.getComputedStyle(t),r=parseInt(e.borderLeftWidth,10)||0,i=parseInt(e.borderRightWidth,10)||0,o=parseInt(e.borderTopWidth,10)||0,a=parseInt(e.borderBottomWidth,10)||0,l=Oa(t),u=l.y-r-i,p={borderLeft:r,borderRight:i,borderTop:o,borderBottom:a,scrollbarBottom:l.x-o-a,scrollbarLeft:0,scrollbarRight:0};return function qu(){return null===Ii&&(Ii=function Yu(){var t=document.createElement("div");In(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);var e=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return oi(t),e}()),Ii}()&&"rtl"===e.direction?p.scrollbarLeft=u:p.scrollbarRight=u,n&&(p.paddingLeft=parseInt(e.paddingLeft,10)||0,p.paddingRight=parseInt(e.paddingRight,10)||0,p.paddingTop=parseInt(e.paddingTop,10)||0,p.paddingBottom=parseInt(e.paddingBottom,10)||0),p}(t,n),o={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return n&&(o.left+=i.paddingLeft,o.right-=i.paddingRight,o.top+=i.paddingTop,o.bottom-=i.paddingBottom),o}function Pi(t){var n=t.getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset,right:n.right+window.pageXOffset,bottom:n.bottom+window.pageYOffset}}function Pa(t){for(var n=[];t instanceof HTMLElement;){var e=window.getComputedStyle(t);if("fixed"===e.position)break;/(auto|scroll)/.test(e.overflow+e.overflowY+e.overflowX)&&n.push(t),t=t.parentNode}return n}var _r=function(){function t(){this.handlers={},this.thisContext=null}return t.prototype.setThisContext=function(n){this.thisContext=n},t.prototype.setOptions=function(n){this.options=n},t.prototype.on=function(n,e){!function $u(t,n,e){(t[n]||(t[n]=[])).push(e)}(this.handlers,n,e)},t.prototype.off=function(n,e){!function ed(t,n,e){e?t[n]&&(t[n]=t[n].filter(function(r){return r!==e})):delete t[n]}(this.handlers,n,e)},t.prototype.trigger=function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=this.handlers[n]||[],o=this.options&&this.options[n],a=[].concat(o||[],i),l=0,u=a;l<u.length;l++){var f=u[l];f.apply(this.thisContext,e)}},t.prototype.hasHandlers=function(n){return Boolean(this.handlers[n]&&this.handlers[n].length||this.options&&this.options[n])},t}(),xi=function(){function t(n,e,r,i){this.els=e;var o=this.originClientRect=n.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}return t.prototype.buildElHorizontals=function(n){for(var e=[],r=[],i=0,o=this.els;i<o.length;i++){var l=o[i].getBoundingClientRect();e.push(l.left-n),r.push(l.right-n)}this.lefts=e,this.rights=r},t.prototype.buildElVerticals=function(n){for(var e=[],r=[],i=0,o=this.els;i<o.length;i++){var l=o[i].getBoundingClientRect();e.push(l.top-n),r.push(l.bottom-n)}this.tops=e,this.bottoms=r},t.prototype.leftToIndex=function(n){var a,r=this.lefts,i=this.rights,o=r.length;for(a=0;a<o;a+=1)if(n>=r[a]&&n<i[a])return a},t.prototype.topToIndex=function(n){var a,r=this.tops,i=this.bottoms,o=r.length;for(a=0;a<o;a+=1)if(n>=r[a]&&n<i[a])return a},t.prototype.getWidth=function(n){return this.rights[n]-this.lefts[n]},t.prototype.getHeight=function(n){return this.bottoms[n]-this.tops[n]},t}(),Ni=function(){function t(){}return t.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},t.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},t.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},t.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},t.prototype.canScrollUp=function(){return this.getScrollTop()>0},t.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},t.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},t.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},t}(),td=function(t){function n(e){var r=t.call(this)||this;return r.el=e,r}return(0,h.ZT)(n,t),n.prototype.getScrollTop=function(){return this.el.scrollTop},n.prototype.getScrollLeft=function(){return this.el.scrollLeft},n.prototype.setScrollTop=function(e){this.el.scrollTop=e},n.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},n.prototype.getScrollWidth=function(){return this.el.scrollWidth},n.prototype.getScrollHeight=function(){return this.el.scrollHeight},n.prototype.getClientHeight=function(){return this.el.clientHeight},n.prototype.getClientWidth=function(){return this.el.clientWidth},n}(Ni),nd=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.getScrollTop=function(){return window.pageYOffset},n.prototype.getScrollLeft=function(){return window.pageXOffset},n.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},n.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},n.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},n.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},n.prototype.getClientHeight=function(){return document.documentElement.clientHeight},n.prototype.getClientWidth=function(){return document.documentElement.clientWidth},n}(Ni),Ln=function(){function t(n){this.iconOverrideOption&&this.setIconOverride(n[this.iconOverrideOption])}return t.prototype.setIconOverride=function(n){var e,r;if("object"==typeof n&&n){for(r in e=(0,h.pi)({},this.iconClasses),n)e[r]=this.applyIconOverridePrefix(n[r]);this.iconClasses=e}else!1===n&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(n){var e=this.iconOverridePrefix;return e&&0!==n.indexOf(e)&&(n=e+n),n},t.prototype.getClass=function(n){return this.classes[n]||""},t.prototype.getIconClass=function(n,e){var r;return(r=e&&this.rtlIconClasses&&this.rtlIconClasses[n]||this.iconClasses[n])?this.baseIconClass+" "+r:""},t.prototype.getCustomButtonIconClass=function(n){var e;return this.iconOverrideCustomButtonOption&&(e=n[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(e):""},t}();Ln.prototype.classes={},Ln.prototype.iconClasses={},Ln.prototype.baseIconClass="",Ln.prototype.iconOverridePrefix="";var rd=function(){function t(n,e,r,i){var o=this;this.execFunc=n,this.emitter=e,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=function(a){o.queuedRequest=(0,h.pi)({},o.queuedRequest||{},a),o.drain()},e.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return t.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},t.prototype.update=function(n){n&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},t.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},t.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},t}(),Bt=xo({});function id(t,n,e,r,i,o,a,l,u,f,p,E,A){return{dateEnv:i,options:e,pluginHooks:a,emitter:f,dispatch:l,getCurrentData:u,calendarApi:p,viewSpec:t,viewApi:n,dateProfileGenerator:r,theme:o,isRtl:"rtl"===e.direction,addResizeHandler:function(T){f.on("_resize",T)},removeResizeHandler:function(T){f.off("_resize",T)},createScrollResponder:function(T){return new rd(T,f,Te(e.scrollTime),e.scrollTimeReset)},registerInteractiveComponent:E,unregisterInteractiveComponent:A}}var Ar=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.shouldComponentUpdate=function(e,r){return this.debug&&console.log(Xo(e,this.props),Xo(r,this.state)),!ui(this.props,e,this.propEquality)||!ui(this.state,r,this.stateEquality)},n.prototype.safeSetState=function(e){ui(this.state,(0,h.pi)((0,h.pi)({},this.state),e),this.stateEquality)||this.setState(e)},n.addPropsEquality=od,n.addStateEquality=ad,n.contextType=Bt,n}(ii);Ar.prototype.propEquality={},Ar.prototype.stateEquality={};var Pe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.contextType=Bt,n}(Ar);function od(t){var n=Object.create(this.prototype.propEquality);(0,h.pi)(n,t),this.prototype.propEquality=n}function ad(t){var n=Object.create(this.prototype.stateEquality);(0,h.pi)(n,t),this.prototype.stateEquality=n}function It(t,n){"function"==typeof t?t(n):t&&(t.current=n)}var mn=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=un(),e}return(0,h.ZT)(n,t),n.prototype.prepareHits=function(){},n.prototype.queryHit=function(e,r,i,o){return null},n.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!Ye(e,".fc-event-mirror")},n.prototype.isValidDateDownEl=function(e){return!(Ye(e,".fc-event:not(.fc-bg-event)")||Ye(e,".fc-more-link")||Ye(e,"a[data-navlink]")||Ye(e,".fc-popover"))},n}(Pe);function Ut(t){return{id:un(),deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,contentTypeHandlers:t.contentTypeHandlers||{},listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function cd(t,n){return{reducers:t.reducers.concat(n.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(n.isLoadingFuncs),contextInit:t.contextInit.concat(n.contextInit),eventRefiners:(0,h.pi)((0,h.pi)({},t.eventRefiners),n.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(n.eventDefMemberAdders),eventSourceRefiners:(0,h.pi)((0,h.pi)({},t.eventSourceRefiners),n.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(n.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(n.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(n.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(n.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(n.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(n.dateSpanTransforms),views:(0,h.pi)((0,h.pi)({},t.views),n.views),viewPropsTransformers:t.viewPropsTransformers.concat(n.viewPropsTransformers),isPropsValid:n.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(n.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(n.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(n.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(n.calendarInteractions),componentInteractions:t.componentInteractions.concat(n.componentInteractions),themeClasses:(0,h.pi)((0,h.pi)({},t.themeClasses),n.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(n.eventSourceDefs),cmdFormatter:n.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(n.recurringTypes),namedTimeZonedImpl:n.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||n.initialView,elementDraggingImpl:t.elementDraggingImpl||n.elementDraggingImpl,optionChangeHandlers:(0,h.pi)((0,h.pi)({},t.optionChangeHandlers),n.optionChangeHandlers),scrollGridImpl:n.scrollGridImpl||t.scrollGridImpl,contentTypeHandlers:(0,h.pi)((0,h.pi)({},t.contentTypeHandlers),n.contentTypeHandlers),listenerRefiners:(0,h.pi)((0,h.pi)({},t.listenerRefiners),n.listenerRefiners),optionRefiners:(0,h.pi)((0,h.pi)({},t.optionRefiners),n.optionRefiners),propSetHandlers:(0,h.pi)((0,h.pi)({},t.propSetHandlers),n.propSetHandlers)}}var Ht=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n}(Ln);function ki(t,n,e,r){if(n[t])return n[t];var i=function dd(t,n,e,r){var i=e[t],o=r[t],a=function(p){return i&&null!==i[p]?i[p]:o&&null!==o[p]?o[p]:null},l=a("component"),u=a("superType"),f=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");f=ki(u,n,e,r)}return!l&&f&&(l=f.component),l?{type:t,component:l,defaults:(0,h.pi)((0,h.pi)({},f?f.defaults:{}),i?i.rawOptions:{}),overrides:(0,h.pi)((0,h.pi)({},f?f.overrides:{}),o?o.rawOptions:{})}:null}(t,n,e,r);return i&&(n[t]=i),i}Ht.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Ht.prototype.baseIconClass="fc-icon",Ht.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Ht.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Ht.prototype.iconOverrideOption="buttonIcons",Ht.prototype.iconOverrideCustomButtonOption="icon",Ht.prototype.iconOverridePrefix="fc-icon-";var en=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=at(),e.handleRootEl=function(r){It(e.rootElRef,r),e.props.elRef&&It(e.props.elRef,r)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,r=this.props,i=r.hookProps;return Z(Li,{hookProps:i,didMount:r.didMount,willUnmount:r.willUnmount,elRef:this.handleRootEl},function(o){return Z(Na,{hookProps:i,content:r.content,defaultContent:r.defaultContent,backupElRef:e.rootElRef},function(a,l){return r.children(o,La(r.classNames,i),a,l)})})},n}(Pe),xa=xo(0);function Na(t){return Z(xa.Consumer,null,function(n){return Z(fd,(0,h.pi)({renderId:n},t))})}var fd=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.innerElRef=at(),e}return(0,h.ZT)(n,t),n.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},n.prototype.componentDidMount=function(){this.updateCustomContent()},n.prototype.componentDidUpdate=function(){this.updateCustomContent()},n.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},n.prototype.renderInnerContent=function(){var e=this.customContentInfo,r=this.getInnerContent(),i=this.getContentMeta(r);return e&&e.contentKey===i.contentKey?e&&(e.contentVal=r[i.contentKey]):(e&&(e.destroy&&e.destroy(),e=this.customContentInfo=null),i.contentKey&&(e=this.customContentInfo=(0,h.pi)({contentKey:i.contentKey,contentVal:r[i.contentKey]},i.buildLifecycleFuncs()))),e?[]:r},n.prototype.getInnerContent=function(){var e=this.props,r=Fa(e.content,e.hookProps);return void 0===r&&(r=Fa(e.defaultContent,e.hookProps)),null==r?null:r},n.prototype.getContentMeta=function(e){var r=this.context.pluginHooks.contentTypeHandlers,i="",o=null;if(e)for(var a in r)if(void 0!==e[a]){i=a,o=r[a];break}return{contentKey:i,buildLifecycleFuncs:o}},n.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},n}(Pe),Li=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleRootEl=function(r){e.rootEl=r,e.props.elRef&&It(e.props.elRef,r)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){return this.props.children(this.handleRootEl)},n.prototype.componentDidMount=function(){var e=this.props.didMount;e&&e((0,h.pi)((0,h.pi)({},this.props.hookProps),{el:this.rootEl}))},n.prototype.componentWillUnmount=function(){var e=this.props.willUnmount;e&&e((0,h.pi)((0,h.pi)({},this.props.hookProps),{el:this.rootEl}))},n}(Pe);function ka(){var t,n,e=[];return function(r,i){return(!n||!Dt(n,i)||r!==t)&&(t=r,n=i,e=La(r,i)),e}}function La(t,n){return"function"==typeof t&&(t=t(n)),gi(t)}function Fa(t,n){return"function"==typeof t?t(n,Z):t}var Fi=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalizeClassNames=ka(),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.context,o=i.options,a={view:i.viewApi},l=this.normalizeClassNames(o.viewClassNames,a);return Z(Li,{hookProps:a,didMount:o.viewDidMount,willUnmount:o.viewWillUnmount,elRef:r.elRef},function(u){return r.children(u,["fc-"+r.viewSpec.type+"-view","fc-view"].concat(l))})},n}(Pe);function Ba(t){return Rt(t,pd)}function pd(t){var n="function"==typeof t?{component:t}:t,e=n.component;return n.content&&(e=function hd(t){return function(n){return Z(Bt.Consumer,null,function(e){return Z(Fi,{viewSpec:e.viewSpec},function(r,i){var o=(0,h.pi)((0,h.pi)({},n),{nextDayThreshold:e.options.nextDayThreshold});return Z(en,{hookProps:o,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:r},function(a,l,u,f){return Z("div",{className:i.concat(l).join(" "),ref:a},f)})})})}}(n)),{superType:n.type,component:e,rawOptions:n}}function vd(t,n,e,r){var i=Ba(t),o=Ba(n.views),a=function ud(t,n){var r,e={};for(r in t)ki(r,e,t,n);for(r in n)ki(r,e,t,n);return e}(i,o);return Rt(a,function(l){return function gd(t,n,e,r,i){var o=t.overrides.duration||t.defaults.duration||r.duration||e.duration,a=null,l="",u="",f={};if(o&&(a=function md(t){var n=JSON.stringify(t),e=Ua[n];return void 0===e&&(e=Te(t),Ua[n]=e),e}(o))){var p=di(a);l=p.unit,1===p.value&&(u=l,f=n[l]?n[l].rawOptions:{})}var E=function(T){var D=T.buttonText||{},G=t.defaults.buttonTextKey;return null!=G&&null!=D[G]?D[G]:null!=D[t.type]?D[t.type]:null!=D[u]?D[u]:null},A=function(T){var D=T.buttonHints||{},G=t.defaults.buttonTextKey;return null!=G&&null!=D[G]?D[G]:null!=D[t.type]?D[t.type]:null!=D[u]?D[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:(0,h.pi)((0,h.pi)({},f),t.overrides),buttonTextOverride:E(r)||E(e)||t.overrides.buttonText,buttonTextDefault:E(i)||t.defaults.buttonText||E(Mt)||t.type,buttonTitleOverride:A(r)||A(e)||t.overrides.buttonHint,buttonTitleDefault:A(i)||t.defaults.buttonHint||A(Mt)}}(l,o,n,e,r)})}var Ua={},Ha=function(){function t(n){this.props=n,this.nowDate=kn(n.nowInput,n.dateEnv),this.initHiddenDays()}return t.prototype.buildPrev=function(n,e,r){var i=this.props.dateEnv,o=i.subtract(i.startOf(e,n.currentRangeUnit),n.dateIncrement);return this.build(o,-1,r)},t.prototype.buildNext=function(n,e,r){var i=this.props.dateEnv,o=i.add(i.startOf(e,n.currentRangeUnit),n.dateIncrement);return this.build(o,1,r)},t.prototype.build=function(n,e,r){void 0===r&&(r=!0);var o,a,l,u,f,p,i=this.props;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(n=function tu(t,n){return null!=n.start&&t<n.start?n.start:null!=n.end&&t>=n.end?new Date(n.end.valueOf()-1):t}(n,o)),a=this.buildCurrentRangeInfo(n,e),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),f=u=this.trimHiddenDays(u),i.showNonCurrentDates||(f=xn(f,a.range)),f=xn(f=this.adjustActiveRange(f),o),p=bi(a.range,o),{validRange:o,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:f,renderRange:u,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(a.duration)}},t.prototype.buildValidRange=function(){var n=this.props.validRangeInput,e="function"==typeof n?n.call(this.props.calendarApi,this.nowDate):n;return this.refineRange(e)||{start:null,end:null}},t.prototype.buildCurrentRangeInfo=function(n,e){var l,r=this.props,i=null,o=null,a=null;return r.duration?a=this.buildRangeFromDuration(n,e,i=r.duration,o=r.durationUnit):(l=this.props.dayCount)?(o="day",a=this.buildRangeFromDayCount(n,e,l)):(a=this.buildCustomVisibleRange(n))?o=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(o=di(i=this.getFallbackDuration()).unit,a=this.buildRangeFromDuration(n,e,i,o)),{duration:i,unit:o,range:a}},t.prototype.getFallbackDuration=function(){return Te({day:1})},t.prototype.adjustActiveRange=function(n){var e=this.props,r=e.dateEnv,o=e.slotMinTime,a=e.slotMaxTime,l=n.start,u=n.end;return e.usesMinMaxTime&&(pn(o)<0&&(l=Oe(l),l=r.add(l,o)),pn(a)>1&&(u=Qe(u=Oe(u),-1),u=r.add(u,a))),{start:l,end:u}},t.prototype.buildRangeFromDuration=function(n,e,r,i){var u,f,p,o=this.props,a=o.dateEnv,l=o.dateAlignment;if(!l){var E=this.props.dateIncrement;l=E&&Xt(E)<Xt(r)?di(E).unit:i}function A(){u=a.startOf(n,l),f=a.add(u,r),p={start:u,end:f}}return pn(r)<=1&&this.isHiddenDay(u)&&(u=Oe(u=this.skipHiddenDays(u,e))),A(),this.trimHiddenDays(p)||(n=this.skipHiddenDays(n,e),A()),p},t.prototype.buildRangeFromDayCount=function(n,e,r){var f,i=this.props,a=i.dateAlignment,l=0,u=n;a&&(u=i.dateEnv.startOf(u,a)),u=Oe(u),f=u=this.skipHiddenDays(u,e);do{f=Qe(f,1),this.isHiddenDay(f)||(l+=1)}while(l<r);return{start:u,end:f}},t.prototype.buildCustomVisibleRange=function(n){var e=this.props,r=e.visibleRangeInput,i="function"==typeof r?r.call(e.calendarApi,e.dateEnv.toDate(n)):r,o=this.refineRange(i);return!o||null!=o.start&&null!=o.end?o:null},t.prototype.buildRenderRange=function(n,e,r){return n},t.prototype.buildDateIncrement=function(n){var r;return this.props.dateIncrement||((r=this.props.dateAlignment)?Te(1,r):n||Te({days:1}))},t.prototype.refineRange=function(n){if(n){var e=function Kc(t,n){var e=null,r=null;return t.start&&(e=n.createMarker(t.start)),t.end&&(r=n.createMarker(t.end)),!e&&!r||e&&r&&r<e?null:{start:e,end:r}}(n,this.props.dateEnv);return e&&(e=yi(e)),e}return null},t.prototype.initHiddenDays=function(){var i,n=this.props.hiddenDays||[],e=[],r=0;for(!1===this.props.weekends&&n.push(0,6),i=0;i<7;i+=1)(e[i]=-1!==n.indexOf(i))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=e},t.prototype.trimHiddenDays=function(n){var e=n.start,r=n.end;return e&&(e=this.skipHiddenDays(e)),r&&(r=this.skipHiddenDays(r,-1,!0)),null==e||null==r||e<r?{start:e,end:r}:null},t.prototype.isHiddenDay=function(n){return n instanceof Date&&(n=n.getUTCDay()),this.isHiddenDayHash[n]},t.prototype.skipHiddenDays=function(n,e,r){for(void 0===e&&(e=1),void 0===r&&(r=!1);this.isHiddenDayHash[(n.getUTCDay()+(r?e:0)+7)%7];)n=Qe(n,e);return n},t}();function Va(t){for(var n in t)if(t[n].isFetching)return!0;return!1}function za(t,n,e,r){for(var i={},o=0,a=n;o<a.length;o++){var l=a[o];i[l.sourceId]=l}return e&&(i=Ga(i,e,r)),(0,h.pi)((0,h.pi)({},t),i)}function Ga(t,n,e){return Bi(t,Qt(t,function(r){return function wd(t,n,e){return Ya(t,e)?!e.options.lazyFetching||!t.fetchRange||t.isFetching||n.start<t.fetchRange.start||n.end>t.fetchRange.end:!t.latestFetchId}(r,n,e)}),n,!1,e)}function Bi(t,n,e,r,i){var o={};for(var a in t){var l=t[a];o[a]=n[a]?Cd(l,e,r,i):l}return o}function Cd(t,n,e,r){var i=r.options,o=r.calendarApi,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=un();return a.fetch({eventSource:t,range:n,isRefetch:e,context:r},function(u){var f=u.rawEvents;i.eventSourceSuccess&&(f=i.eventSourceSuccess.call(o,f,u.xhr)||f),t.success&&(f=t.success.call(o,f,u.xhr)||f),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:n,rawEvents:f})},function(u){console.warn(u.message,u),i.eventSourceFailure&&i.eventSourceFailure.call(o,u),t.failure&&t.failure(u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:n,error:u})}),(0,h.pi)((0,h.pi)({},t),{isFetching:!0,latestFetchId:l})}function qa(t,n){return Qt(t,function(e){return Ya(e,n)})}function Ya(t,n){return!n.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Wa(t,n){var e;if(n){e=[];for(var r=0,i=t;r<i.length;r++){var o=i[r],a=n(o);a?e.push(a):null==a&&e.push(o)}}else e=t;return e}function Za(t,n){return hr(t,function(e){return e.sourceId!==n})}function kd(t,n){switch(n.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return n.selection;default:return t}}function Ld(t,n){switch(n.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return n.eventInstanceId;default:return t}}function Fd(t,n){var e;switch(n.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(e=n.state).affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent};default:return t}}function Bd(t,n){var e;switch(n.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(e=n.state).affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent};default:return t}}function Ud(t,n,e,r,i){return{header:t.headerToolbar?ja(t.headerToolbar,t,n,e,r,i):null,footer:t.footerToolbar?ja(t.footerToolbar,t,n,e,r,i):null}}function ja(t,n,e,r,i,o){var a={},l=[],u=!1;for(var f in t){var E=Hd(t[f],n,e,r,i,o);a[f]=E.widgets,l.push.apply(l,E.viewsWithButtons),u=u||E.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:u}}function Hd(t,n,e,r,i,o){var a="rtl"===n.direction,l=n.customButtons||{},u=e.buttonText||{},f=n.buttonText||{},p=e.buttonHints||{},E=n.buttonHints||{},A=t?t.split(" "):[],T=[],D=!1;return{widgets:A.map(function(W){return W.split(",").map(function(F){if("title"===F)return D=!0,{buttonName:F};var ee,ie,ne,ue,le,he;if(ee=l[F])ne=function(_e){ee.click&&ee.click.call(_e.target,_e,_e.target)},(ue=r.getCustomButtonIconClass(ee))||(ue=r.getIconClass(F,a))||(le=ee.text),he=ee.hint||ee.text;else if(ie=i[F]){T.push(F),ne=function(){o.changeView(F)},(le=ie.buttonTextOverride)||(ue=r.getIconClass(F,a))||(le=ie.buttonTextDefault);var fe=ie.buttonTextOverride||ie.buttonTextDefault;he=On(ie.buttonTitleOverride||ie.buttonTitleDefault||n.viewHint,[fe,F],fe)}else if(o[F])if(ne=function(){o[F]()},(le=u[F])||(ue=r.getIconClass(F,a))||(le=f[F]),"prevYear"===F||"nextYear"===F){var be="prevYear"===F?"prev":"next";he=On(p[be]||E[be],[f.year||"year","year"],f[F])}else he=function(_e){return On(p[F]||E[F],[f[_e]||_e,_e],f[F])};return{buttonName:F,buttonClick:ne,buttonIcon:ue,buttonText:le,buttonHint:he}})}),viewsWithButtons:T,hasTitle:D}}function Qa(t){var n=[];for(var e in t)n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")}function Xa(t,n){for(var e=ci(n.getCurrentData().eventSources),r=[],i=0,o=t;i<o.length;i++){for(var a=o[i],l=!1,u=0;u<e.length;u+=1)if(e[u]._raw===a){e.splice(u,1),l=!0;break}l||r.push(a)}for(var f=0,p=e;f<p.length;f++)n.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p[f].sourceId});for(var A=0,T=r;A<T.length;A++)n.calendarApi.addEventSource(T[A])}var Ja=[Ut({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.events)?t.events:null},fetch:function(t,n){n({rawEvents:t.eventSource.meta})}}]}),Ut({eventSourceDefs:[{parseMeta:function(t){return"function"==typeof t.events?t.events:null},fetch:function(t,n,e){!function Ku(t,n,e){var r=!1,i=function(){r||(r=!0,n.apply(this,arguments))},o=function(){r||(r=!0,e&&e.apply(this,arguments))},a=t(i,o);a&&"function"==typeof a.then&&a.then(i,o)}(t.eventSource.meta.bind(null,va(t.range,t.context.dateEnv)),function(o){n({rawEvents:o})},e)}}]}),Ut({eventSourceRefiners:{method:String,extraParams:j,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(t){return!t.url||"json"!==t.format&&t.format?null:{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}},fetch:function(t,n,e){var r=t.eventSource.meta,i=function Xd(t,n,e){var o,a,l,u,r=e.dateEnv,i=e.options,f={};return null==(o=t.startParam)&&(o=i.startParam),null==(a=t.endParam)&&(a=i.endParam),null==(l=t.timeZoneParam)&&(l=i.timeZoneParam),u="function"==typeof t.extraParams?t.extraParams():t.extraParams||{},(0,h.pi)(f,u),f[o]=r.formatIso(n.start),f[a]=r.formatIso(n.end),"local"!==r.timeZone&&(f[l]=r.timeZone),f}(r,t.range,t.context);!function Yd(t,n,e,r,i){var o=null;"GET"===(t=t.toUpperCase())?n=function Wd(t,n){return t+(-1===t.indexOf("?")?"?":"&")+Qa(n)}(n,e):o=Qa(e);var a=new XMLHttpRequest;a.open(t,n,!0),"GET"!==t&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var l=!1,u=void 0;try{u=JSON.parse(a.responseText),l=!0}catch(f){}l?r(u,a):i("Failure parsing JSON",a)}else i("Request failed",a)},a.onerror=function(){i("Request failed",a)},a.send(o)}(r.method,r.url,i,function(o,a){n({rawEvents:o,xhr:a})},function(o,a){e({message:o,xhr:a})})}}]}),Ut({recurringTypes:[{parse:function(t,n){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){var e={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?n.createMarker(t.startRecur):null,endRecur:t.endRecur?n.createMarker(t.endRecur):null},r=void 0;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=function Tc(t,n){return{years:t.years-n.years,months:t.months-n.months,days:t.days-n.days,milliseconds:t.milliseconds-n.milliseconds}}(t.endTime,t.startTime)),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:r,typeData:e}}return null},expand:function(t,n,e){var r=xn(n,{start:t.startRecur,end:t.endRecur});return r?function ef(t,n,e,r){for(var i=t?Qo(t):null,o=Oe(e.start),a=e.end,l=[];o<a;){var u=void 0;(!i||i[o.getUTCDay()])&&(u=n?r.add(o,n):o,l.push(u)),o=Qe(o,1)}return l}(t.daysOfWeek,t.startTime,r,e):[]}}],eventRefiners:{daysOfWeek:j,startTime:Te,endTime:Te,duration:Te,startRecur:j,endRecur:j}}),Ut({optionChangeHandlers:{events:function(t,n){Xa([t],n)},eventSources:Xa}}),Ut({isLoadingFuncs:[function(t){return Va(t.eventSources)}],contentTypeHandlers:{html:function of(){var t=null,n="";return{render:function e(i,o){(i!==t||o!==n)&&(i.innerHTML=o),t=i,n=o},destroy:function r(){t.innerHTML="",t=null,n=""}}},domNodes:function af(){var t=null,n=[];function r(){n.forEach(oi),n=[],t=null}return{render:function e(i,o){var a=Array.prototype.slice.call(o);if(i!==t||!Ft(n,a)){for(var l=0,u=a;l<u.length;l++)i.appendChild(u[l]);r()}t=i,n=a},destroy:r}}},propSetHandlers:{dateProfile:function nf(t,n){n.emitter.trigger("datesSet",(0,h.pi)((0,h.pi)({},va(t.activeRange,n.dateEnv)),{view:n.viewApi}))},eventStore:function rf(t,n){var e=n.emitter;e.hasHandlers("eventsSet")&&e.trigger("eventsSet",$t(t,n))}}})],Ui=function(){function t(n){this.drainedOption=n,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return t.prototype.request=function(n){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==n?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),n))},t.prototype.pause=function(n){void 0===n&&(n="");var e=this.pauseDepths;e[n]=(e[n]||0)+1,this.clearTimeout()},t.prototype.resume=function(n,e){void 0===n&&(n="");var r=this.pauseDepths;n in r&&(e?delete r[n]:(r[n]-=1,r[n]<=0&&delete r[n]),this.tryDrain())},t.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},t.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},t.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},t.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},t.prototype.drained=function(){this.drainedOption&&this.drainedOption()},t}(),sf=function(){function t(n,e){this.runTaskOption=n,this.drainedOption=e,this.queue=[],this.delayedRunner=new Ui(this.drain.bind(this))}return t.prototype.request=function(n,e){this.queue.push(n),this.delayedRunner.request(e)},t.prototype.pause=function(n){this.delayedRunner.pause(n)},t.prototype.resume=function(n,e){this.delayedRunner.resume(n,e)},t.prototype.drain=function(){for(var n=this.queue;n.length;){for(var e=[],r=void 0;r=n.shift();)this.runTask(r),e.push(r);this.drained(e)}},t.prototype.runTask=function(n){this.runTaskOption&&this.runTaskOption(n)},t.prototype.drained=function(n){this.drainedOption&&this.drainedOption(n)},t}();function lf(t,n,e){var r;return r=/^(year|month)$/.test(t.currentRangeUnit)?t.currentRange:t.activeRange,e.formatRange(r.start,r.end,Be(n.titleFormat||function cf(t){var n=t.currentRangeUnit;if("year"===n)return{year:"numeric"};if("month"===n)return{year:"numeric",month:"long"};var e=or(t.currentRange.start,t.currentRange.end);return null!==e&&e>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:n.titleRangeSeparator})}var Ka=function(){function t(n){var e=this;this.computeOptionsData=ye(this._computeOptionsData),this.computeCurrentViewData=ye(this._computeCurrentViewData),this.organizeRawLocales=ye(wa),this.buildLocale=ye(wi),this.buildPluginHooks=function ld(){var e,t=[],n=[];return function(r,i){return(!e||!Ft(r,t)||!Ft(i,n))&&(e=function sd(t,n){var e={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(var a=0,l=o;a<l.length;a++){var u=l[a];e[u.id]||(e[u.id]=!0,i(u.deps),r=cd(r,u))}}return t&&i(t),i(n),r}(r,i)),t=r,n=i,e}}(),this.buildDateEnv=ye(uf),this.buildTheme=ye(df),this.parseToolbars=ye(Ud),this.buildViewSpecs=ye(vd),this.buildDateProfileGenerator=lr(ff),this.buildViewApi=ye(pf),this.buildViewUiProps=lr(gf),this.buildEventUiBySource=ye(hf,Dt),this.buildEventUiBases=ye(vf),this.parseContextBusinessHours=lr(mf),this.buildTitle=ye(lf),this.emitter=new _r,this.actionRunner=new sf(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return e.data},this.dispatch=function(ie){e.actionRunner.request(ie)},this.props=n,this.actionRunner.pause();var r={},i=this.computeOptionsData(n.optionOverrides,r,n.calendarApi),o=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(o,i,n.optionOverrides,r);n.calendarApi.currentDataManager=this,this.emitter.setThisContext(n.calendarApi),this.emitter.setOptions(a.options);var l=function Su(t,n){var e=t.initialDate;return null!=e?n.createMarker(e):kn(t.now,n)}(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);Kt(u.activeRange,l)||(l=u.currentRange.start);for(var f={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},p=0,E=i.pluginHooks.contextInit;p<E.length;p++)(0,E[p])(f);for(var T=function _d(t,n,e){var r=n?n.activeRange:null;return za({},function Dd(t,n){var e=ya(n),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(var o=0,a=r;o<a.length;o++){var u=Ea(a[o],n,e);u&&i.push(u)}return i}(t,e),r,e)}(i.calendarOptions,u,f),D={dynamicOptionOverrides:r,currentViewType:o,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(f),eventSources:T,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(f).selectionConfig},G=(0,h.pi)((0,h.pi)({},f),D),W=0,F=i.pluginHooks.reducers;W<F.length;W++)(0,h.pi)(D,(0,F[W])(null,null,G));Hi(D,f)&&this.emitter.trigger("loading",!0),this.state=D,this.updateData(),this.actionRunner.resume()}return t.prototype.resetOptions=function(n,e){var r=this.props;r.optionOverrides=e?(0,h.pi)((0,h.pi)({},r.optionOverrides),n):n,this.actionRunner.request({type:"NOTHING"})},t.prototype._handleAction=function(n){var e=this,r=e.props,i=e.state,o=e.emitter,a=function yd(t,n){var e;return"SET_OPTION"===n.type?(0,h.pi)((0,h.pi)({},t),((e={})[n.optionName]=n.rawOptionValue,e)):t}(i.dynamicOptionOverrides,n),l=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),u=function Ed(t,n){return"CHANGE_VIEW_TYPE"===n.type&&(t=n.viewType),t}(i.currentViewType,n),f=this.computeCurrentViewData(u,l,r.optionOverrides,a);r.calendarApi.currentDataManager=this,o.setThisContext(r.calendarApi),o.setOptions(f.options);var p={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},E=i.currentDate,A=i.dateProfile;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(A=f.dateProfileGenerator.build(E)),E=function Au(t,n){return"CHANGE_DATE"===n.type?n.dateMarker:t}(E,n),A=function bd(t,n,e,r){var i;switch(n.type){case"CHANGE_VIEW_TYPE":return r.build(n.dateMarker||e);case"CHANGE_DATE":return r.build(n.dateMarker);case"PREV":if((i=r.buildPrev(t,e)).isValid)return i;break;case"NEXT":if((i=r.buildNext(t,e)).isValid)return i}return t}(A,n,E,f.dateProfileGenerator),("PREV"===n.type||"NEXT"===n.type||!Kt(A.currentRange,E))&&(E=A.currentRange.start);for(var T=function Ad(t,n,e,r){var i=e?e.activeRange:null;switch(n.type){case"ADD_EVENT_SOURCES":return za(t,n.sources,i,r);case"REMOVE_EVENT_SOURCE":return function Td(t,n){return Qt(t,function(e){return e.sourceId!==n})}(t,n.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return e?Ga(t,i,r):t;case"FETCH_EVENT_SOURCES":return Bi(t,n.sourceIds?Qo(n.sourceIds):qa(t,r),i,n.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function Rd(t,n,e,r){var i,o=t[n];return o&&e===o.latestFetchId?(0,h.pi)((0,h.pi)({},t),((i={})[n]=(0,h.pi)((0,h.pi)({},o),{isFetching:!1,fetchRange:r}),i)):t}(t,n.sourceId,n.fetchId,n.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}(i.eventSources,n,A,p),D=function Md(t,n,e,r,i){switch(n.type){case"RECEIVE_EVENTS":return function Id(t,n,e,r,i,o){if(n&&e===n.latestFetchId){var a=pr(function Od(t,n,e){var r=e.options.eventDataTransform,i=n?n.eventDataTransform:null;return i&&(t=Wa(t,i)),r&&(t=Wa(t,r)),t}(i,n,o),n,o);return r&&(a=fn(a,r,o)),vi(Za(t,n.sourceId),a)}return t}(t,e[n.sourceId],n.fetchId,n.fetchRange,n.rawEvents,i);case"ADD_EVENTS":return function Pd(t,n,e,r){return e&&(n=fn(n,e,r)),vi(t,n)}(t,n.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return n.eventStore;case"MERGE_EVENTS":return vi(t,n.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?fn(t,r.activeRange,i):t;case"REMOVE_EVENTS":return function Yc(t,n){var e=t.defs,r=t.instances,i={},o={};for(var a in e)n.defs[a]||(i[a]=e[a]);for(var l in r)!n.instances[l]&&i[r[l].defId]&&(o[l]=r[l]);return{defs:i,instances:o}}(t,n.eventStore);case"REMOVE_EVENT_SOURCE":return Za(t,n.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return hr(t,function(o){return!o.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return t}}(i.eventStore,n,T,A,p),W=Va(T)&&!f.options.progressiveEventRendering&&i.renderableEventStore||D,F=this.buildViewUiProps(p),ee=F.eventUiSingleBase,ie=F.selectionConfig,ne=this.buildEventUiBySource(T),le={dynamicOptionOverrides:a,currentViewType:u,currentDate:E,dateProfile:A,eventSources:T,eventStore:D,renderableEventStore:W,selectionConfig:ie,eventUiBases:this.buildEventUiBases(W.defs,ee,ne),businessHours:this.parseContextBusinessHours(p),dateSelection:kd(i.dateSelection,n),eventSelection:Ld(i.eventSelection,n),eventDrag:Fd(i.eventDrag,n),eventResize:Bd(i.eventResize,n)},he=(0,h.pi)((0,h.pi)({},p),le),fe=0,be=l.pluginHooks.reducers;fe<be.length;fe++)(0,h.pi)(le,(0,be[fe])(i,n,he));var we=Hi(i,p),Me=Hi(le,p);!we&&Me?o.trigger("loading",!0):we&&!Me&&o.trigger("loading",!1),this.state=le,r.onAction&&r.onAction(n)},t.prototype.updateData=function(){var e=this.props,r=this.state,i=this.data,o=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,o,e.optionOverrides,r.dynamicOptionOverrides),l=this.data=(0,h.pi)((0,h.pi)((0,h.pi)({viewTitle:this.buildTitle(r.dateProfile,a.options,o.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o),a),r),u=o.pluginHooks.optionChangeHandlers,f=i&&i.calendarOptions,p=o.calendarOptions;if(f&&f!==p)for(var E in f.timeZone!==p.timeZone&&(r.eventSources=l.eventSources=function Sd(t,n,e){var r=n?n.activeRange:null;return Bi(t,qa(t,e),r,!0,e)}(l.eventSources,r.dateProfile,l),r.eventStore=l.eventStore=function xd(t,n,e){var r=t.defs,i=Rt(t.instances,function(o){var a=r[o.defId];return a.allDay||a.recurringDef?o:(0,h.pi)((0,h.pi)({},o),{range:{start:e.createMarker(n.toDate(o.range.start,o.forcedStartTzo)),end:e.createMarker(n.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:e.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:e.canComputeOffset?null:o.forcedEndTzo})});return{defs:r,instances:i}}(l.eventStore,i.dateEnv,l.dateEnv)),u)f[E]!==p[E]&&u[E](p[E],l);e.onData&&e.onData(l)},t.prototype._computeOptionsData=function(n,e,r){var i=this.processRawCalendarOptions(n,e),o=i.refinedOptions,a=i.pluginHooks,l=i.localeDefaults,u=i.availableLocaleData;$a(i.extra);var p=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,a,u,o.defaultRangeSeparator),E=this.buildViewSpecs(a.views,n,e,l),A=this.buildTheme(o,a);return{calendarOptions:o,pluginHooks:a,dateEnv:p,viewSpecs:E,theme:A,toolbarConfig:this.parseToolbars(o,n,A,E,r),localeDefaults:l,availableRawLocales:u.map}},t.prototype.processRawCalendarOptions=function(n,e){var r=pi([Mt,n,e]),o=r.locale,a=this.organizeRawLocales(r.locales),u=this.buildLocale(o||a.defaultCode,a.map).options,f=this.buildPluginHooks(n.plugins||[],Ja),p=this.currentCalendarOptionsRefiners=(0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)({},ra),ia),oa),f.listenerRefiners),f.optionRefiners),E={},A=pi([Mt,u,n,e]),T={},D=this.currentCalendarOptionsInput,G=this.currentCalendarOptionsRefined,W=!1;for(var F in A)"plugins"!==F&&(A[F]===D[F]||Jt[F]&&F in D&&Jt[F](D[F],A[F])?T[F]=G[F]:p[F]?(T[F]=p[F](A[F]),W=!0):E[F]=D[F]);return W&&(this.currentCalendarOptionsInput=A,this.currentCalendarOptionsRefined=T),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:a,localeDefaults:u,extra:E}},t.prototype._computeCurrentViewData=function(n,e,r,i){var o=e.viewSpecs[n];if(!o)throw new Error('viewType "'+n+"\" is not available. Please make sure you've loaded all neccessary plugins");var a=this.processRawViewOptions(o,e.pluginHooks,e.localeDefaults,r,i),l=a.refinedOptions;return $a(a.extra),{viewSpec:o,options:l,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:e.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,monthMode:l.monthMode,fixedWeekCount:l.fixedWeekCount}),viewApi:this.buildViewApi(n,this.getCurrentData,e.dateEnv)}},t.prototype.processRawViewOptions=function(n,e,r,i,o){var a=pi([Mt,n.optionDefaults,r,i,n.optionOverrides,o]),l=(0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)({},ra),ia),oa),Gc),e.listenerRefiners),e.optionRefiners),u={},f=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,E=!1,A={};for(var T in a)a[T]===f[T]||Jt[T]&&Jt[T](a[T],f[T])?u[T]=p[T]:(a[T]===this.currentCalendarOptionsInput[T]||Jt[T]&&Jt[T](a[T],this.currentCalendarOptionsInput[T])?T in this.currentCalendarOptionsRefined&&(u[T]=this.currentCalendarOptionsRefined[T]):l[T]?u[T]=l[T](a[T]):A[T]=a[T],E=!0);return E&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:A}},t}();function uf(t,n,e,r,i,o,a,l){var u=wi(n||a.defaultCode,a.map);return new Aa({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:u,weekNumberCalculation:e,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function df(t,n){return new(n.themeClasses[t.themeSystem]||Ht)(t)}function ff(t){return new(t.dateProfileGeneratorClass||Ha)(t)}function pf(t,n,e){return new yu(t,n,e)}function hf(t){return Rt(t,function(n){return n.ui})}function vf(t,n,e){var r={"":n};for(var i in t){var o=t[i];o.sourceId&&e[o.sourceId]&&(r[i]=e[o.sourceId])}return r}function gf(t){var n=t.options;return{eventUiSingleBase:gr({display:n.eventDisplay,editable:n.editable,startEditable:n.eventStartEditable,durationEditable:n.eventDurationEditable,constraint:n.eventConstraint,overlap:"boolean"==typeof n.eventOverlap?n.eventOverlap:void 0,allow:n.eventAllow,backgroundColor:n.eventBackgroundColor,borderColor:n.eventBorderColor,textColor:n.eventTextColor,color:n.eventColor},t),selectionConfig:gr({constraint:n.selectConstraint,overlap:"boolean"==typeof n.selectOverlap?n.selectOverlap:void 0,allow:n.selectAllow},t)}}function Hi(t,n){for(var e=0,r=n.pluginHooks.isLoadingFuncs;e<r.length;e++)if((0,r[e])(t))return!0;return!1}function mf(t){return function Nu(t,n){return pr(function ku(t){return(!0===t?[{}]:Array.isArray(t)?t.filter(function(e){return e.daysOfWeek}):"object"==typeof t&&t?[t]:[]).map(function(e){return(0,h.pi)((0,h.pi)({},xu),e)})}(t),null,n)}(t.options.businessHours,t)}function $a(t,n){for(var e in t)console.warn("Unknown option '"+e+"'"+(n?" for view '"+n+"'":""))}!function(t){function n(e){var r=t.call(this,e)||this;return r.handleData=function(i){r.dataManager?r.setState(i):r.state=i},r.dataManager=new Ka({optionOverrides:e.optionOverrides,calendarApi:e.calendarApi,onData:r.handleData}),r}(0,h.ZT)(n,t),n.prototype.render=function(){return this.props.children(this.state)},n.prototype.componentDidUpdate=function(e){var r=this.props.optionOverrides;r!==e.optionOverrides&&this.dataManager.resetOptions(r)}}(ii);var Ef=function(){function t(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return t.prototype.addSegs=function(n){for(var e=[],r=0,i=n;r<i.length;r++)this.insertEntry(i[r],e);return e},t.prototype.insertEntry=function(n,e){var r=this.findInsertion(n);return this.isInsertionValid(r,n)?(this.insertEntryAt(n,r),1):this.handleInvalidInsertion(r,n,e)},t.prototype.isInsertionValid=function(n,e){return(-1===this.maxCoord||n.levelCoord+e.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||n.stackCnt<this.maxStackCnt)},t.prototype.handleInvalidInsertion=function(n,e,r){return this.allowReslicing&&n.touchingEntry?this.splitEntry(e,n.touchingEntry,r):(r.push(e),0)},t.prototype.splitEntry=function(n,e,r){var i=0,o=[],a=n.span,l=e.span;return a.start<l.start&&(i+=this.insertEntry({index:n.index,thickness:n.thickness,span:{start:a.start,end:l.start}},o)),a.end>l.end&&(i+=this.insertEntry({index:n.index,thickness:n.thickness,span:{start:l.end,end:a.end}},o)),i?(r.push.apply(r,(0,h.ev)([{index:n.index,thickness:n.thickness,span:Vi(l,a)}],o)),i):(r.push(n),0)},t.prototype.insertEntryAt=function(n,e){var i=this.entriesByLevel;-1===e.lateral?(zi(this.levelCoords,e.level,e.levelCoord),zi(i,e.level,[n])):zi(i[e.level],e.lateral,n),this.stackCnts[Fn(n)]=e.stackCnt},t.prototype.findInsertion=function(n){for(var e=this,r=e.levelCoords,i=e.entriesByLevel,o=e.strictOrder,a=e.stackCnts,l=r.length,u=0,f=-1,p=-1,E=null,A=0,T=0;T<l;T+=1){var D=r[T];if(!o&&D>=u+n.thickness)break;for(var G=i[T],W=void 0,F=ts(G,n.span.start,es),ee=F[0]+F[1];(W=G[ee])&&W.span.start<n.span.end;){var ie=D+W.thickness;ie>u&&(u=ie,E=W,f=T,p=ee),ie===u&&(A=Math.max(A,a[Fn(W)]+1)),ee+=1}}var ne=0;if(E)for(ne=f+1;ne<l&&r[ne]<u;)ne+=1;var ue=-1;return ne<l&&r[ne]===u&&(ue=ts(i[ne],n.span.end,es)[0]),{touchingLevel:f,touchingLateral:p,touchingEntry:E,stackCnt:A,levelCoord:u,level:ne,lateral:ue}},t.prototype.toRects=function(){for(var e=this.entriesByLevel,r=this.levelCoords,i=e.length,o=[],a=0;a<i;a+=1)for(var u=r[a],f=0,p=e[a];f<p.length;f++)o.push((0,h.pi)((0,h.pi)({},p[f]),{levelCoord:u}));return o},t}();function es(t){return t.span.end}function Fn(t){return t.index+":"+t.span.start}function Vi(t,n){var e=Math.max(t.start,n.start),r=Math.min(t.end,n.end);return e<r?{start:e,end:r}:null}function zi(t,n,e){t.splice(n,0,e)}function ts(t,n,e){var r=0,i=t.length;if(!i||n<e(t[r]))return[0,0];if(n>e(t[i-1]))return[i,0];for(;r<i;){var o=Math.floor(r+(i-r)/2),a=e(t[o]);if(n<a)i=o;else{if(!(n>a))return[o,1];r=o+1}}return[r,0]}var En=function(){function t(n){this.component=n.component,this.isHitComboAllowed=n.isHitComboAllowed||null}return t.prototype.destroy=function(){},t}();function bf(t,n){return{component:t,el:n.el,useEventCenter:null==n.useEventCenter||n.useEventCenter,isHitComboAllowed:n.isHitComboAllowed||null}}function Gi(t){var n;return(n={})[t.component.uid]=t,n}var Sr={},ns=function(){function t(n,e){this.emitter=new _r}return t.prototype.destroy=function(){},t.prototype.setMirrorIsVisible=function(n){},t.prototype.setMirrorNeedsRevert=function(n){},t.prototype.setAutoScrollEnabled=function(n){},t}(),Tr={},_f={startTime:Te,duration:Te,create:Boolean,sourceId:String};function qi(t){var n=fr(t,_f),e=n.refined;return{startTime:e.startTime||null,duration:e.duration||null,create:null==e.create||e.create,sourceId:e.sourceId,leftoverProps:n.extra}}var Af=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,r=this.props.widgetGroups.map(function(i){return e.renderWidgetGroup(i)});return Z.apply(void 0,(0,h.ev)(["div",{className:"fc-toolbar-chunk"}],r))},n.prototype.renderWidgetGroup=function(e){for(var r=this.props,i=this.context.theme,o=[],a=!0,l=0,u=e;l<u.length;l++){var f=u[l],p=f.buttonName,E=f.buttonClick,A=f.buttonText,T=f.buttonIcon,D=f.buttonHint;if("title"===p)a=!1,o.push(Z("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{var G=p===r.activeButton,W=!r.isTodayEnabled&&"today"===p||!r.isPrevEnabled&&"prev"===p||!r.isNextEnabled&&"next"===p,F=["fc-"+p+"-button",i.getClass("button")];G&&F.push(i.getClass("buttonActive")),o.push(Z("button",{type:"button",title:"function"==typeof D?D(r.navUnit):D,disabled:W,"aria-pressed":G,className:F.join(" "),onClick:E},A||(T?Z("span",{className:T}):"")))}}if(o.length>1){var ee=a&&i.getClass("buttonGroup")||"";return Z.apply(void 0,(0,h.ev)(["div",{className:ee}],o))}return o[0]},n}(Pe),rs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var a,l,e=this.props,o=!1,u=e.model.sectionWidgets,f=u.center;return u.left?(o=!0,a=u.left):a=u.start,u.right?(o=!0,l=u.right):l=u.end,Z("div",{className:[e.extraClassName||"","fc-toolbar",o?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",f||[]),this.renderSection("end",l||[]))},n.prototype.renderSection=function(e,r){var i=this.props;return Z(Af,{key:e,widgetGroups:r,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})},n}(Pe),Sf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={availableWidth:null},e.handleEl=function(r){e.el=r,It(e.props.elRef,r),e.updateAvailableWidth()},e.handleResize=function(){e.updateAvailableWidth()},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.state,o=r.aspectRatio,l="",u="";return o?null!==i.availableWidth?l=i.availableWidth/o:u=1/o*100+"%":l=r.height||"",Z("div",{"aria-labelledby":r.labeledById,ref:this.handleEl,className:["fc-view-harness",o||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:l,paddingBottom:u}},r.children)},n.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},n.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},n.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},n}(Pe),Tf=function(t){function n(e){var r=t.call(this,e)||this;return r.handleSegClick=function(i,o){var a=r.component,l=a.context,u=gn(o);if(u&&a.isValidSegDownEl(i.target)){var f=Ye(i.target,".fc-event-forced-url"),p=f?f.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:o,event:new xe(a.context,u.eventRange.def,u.eventRange.instance),jsEvent:i,view:l.viewApi}),p&&!i.defaultPrevented&&(window.location.href=p)}},r.destroy=Uo(e.el,"click",".fc-event",r.handleSegClick),r}return(0,h.ZT)(n,t),n}(En),wf=function(t){function n(e){var r=t.call(this,e)||this;return r.handleEventElRemove=function(i){i===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(i,o){gn(o)&&(r.currentSegEl=o,r.triggerEvent("eventMouseEnter",i,o))},r.handleSegLeave=function(i,o){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",i,o))},r.removeHoverListeners=function jl(t,n,e,r){var i;return Uo(t,"mouseover",n,function(o,a){if(a!==i){i=a,e(o,a);var l=function(u){i=null,r(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}(e.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.removeHoverListeners()},n.prototype.triggerEvent=function(e,r,i){var o=this.component,a=o.context,l=gn(i);(!r||o.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:i,event:new xe(a,l.eventRange.def,l.eventRange.instance),jsEvent:r,view:a.viewApi})},n}(En),Cf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildViewContext=ye(id),e.buildViewPropTransformers=ye(Df),e.buildToolbarProps=ye(Rf),e.headerRef=at(),e.footerRef=at(),e.interactionsStore={},e.state={viewLabelId:er()},e.registerInteractiveComponent=function(r,i){var o=bf(r,i),u=[Tf,wf].concat(e.props.pluginHooks.componentInteractions).map(function(f){return new f(o)});e.interactionsStore[r.uid]=u,Sr[r.uid]=o},e.unregisterInteractiveComponent=function(r){var i=e.interactionsStore[r.uid];if(i){for(var o=0,a=i;o<a.length;o++)a[o].destroy();delete e.interactionsStore[r.uid]}delete Sr[r.uid]},e.resizeRunner=new Ui(function(){e.props.emitter.trigger("_resize",!0),e.props.emitter.trigger("windowResize",{view:e.props.viewApi})}),e.handleWindowResize=function(r){var i=e.props.options;i.handleWindowResize&&r.target===window&&e.resizeRunner.request(i.windowResizeDelay)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var u,e=this.props,r=e.toolbarConfig,i=e.options,o=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,kn(e.options.now,e.dateEnv),e.viewTitle),a=!1,l="";e.isHeightAuto||e.forPrint?l="":null!=i.height?a=!0:null!=i.contentHeight?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);var f=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),p=r.header&&r.header.hasTitle?this.state.viewLabelId:"";return Z(Bt.Provider,{value:f},r.header&&Z(rs,(0,h.pi)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:p},o)),Z(Sf,{liquid:a,height:l,aspectRatio:u,labeledById:p},this.renderView(e),this.buildAppendContent()),r.footer&&Z(rs,(0,h.pi)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},o)))},n.prototype.componentDidMount=function(){var e=this.props;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(function(o){return new o(e)}),window.addEventListener("resize",this.handleWindowResize);var r=e.pluginHooks.propSetHandlers;for(var i in r)r[i](e[i],e)},n.prototype.componentDidUpdate=function(e){var r=this.props,i=r.pluginHooks.propSetHandlers;for(var o in i)r[o]!==e[o]&&i[o](r[o],r)},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e=0,r=this.calendarInteractions;e<r.length;e++)r[e].destroy();this.props.emitter.trigger("_unmount")},n.prototype.buildAppendContent=function(){var e=this.props,r=e.pluginHooks.viewContainerAppends.map(function(i){return i(e)});return Z.apply(void 0,(0,h.ev)([Xe,{}],r))},n.prototype.renderView=function(e){for(var i=e.viewSpec,o={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},l=0,u=this.buildViewPropTransformers(e.pluginHooks.viewPropsTransformers);l<u.length;l++)(0,h.pi)(o,u[l].transform(o,e));return Z(i.component,(0,h.pi)({},o))},n}(Ar);function Rf(t,n,e,r,i,o){var a=e.build(i,void 0,!1),l=e.buildPrev(n,r,!1),u=e.buildNext(n,r,!1);return{title:o,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!Kt(n.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function Df(t){return t.map(function(n){return new n})}var Mf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={forPrint:!1},e.handleBeforePrint=function(){e.setState({forPrint:!0})},e.handleAfterPrint=function(){e.setState({forPrint:!1})},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.props,r=e.options,i=this.state.forPrint,o=i||"auto"===r.height||"auto"===r.contentHeight,a=o||null==r.height?"":r.height,l=["fc",i?"fc-media-print":"fc-media-screen","fc-direction-"+r.direction,e.theme.getClass("root")];return Ma()||l.push("fc-liquid-hack"),e.children(l,a,o,i)},n.prototype.componentDidMount=function(){var e=this.props.emitter;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)},n.prototype.componentWillUnmount=function(){var e=this.props.emitter;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)},n}(Pe),is="fc-col-header-cell";function os(t){return t.text}var Of=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.context,r=e.dateEnv,i=e.options,o=e.theme,a=e.viewApi,l=this.props,u=l.date,p=Ia(u,l.todayRange,null,l.dateProfile),E=[is].concat(Di(p,o)),A=r.format(u,l.dayHeaderFormat),T=!p.isDisabled&&l.colCnt>1?Mi(this.context,u):{},D=(0,h.pi)((0,h.pi)((0,h.pi)({date:r.toDate(u),view:a},l.extraHookProps),{text:A}),p);return Z(en,{hookProps:D,classNames:i.dayHeaderClassNames,content:i.dayHeaderContent,defaultContent:os,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},function(G,W,F,ee){return Z("th",(0,h.pi)({ref:G,role:"columnheader",className:E.concat(W).join(" "),"data-date":p.isDisabled?void 0:$o(u),colSpan:l.colSpan},l.extraDataAttrs),Z("div",{className:"fc-scrollgrid-sync-inner"},!p.isDisabled&&Z("a",(0,h.pi)({ref:F,className:["fc-col-header-cell-cushion",l.isSticky?"fc-sticky":""].join(" ")},T),ee)))})},n}(Pe),Pf=Be({weekday:"long"}),xf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.props,r=this.context,i=r.dateEnv,o=r.theme,a=r.viewApi,l=r.options,u=Qe(new Date(2592e5),e.dow),f={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},p=[is].concat(Di(f,o),e.extraClassNames||[]),E=i.format(u,e.dayHeaderFormat),A=(0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)({date:u},f),{view:a}),e.extraHookProps),{text:E});return Z(en,{hookProps:A,classNames:l.dayHeaderClassNames,content:l.dayHeaderContent,defaultContent:os,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},function(T,D,G,W){return Z("th",(0,h.pi)({ref:T,role:"columnheader",className:p.concat(D).join(" "),colSpan:e.colSpan},e.extraDataAttrs),Z("div",{className:"fc-scrollgrid-sync-inner"},Z("a",{"aria-label":i.format(u,Pf),className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:G},W)))})},n}(Pe),as=function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.initialNowDate=kn(r.options.now,r.dateEnv),i.initialNowQueriedMs=(new Date).valueOf(),i.state=i.computeTiming().currentState,i}return(0,h.ZT)(n,t),n.prototype.render=function(){var i=this.state;return this.props.children(i.nowDate,i.todayRange)},n.prototype.componentDidMount=function(){this.setTimeout()},n.prototype.componentDidUpdate=function(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},n.prototype.componentWillUnmount=function(){this.clearTimeout()},n.prototype.computeTiming=function(){var r=this.props,i=this.context,o=Zt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),a=i.dateEnv.startOf(o,r.unit),l=i.dateEnv.add(a,Te(1,r.unit)),u=l.valueOf()-o.valueOf();return u=Math.min(864e5,u),{currentState:{nowDate:a,todayRange:ss(a)},nextState:{nowDate:l,todayRange:ss(l)},waitMs:u}},n.prototype.setTimeout=function(){var e=this,r=this.computeTiming(),i=r.nextState;this.timeoutId=setTimeout(function(){e.setState(i,function(){e.setTimeout()})},r.waitMs)},n.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},n.contextType=Bt,n}(ii);function ss(t){var n=Oe(t);return{start:n,end:Qe(n,1)}}var Nf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.createDayHeaderFormatter=ye(kf),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=r.dates,o=r.dateProfile,a=r.datesRepDistinctDays,l=r.renderIntro,u=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,a,i.length);return Z(as,{unit:"day"},function(f,p){return Z("tr",{role:"row"},l&&l("day"),i.map(function(E){return a?Z(Of,{key:E.toISOString(),date:E,dateProfile:o,todayRange:p,colCnt:i.length,dayHeaderFormat:u}):Z(xf,{key:E.getUTCDay(),dow:E.getUTCDay(),dayHeaderFormat:u})}))})},n}(Pe);function kf(t,n,e){return t||function If(t,n){return Be(!t||n>10?{weekday:"short"}:n>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(n,e)}var Lf=function(){function t(n,e){for(var r=n.start,i=n.end,o=[],a=[],l=-1;r<i;)e.isHiddenDay(r)?o.push(l+.5):(o.push(l+=1),a.push(r)),r=Qe(r,1);this.dates=a,this.indices=o,this.cnt=a.length}return t.prototype.sliceRange=function(n){var e=this.getDateDayIndex(n.start),r=this.getDateDayIndex(Qe(n.end,-1)),i=Math.max(0,e),o=Math.min(this.cnt-1,r);return(i=Math.ceil(i))<=(o=Math.floor(o))?{firstIndex:i,lastIndex:o,isStart:e===i,isEnd:r===o}:null},t.prototype.getDateDayIndex=function(n){var e=this.indices,r=Math.floor(jt(this.dates[0],n));return r<0?e[0]-1:r>=e.length?e[e.length-1]+1:e[r]},t}(),Ff=function(){function t(n,e){var i,o,a,r=n.dates;if(e){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=n,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return t.prototype.buildCells=function(){for(var n=[],e=0;e<this.rowCnt;e+=1){for(var r=[],i=0;i<this.colCnt;i+=1)r.push(this.buildCell(e,i));n.push(r)}return n},t.prototype.buildCell=function(n,e){var r=this.daySeries.dates[n*this.colCnt+e];return{key:r.toISOString(),date:r}},t.prototype.buildHeaderDates=function(){for(var n=[],e=0;e<this.colCnt;e+=1)n.push(this.cells[0][e].date);return n},t.prototype.sliceRange=function(n){var e=this.colCnt,r=this.daySeries.sliceRange(n),i=[];if(r)for(var o=r.firstIndex,a=r.lastIndex,l=o;l<=a;){var u=Math.floor(l/e),f=Math.min((u+1)*e,a+1);i.push({row:u,firstCol:l%e,lastCol:(f-1)%e,isStart:r.isStart&&l===o,isEnd:r.isEnd&&f-1===a}),l=f}return i},t}(),Bf=function(){function t(){this.sliceBusinessHours=ye(this._sliceBusinessHours),this.sliceDateSelection=ye(this._sliceDateSpan),this.sliceEventStore=ye(this._sliceEventStore),this.sliceEventDrag=ye(this._sliceInteraction),this.sliceEventResize=ye(this._sliceInteraction),this.forceDayIfListItem=!1}return t.prototype.sliceProps=function(n,e,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var l=n.eventUiBases,u=this.sliceEventStore.apply(this,(0,h.ev)([n.eventStore,l,e,r],o));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,h.ev)([n.dateSelection,l,i],o)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,h.ev)([n.businessHours,e,r,i],o)),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag.apply(this,(0,h.ev)([n.eventDrag,l,e,r],o)),eventResize:this.sliceEventResize.apply(this,(0,h.ev)([n.eventResize,l,e,r],o)),eventSelection:n.eventSelection}},t.prototype.sliceNowDate=function(n,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this._sliceDateSpan.apply(this,(0,h.ev)([{range:{start:n,end:Zt(n,1)},allDay:!1},{},e],r))},t.prototype._sliceBusinessHours=function(n,e,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return n?this._sliceEventStore.apply(this,(0,h.ev)([fn(n,Yi(e,Boolean(r)),i),{},e,r],o)).bg:[]},t.prototype._sliceEventStore=function(n,e,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(n){var l=_i(n,e,Yi(r,Boolean(i)),i);return{bg:this.sliceEventRanges(l.bg,o),fg:this.sliceEventRanges(l.fg,o)}}return{bg:[],fg:[]}},t.prototype._sliceInteraction=function(n,e,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(!n)return null;var l=_i(n.mutatedEvents,e,Yi(r,Boolean(i)),i);return{segs:this.sliceEventRanges(l.fg,o),affectedInstances:n.affectedEvents.instances,isEvent:n.isEvent}},t.prototype._sliceDateSpan=function(n,e,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];if(!n)return[];for(var a=vu(n,e,r),l=this.sliceRange.apply(this,(0,h.ev)([n.range],i)),u=0,f=l;u<f.length;u++){var p=f[u];p.eventRange=a}return l},t.prototype.sliceEventRanges=function(n,e){for(var r=[],i=0,o=n;i<o.length;i++)r.push.apply(r,this.sliceEventRange(o[i],e));return r},t.prototype.sliceEventRange=function(n,e){var r=n.range;this.forceDayIfListItem&&"list-item"===n.ui.display&&(r={start:r.start,end:Qe(r.start,1)});for(var i=this.sliceRange.apply(this,(0,h.ev)([r],e)),o=0,a=i;o<a.length;o++){var l=a[o];l.eventRange=n,l.isStart=n.isStart&&l.isStart,l.isEnd=n.isEnd&&l.isEnd}return i},t}();function Yi(t,n){var e=t.activeRange;return n?e:{start:Zt(e.start,t.slotMinTime.milliseconds),end:Zt(e.end,t.slotMaxTime.milliseconds-864e5)}}function Wi(t,n,e){var r=t.mutatedEvents.instances;for(var i in r)if(!yr(n.validRange,r[i].range))return!1;return ls({eventDrag:t},e)}function ls(t,n){var e=n.getCurrentData(),r=(0,h.pi)({businessHours:e.businessHours,dateSelection:"",eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(n.pluginHooks.isPropsValid||Hf)(r,n)}function Hf(t,n,e,r){return void 0===e&&(e={}),!(t.eventDrag&&!function Vf(t,n,e,r){var i=n.getCurrentData(),o=t.eventDrag,a=o.mutatedEvents,l=a.defs,u=a.instances,f=br(l,o.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(f=Rt(f,r));var p=function Nd(t,n){return{defs:t.defs,instances:Qt(t.instances,function(e){return!n[e.instanceId]})}}(t.eventStore,o.affectedEvents.instances),E=p.defs,A=p.instances,T=br(E,t.eventUiBases);for(var D in u){var G=u[D],W=G.range,F=f[G.defId],ee=l[G.defId];if(!cs(F.constraints,W,p,t.businessHours,n))return!1;var ie=n.options.eventOverlap,ne="function"==typeof ie?ie:null;for(var ue in A){var le=A[ue];if(bi(W,le.range)&&(!1===T[le.defId].overlap&&o.isEvent||!1===F.overlap||ne&&!ne(new xe(n,E[le.defId],le),new xe(n,ee,G))))return!1}for(var fe=i.eventStore,be=0,_e=F.allows;be<_e.length;be++){var mt,we=_e[be],Me=(0,h.pi)((0,h.pi)({},e),{range:G.range,allDay:ee.allDay}),Fe=fe.defs[ee.defId];if(mt=Fe?new xe(n,Fe,fe.instances[D]):new xe(n,ee),!we(Ai(Me,n),mt))return!1}}return!0}(t,n,e,r)||t.dateSelection&&!function zf(t,n,e,r){var i=t.eventStore,o=i.defs,a=i.instances,l=t.dateSelection,u=l.range,f=n.getCurrentData().selectionConfig;if(r&&(f=r(f)),!cs(f.constraints,u,i,t.businessHours,n))return!1;var p=n.options.selectOverlap,E="function"==typeof p?p:null;for(var A in a){var T=a[A];if(bi(u,T.range)&&(!1===f.overlap||E&&!E(new xe(n,o[T.defId],T),null)))return!1}for(var D=0,G=f.allows;D<G.length;D++)if(!(0,G[D])(Ai((0,h.pi)((0,h.pi)({},e),l),n),null))return!1;return!0}(t,n,e,r))}function cs(t,n,e,r,i){for(var o=0,a=t;o<a.length;o++)if(!qf(Gf(a[o],n,e,r,i),n))return!1;return!0}function Gf(t,n,e,r,i){return"businessHours"===t?Zi(fn(r,n,i)):"string"==typeof t?Zi(hr(e,function(o){return o.groupId===t})):"object"==typeof t&&t?Zi(fn(t,n,i)):[]}function Zi(t){var n=t.instances,e=[];for(var r in n)e.push(n[r].range);return e}function qf(t,n){for(var e=0,r=t;e<r.length;e++)if(yr(r[e],n))return!0;return!1}var wr=/^(visible|hidden)$/,Yf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleEl=function(r){e.el=r,It(e.props.elRef,r)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.props,r=e.liquid,i=e.liquidIsAbsolute,o=r&&i,a=["fc-scroller"];return r&&a.push(i?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),Z("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:o&&-(e.overcomeLeft||0)||"",right:o&&-(e.overcomeRight||0)||"",bottom:o&&-(e.overcomeBottom||0)||"",marginLeft:!o&&-(e.overcomeLeft||0)||"",marginRight:!o&&-(e.overcomeRight||0)||"",marginBottom:!o&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)},n.prototype.needsXScrolling=function(){if(wr.test(this.props.overflowX))return!1;for(var e=this.el,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),i=e.children,o=0;o<i.length;o+=1)if(i[o].getBoundingClientRect().width>r)return!0;return!1},n.prototype.needsYScrolling=function(){if(wr.test(this.props.overflowY))return!1;for(var e=this.el,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),i=e.children,o=0;o<i.length;o+=1)if(i[o].getBoundingClientRect().height>r)return!0;return!1},n.prototype.getXScrollbarWidth=function(){return wr.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},n.prototype.getYScrollbarWidth=function(){return wr.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},n}(Pe),tn=function(){function t(n){var e=this;this.masterCallback=n,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(r,i){var a=e.depths,l=e.currentMap,u=!1,f=!1;null!==r?(u=i in l,l[i]=r,a[i]=(a[i]||0)+1,f=!0):(a[i]-=1,a[i]||(delete l[i],delete e.callbackMap[i],u=!0)),e.masterCallback&&(u&&e.masterCallback(null,String(i)),f&&e.masterCallback(r,String(i)))}}return t.prototype.createRef=function(n){var e=this,r=this.callbackMap[n];return r||(r=this.callbackMap[n]=function(i){e.handleValue(i,String(n))}),r},t.prototype.collect=function(n,e,r){return function Ec(t,n,e,r){void 0===n&&(n=0),void 0===r&&(r=1);var i=[];null==e&&(e=Object.keys(t).length);for(var o=n;o<e;o+=r){var a=t[o];void 0!==a&&i.push(a)}return i}(this.currentMap,n,e,r)},t.prototype.getAll=function(){return ci(this.currentMap)},t}();function us(t,n){return t.liquid&&n.liquid}function Qf(t,n){return Ft(t,n,Dt)}function Xf(t,n){for(var e=[],r=0,i=t;r<i.length;r++)for(var o=i[r],a=o.span||1,l=0;l<a;l+=1)e.push(Z("col",{style:{width:"shrink"===o.width?Jf(n):o.width||"",minWidth:o.minWidth||""}}));return Z.apply(void 0,(0,h.ev)(["colgroup",{}],e))}function Jf(t){return null==t?4:t}function ep(t,n){var e=["fc-scrollgrid-section","fc-scrollgrid-section-"+t.type,t.className];return n&&t.liquid&&null==t.maxHeight&&e.push("fc-scrollgrid-section-liquid"),t.isSticky&&e.push("fc-scrollgrid-section-sticky"),e}function tp(t){return Z("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function ds(t){var n=t.stickyHeaderDates;return(null==n||"auto"===n)&&(n="auto"===t.height||"auto"===t.viewHeight),n}var fs=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.processCols=ye(function(r){return r},Qf),e.renderMicroColGroup=ye(Xf),e.scrollerRefs=new tn,e.scrollerElRefs=new tn(e._handleScrollerEl.bind(e)),e.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},e.handleSizing=function(){e.safeSetState((0,h.pi)({shrinkWidth:e.computeShrinkWidth()},e.computeScrollerDims()))},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,r=e.props,i=e.state,o=e.context,a=r.sections||[],l=this.processCols(r.cols),u=this.renderMicroColGroup(l,i.shrinkWidth),f=function $f(t,n){var e=["fc-scrollgrid",n.theme.getClass("table")];return t&&e.push("fc-scrollgrid-liquid"),e}(r.liquid,o);r.collapsibleWidth&&f.push("fc-scrollgrid-collapsible");for(var A,p=a.length,E=0,T=[],D=[],G=[];E<p&&"header"===(A=a[E]).type;)T.push(this.renderSection(A,u,!0)),E+=1;for(;E<p&&"body"===(A=a[E]).type;)D.push(this.renderSection(A,u,!1)),E+=1;for(;E<p&&"footer"===(A=a[E]).type;)G.push(this.renderSection(A,u,!0)),E+=1;var W=!Ma(),F={role:"rowgroup"};return Z("table",{role:"grid",className:f.join(" "),style:{height:r.height}},Boolean(!W&&T.length)&&Z.apply(void 0,(0,h.ev)(["thead",F],T)),Boolean(!W&&D.length)&&Z.apply(void 0,(0,h.ev)(["tbody",F],D)),Boolean(!W&&G.length)&&Z.apply(void 0,(0,h.ev)(["tfoot",F],G)),W&&Z.apply(void 0,(0,h.ev)((0,h.ev)((0,h.ev)(["tbody",F],T),D),G)))},n.prototype.renderSection=function(e,r,i){return"outerContent"in e?Z(Xe,{key:e.key},e.outerContent):Z("tr",{key:e.key,role:"presentation",className:ep(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,i))},n.prototype.renderChunkTd=function(e,r,i,o){if("outerContent"in i)return i.outerContent;var a=this.props,l=this.state,u=l.forceYScrollbars,f=l.scrollerClientWidths,p=l.scrollerClientHeights,E=function Zf(t,n){return null!=n.maxHeight||us(t,n)}(a,e),A=us(a,e),T=a.liquid?u?"scroll":E?"auto":"hidden":"visible",D=e.key,G=function jf(t,n,e,r){var i=e.expandRows;return"function"==typeof n.content?n.content(e):Z("table",{role:"presentation",className:[n.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:i?e.clientHeight:""}},e.tableColGroupNode,Z(r?"thead":"tbody",{role:"presentation"},"function"==typeof n.rowContent?n.rowContent(e):n.rowContent))}(e,i,{tableColGroupNode:r,tableMinWidth:"",clientWidth:a.collapsibleWidth||void 0===f[D]?null:f[D],clientHeight:void 0!==p[D]?p[D]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},o);return Z(o?"th":"td",{ref:i.elRef,role:"presentation"},Z("div",{className:"fc-scroller-harness"+(A?" fc-scroller-harness-liquid":"")},Z(Yf,{ref:this.scrollerRefs.createRef(D),elRef:this.scrollerElRefs.createRef(D),overflowY:T,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:A,liquidIsAbsolute:!0},G)))},n.prototype._handleScrollerEl=function(e,r){var i=function rp(t,n){for(var e=0,r=t;e<r.length;e++){var i=r[e];if(i.key===n)return i}return null}(this.props.sections,r);i&&It(i.chunk.scrollerElRef,e)},n.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},n.prototype.componentDidUpdate=function(){this.handleSizing()},n.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},n.prototype.computeShrinkWidth=function(){return function Kf(t){for(var n=0,e=t;n<e.length;n++)if("shrink"===e[n].width)return!0;return!1}(this.props.cols)?function Wf(t){for(var n=function Yl(t,n){for(var e=t instanceof HTMLElement?[t]:t,r=[],i=0;i<e.length;i+=1)for(var o=e[i].querySelectorAll(n),a=0;a<o.length;a+=1)r.push(o[a]);return r}(t,".fc-scrollgrid-shrink"),e=0,r=0,i=n;r<i.length;r++)e=Math.max(e,oc(i[r]));return Math.ceil(e)}(this.scrollerElRefs.getAll()):0},n.prototype.computeScrollerDims=function(){var e=function Wu(){return Oi||(Oi=function Zu(){var t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);var n=Oa(t);return document.body.removeChild(t),n}()),Oi}(),i=this.scrollerRefs,o=this.scrollerElRefs,a=!1,l={},u={};for(var f in i.currentMap){var p=i.currentMap[f];if(p&&p.needsYScrolling()){a=!0;break}}for(var E=0,A=this.props.sections;E<A.length;E++){var D=o.currentMap[f=A[E].key];if(D){var G=D.parentNode;l[f]=Math.floor(G.getBoundingClientRect().width-(a?e.y:0)),u[f]=Math.floor(G.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}},n}(Pe);fs.addStateEquality({scrollerClientWidths:Dt,scrollerClientHeights:Dt});var ji=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.elRef=at(),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.context,o=i.options,a=r.seg,l=a.eventRange,u=l.ui,f={event:new xe(i,l.def,l.instance),view:i.viewApi,timeText:r.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!r.disableDragging&&iu(a,i),isStartResizable:!r.disableResizing&&ou(a,i),isEndResizable:!r.disableResizing&&au(a),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)},p=function su(t){var n=["fc-event"];return t.isMirror&&n.push("fc-event-mirror"),t.isDraggable&&n.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&n.push("fc-event-resizable"),t.isDragging&&n.push("fc-event-dragging"),t.isResizing&&n.push("fc-event-resizing"),t.isSelected&&n.push("fc-event-selected"),t.isStart&&n.push("fc-event-start"),t.isEnd&&n.push("fc-event-end"),t.isPast&&n.push("fc-event-past"),t.isToday&&n.push("fc-event-today"),t.isFuture&&n.push("fc-event-future"),n}(f).concat(u.classNames);return Z(en,{hookProps:f,classNames:o.eventClassNames,content:o.eventContent,defaultContent:r.defaultContent,didMount:o.eventDidMount,willUnmount:o.eventWillUnmount,elRef:this.elRef},function(E,A,T,D){return r.children(E,p.concat(A),T,D,f)})},n.prototype.componentDidMount=function(){da(this.elRef.current,this.props.seg)},n.prototype.componentDidUpdate=function(e){var r=this.props.seg;r!==e.seg&&da(this.elRef.current,r)},n}(Pe),ip=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.context,o=r.seg,l=pa(o,i.options.eventTimeFormat||r.defaultTimeFormat,i,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return Z(ji,{seg:o,timeText:l,disableDragging:r.disableDragging,disableResizing:r.disableResizing,defaultContent:r.defaultContent||op,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(u,f,p,E,A){return Z("a",(0,h.pi)({className:r.extraClassNames.concat(f).join(" "),style:{borderColor:A.borderColor,backgroundColor:A.backgroundColor},ref:u},ha(o,i)),Z("div",{className:"fc-event-main",ref:p,style:{color:A.textColor}},E),A.isStartResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-start"}),A.isEndResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},n}(Pe);function op(t){return Z("div",{className:"fc-event-main-frame"},t.timeText&&Z("div",{className:"fc-event-time"},t.timeText),Z("div",{className:"fc-event-title-container"},Z("div",{className:"fc-event-title fc-sticky"},t.event.title||Z(Xe,null,"\xa0"))))}var ap=Be({day:"numeric"}),ps=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.context,o=i.options,a=hs({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv});return Z(Na,{hookProps:a,content:o.dayCellContent,defaultContent:r.defaultContent},r.children)},n}(Pe);function hs(t){var n=t.date,e=t.dateEnv,r=Ia(n,t.todayRange,null,t.dateProfile);return(0,h.pi)((0,h.pi)((0,h.pi)({date:e.toDate(n),view:t.viewApi},r),{dayNumberText:t.showDayNumber?e.format(n,ap):""}),t.extraProps)}var vs=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.refineHookProps=lr(hs),e.normalizeClassNames=ka(),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.context,o=i.options,a=this.refineHookProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv}),l=Di(a,i.theme).concat(a.isDisabled?[]:this.normalizeClassNames(o.dayCellClassNames,a)),u=a.isDisabled?{}:{"data-date":$o(r.date)};return Z(Li,{hookProps:a,didMount:o.dayCellDidMount,willUnmount:o.dayCellWillUnmount,elRef:r.elRef},function(f){return r.children(f,l,u,a.isDisabled)})},n}(Pe);function sp(t){return Z("div",{className:"fc-"+t})}var lp=function(t){return Z(ji,{defaultContent:cp,seg:t.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},function(n,e,r,i,o){return Z("div",{ref:n,className:["fc-bg-event"].concat(e).join(" "),style:{backgroundColor:o.backgroundColor}},i)})};function cp(t){return t.event.title&&Z("div",{className:"fc-event-title"},t.event.title)}var up=function(t){return Z(Bt.Consumer,null,function(n){var e=n.dateEnv,r=n.options,i=t.date,o=r.weekNumberFormat||t.defaultFormat,a=e.computeWeekNumber(i),l=e.format(i,o);return Z(en,{hookProps:{num:a,text:l,date:i},classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:dp,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)})};function dp(t){return t.text}var fp=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={titleId:er()},e.handleRootEl=function(r){e.rootEl=r,e.props.elRef&&It(e.props.elRef,r)},e.handleDocumentMouseDown=function(r){var i=Lo(r);e.rootEl.contains(i)||e.handleCloseClick()},e.handleDocumentKeyDown=function(r){"Escape"===r.key&&e.handleCloseClick()},e.handleCloseClick=function(){var r=e.props.onClose;r&&r()},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.context,r=e.theme,i=e.options,a=this.props,l=this.state,u=["fc-popover",r.getClass("popover")].concat(a.extraClassNames||[]);return Gl(Z("div",(0,h.pi)({id:a.id,className:u.join(" "),"aria-labelledby":l.titleId},a.extraAttrs,{ref:this.handleRootEl}),Z("div",{className:"fc-popover-header "+r.getClass("popoverHeader")},Z("span",{className:"fc-popover-title",id:l.titleId},a.title),Z("span",{className:"fc-popover-close "+r.getIconClass("close"),title:i.closeHint,onClick:this.handleCloseClick})),Z("div",{className:"fc-popover-body "+r.getClass("popoverContent")},a.children)),a.parentEl)},n.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},n.prototype.updateSize=function(){var e=this.context.isRtl,r=this.props,i=r.alignmentEl,o=r.alignGridTop,a=this.rootEl,l=function Xu(t){for(var n=Pa(t),e=t.getBoundingClientRect(),r=0,i=n;r<i.length;r++){var a=Da(e,i[r].getBoundingClientRect());if(!a)return null;e=a}return e}(i);if(l){var u=a.getBoundingClientRect(),f=o?Ye(i,".fc-scrollgrid").getBoundingClientRect().top:l.top,p=e?l.right-u.width:l.left;f=Math.max(f,10),p=Math.min(p,document.documentElement.clientWidth-10-u.width),p=Math.max(p,10);var E=a.offsetParent.getBoundingClientRect();In(a,{top:f-E.top,left:p-E.left})}},n}(Pe),pp=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleRootEl=function(r){e.rootEl=r,r?e.context.registerInteractiveComponent(e,{el:r,useEventCenter:!1}):e.context.unregisterInteractiveComponent(e)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.context,o=this.props,a=o.startDate,l=o.todayRange,u=o.dateProfile,f=e.dateEnv.format(a,e.options.dayPopoverFormat);return Z(vs,{date:a,dateProfile:u,todayRange:l,elRef:this.handleRootEl},function(p,E,A){return Z(fp,{elRef:p,id:o.id,title:f,extraClassNames:["fc-more-popover"].concat(E),extraAttrs:A,parentEl:o.parentEl,alignmentEl:o.alignmentEl,alignGridTop:o.alignGridTop,onClose:o.onClose},Z(ps,{date:a,dateProfile:u,todayRange:l},function(T,D){return D&&Z("div",{className:"fc-more-popover-misc",ref:T},D)}),o.children)})},n.prototype.queryHit=function(e,r,i,o){var l=this.rootEl,u=this.props;return e>=0&&e<i&&r>=0&&r<o?{dateProfile:u.dateProfile,dateSpan:(0,h.pi)({allDay:!0,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:i,bottom:o},layer:1}:null},n}(mn),hp=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.linkElRef=at(),e.state={isPopoverOpen:!1,popoverId:er()},e.handleClick=function(r){var o=e.props,a=e.context,l=a.options.moreLinkClick,u=gs(o).start;function f(p){var E=p.eventRange,D=E.range;return{event:new xe(a,E.def,E.instance),start:a.dateEnv.toDate(D.start),end:a.dateEnv.toDate(D.end),isStart:p.isStart,isEnd:p.isEnd}}"function"==typeof l&&(l=l({date:u,allDay:Boolean(o.allDayDate),allSegs:o.allSegs.map(f),hiddenSegs:o.hiddenSegs.map(f),jsEvent:r,view:a.viewApi})),l&&"popover"!==l?"string"==typeof l&&a.calendarApi.zoomTo(u,l):e.setState({isPopoverOpen:!0})},e.handlePopoverClose=function(){e.setState({isPopoverOpen:!1})},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,i=this.props,o=this.state;return Z(Bt.Consumer,null,function(a){var l=a.viewApi,u=a.options,f=a.calendarApi,p=u.moreLinkText,E=i.moreCnt,A=gs(i),T="function"==typeof p?p.call(f,E):"+"+E+" "+p,D=On(u.moreLinkHint,[E],T),G={num:E,shortText:"+"+E,text:T,view:l};return Z(Xe,null,Boolean(i.moreCnt)&&Z(en,{elRef:e.linkElRef,hookProps:G,classNames:u.moreLinkClassNames,content:u.moreLinkContent,defaultContent:i.defaultContent||vp,didMount:u.moreLinkDidMount,willUnmount:u.moreLinkWillUnmount},function(W,F,ee,ie){return i.children(W,["fc-more-link"].concat(F),ee,ie,e.handleClick,D,o.isPopoverOpen,o.isPopoverOpen?o.popoverId:"")}),o.isPopoverOpen&&Z(pp,{id:o.popoverId,startDate:A.start,endDate:A.end,dateProfile:i.dateProfile,todayRange:i.todayRange,extraDateSpan:i.extraDateSpan,parentEl:e.parentEl,alignmentEl:i.alignmentElRef.current,alignGridTop:i.alignGridTop,onClose:e.handlePopoverClose},i.popoverContent()))})},n.prototype.componentDidMount=function(){this.updateParentEl()},n.prototype.componentDidUpdate=function(){this.updateParentEl()},n.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Ye(this.linkElRef.current,".fc-view-harness"))},n}(Pe);function vp(t){return t.text}function gs(t){if(t.allDayDate)return{start:t.allDayDate,end:Qe(t.allDayDate,1)};var n=t.hiddenSegs;return{start:gp(n),end:Ep(n)}}function gp(t){return t.reduce(mp).eventRange.range.start}function mp(t,n){return t.eventRange.range.start<n.eventRange.range.start?t:n}function Ep(t){return t.reduce(yp).eventRange.range.end}function yp(t,n){return t.eventRange.range.end>n.eventRange.range.end?t:n}var bp=function(t){function n(e,r){void 0===r&&(r={});var i=t.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(o){switch(o.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(o){i.currentData=o,i.renderRunner.request(o.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var o=i.currentData;No(function(){zl(Z(Mf,{options:o.calendarOptions,theme:o.theme,emitter:o.emitter},function(a,l,u,f){return i.setClassNames(a),i.setHeight(l),Z(xa.Provider,{value:i.customContentRenderId},Z(Cf,(0,h.pi)({isHeightAuto:u,forPrint:f},o)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,ql(i.el),i.setClassNames([]),i.setHeight(""))},i.el=e,i.renderRunner=new Ui(i.handleRenderRequest),new Ka({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,h.ZT)(n,t),Object.defineProperty(n.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()},n.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},n.prototype.updateSize=function(){var e=this;No(function(){t.prototype.updateSize.call(e)})},n.prototype.batchRendering=function(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")},n.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},n.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},n.prototype.resetOptions=function(e,r){this.currentDataManager.resetOptions(e,r)},n.prototype.setClassNames=function(e){if(!Ft(e,this.currentClassNames)){for(var r=this.el.classList,i=0,o=this.currentClassNames;i<o.length;i++)r.remove(o[i]);for(var l=0,u=e;l<u.length;l++)r.add(u[l]);this.currentClassNames=e}},n.prototype.setHeight=function(e){ko(this.el,"height",e)},n}(Tu);const _p=Object.prototype.hasOwnProperty;function Cr(t){return Array.isArray(t)?t.map(Cr):t instanceof Date?new Date(t.valueOf()):"object"==typeof t&&t?ms(t,Cr):t}function Ap(t){return"object"==typeof t&&(Array.isArray(t)?t=Array.prototype.slice.call(t):t&&(t=Object.assign({},t))),t}function ms(t,n){const e={};for(const r in t)_p.call(t,r)&&(e[r]=n(t[r],r));return e}const Es={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let Sp=(()=>{class t{constructor(e){this.element=e,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:e}=this,r=this.options||{};this.optionSnapshot=ms(r,(i,o)=>e&&Es[o]?Cr(i):i),this.calendar=new bp(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:e,optionSnapshot:r}=this,i=this.options||{},o={};let a=!1;for(const u in i)if(i.hasOwnProperty(u)){let f=i[u];e&&Es[u]?N()(r[u],f)||(r[u]=Cr(f),a=!0,f=Ap(f)):r[u]!==f&&(r[u]=f,a=!0),o[u]=f}const l=Object.keys(r);for(const u of l)u in i||(delete r[u],a=!0);a&&(this.calendar.pauseRendering(),this.calendar.resetOptions(o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq))},t.\u0275cmp=c.Xpm({type:t,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(e,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),t})(),ys=(()=>{class t{static registerPlugins(e){Ja.push(...e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),t})();var Bn=(()=>((Bn||(Bn={})).DAILY="FREQ=DAILY",Bn))(),Ot=w(1126),gt=(()=>{return(t=gt||(gt={})).INDIVIDUAL_ADJUSTMENT="INDIVIDUAL_ADJUSTMENT",t.COLLECTIVE_ADJUSTMENT="COLLECTIVE_ADJUSTMENT",t.PERSPECTIVE="PERSPECTIVE",t.WORK_SCHEDULE="WORK_SCHEDULE",t.ESS_REQUEST="ESS_REQUEST",gt;var t})();class Tp{constructor(n,e,r,i,o,a,l,u){this.code=n,this.shortDescription=e,this.mediumDescription=r,this.longDescription=i,this.allowInput=o,this.allowPercentage=a,this.favoriteIndex=l,this.colorCode=u}}var Rr,bs=w(7282),wp=new Uint8Array(16);function Cp(){if(!Rr&&!(Rr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rr(wp)}const Rp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Mp=function Dp(t){return"string"==typeof t&&Rp.test(t)};for(var He=[],Xi=0;Xi<256;++Xi)He.push((Xi+256).toString(16).substr(1));const xp=function Pp(t,n,e){var r=(t=t||{}).random||(t.rng||Cp)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(var i=0;i<16;++i)n[e+i]=r[i];return n}return function Ip(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(He[t[n+0]]+He[t[n+1]]+He[t[n+2]]+He[t[n+3]]+"-"+He[t[n+4]]+He[t[n+5]]+"-"+He[t[n+6]]+He[t[n+7]]+"-"+He[t[n+8]]+He[t[n+9]]+"-"+He[t[n+10]]+He[t[n+11]]+He[t[n+12]]+He[t[n+13]]+He[t[n+14]]+He[t[n+15]]).toLowerCase();if(!Mp(e))throw TypeError("Stringified UUID is invalid");return e}(r)};var Np=w(2586),kp=w(7168);function st(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function nn(t){return t instanceof st(t).Element||t instanceof Element}function lt(t){return t instanceof st(t).HTMLElement||t instanceof HTMLElement}function Ji(t){return"undefined"!=typeof ShadowRoot&&(t instanceof st(t).ShadowRoot||t instanceof ShadowRoot)}var rn=Math.max,Dr=Math.min,yn=Math.round;function Ki(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function _s(){return!/^((?!chrome|android).)*safari/i.test(Ki())}function bn(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var r=t.getBoundingClientRect(),i=1,o=1;n&&lt(t)&&(i=t.offsetWidth>0&&yn(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&yn(r.height)/t.offsetHeight||1);var l=(nn(t)?st(t):window).visualViewport,u=!_s()&&e,f=(r.left+(u&&l?l.offsetLeft:0))/i,p=(r.top+(u&&l?l.offsetTop:0))/o,E=r.width/i,A=r.height/o;return{width:E,height:A,top:p,right:f+E,bottom:p+A,left:f,x:f,y:p}}function $i(t){var n=st(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Tt(t){return t?(t.nodeName||"").toLowerCase():null}function Vt(t){return((nn(t)?t.ownerDocument:t.document)||window.document).documentElement}function eo(t){return bn(Vt(t)).left+$i(t).scrollLeft}function Pt(t){return st(t).getComputedStyle(t)}function to(t){var n=Pt(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function Up(t,n,e){void 0===e&&(e=!1);var r=lt(n),i=lt(n)&&function Bp(t){var n=t.getBoundingClientRect(),e=yn(n.width)/t.offsetWidth||1,r=yn(n.height)/t.offsetHeight||1;return 1!==e||1!==r}(n),o=Vt(n),a=bn(t,i,e),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!e)&&(("body"!==Tt(n)||to(o))&&(l=function Fp(t){return t!==st(t)&&lt(t)?function Lp(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):$i(t)}(n)),lt(n)?((u=bn(n,!0)).x+=n.clientLeft,u.y+=n.clientTop):o&&(u.x=eo(o))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function no(t){var n=bn(t),e=t.offsetWidth,r=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:r}}function Mr(t){return"html"===Tt(t)?t:t.assignedSlot||t.parentNode||(Ji(t)?t.host:null)||Vt(t)}function As(t){return["html","body","#document"].indexOf(Tt(t))>=0?t.ownerDocument.body:lt(t)&&to(t)?t:As(Mr(t))}function Un(t,n){var e;void 0===n&&(n=[]);var r=As(t),i=r===(null==(e=t.ownerDocument)?void 0:e.body),o=st(r),a=i?[o].concat(o.visualViewport||[],to(r)?r:[]):r,l=n.concat(a);return i?l:l.concat(Un(Mr(a)))}function Hp(t){return["table","td","th"].indexOf(Tt(t))>=0}function Ss(t){return lt(t)&&"fixed"!==Pt(t).position?t.offsetParent:null}function Hn(t){for(var n=st(t),e=Ss(t);e&&Hp(e)&&"static"===Pt(e).position;)e=Ss(e);return e&&("html"===Tt(e)||"body"===Tt(e)&&"static"===Pt(e).position)?n:e||function Vp(t){var n=/firefox/i.test(Ki());if(/Trident/i.test(Ki())&&lt(t)&&"fixed"===Pt(t).position)return null;var i=Mr(t);for(Ji(i)&&(i=i.host);lt(i)&&["html","body"].indexOf(Tt(i))<0;){var o=Pt(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||n&&"filter"===o.willChange||n&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(t)||n}var Ke="top",ct="bottom",ut="right",$e="left",ro="auto",Vn=[Ke,ct,ut,$e],_n="start",zn="end",Ts="viewport",Gn="popper",ws=Vn.reduce(function(t,n){return t.concat([n+"-"+_n,n+"-"+zn])},[]),Cs=[].concat(Vn,[ro]).reduce(function(t,n){return t.concat([n,n+"-"+_n,n+"-"+zn])},[]),$p=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function eh(t){var n=new Map,e=new Set,r=[];function i(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(l){if(!e.has(l)){var u=n.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.set(o.name,o)}),t.forEach(function(o){e.has(o.name)||i(o)}),r}function nh(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var Rs={placement:"bottom",modifiers:[],strategy:"absolute"};function Ds(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function ih(t){void 0===t&&(t={});var e=t.defaultModifiers,r=void 0===e?[]:e,i=t.defaultOptions,o=void 0===i?Rs:i;return function(l,u,f){void 0===f&&(f=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rs,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},E=[],A=!1,T={state:p,setOptions:function(F){var ee="function"==typeof F?F(p.options):F;G(),p.options=Object.assign({},o,p.options,ee),p.scrollParents={reference:nn(l)?Un(l):l.contextElement?Un(l.contextElement):[],popper:Un(u)};var ie=function th(t){var n=eh(t);return $p.reduce(function(e,r){return e.concat(n.filter(function(i){return i.phase===r}))},[])}(function rh(t){var n=t.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(r,p.options.modifiers)));return p.orderedModifiers=ie.filter(function(we){return we.enabled}),function D(){p.orderedModifiers.forEach(function(W){var ee=W.options,ne=W.effect;if("function"==typeof ne){var ue=ne({state:p,name:W.name,instance:T,options:void 0===ee?{}:ee});E.push(ue||function(){})}})}(),T.update()},forceUpdate:function(){if(!A){var F=p.elements,ee=F.reference,ie=F.popper;if(Ds(ee,ie)){p.rects={reference:Up(ee,Hn(ie),"fixed"===p.options.strategy),popper:no(ie)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(we){return p.modifiersData[we.name]=Object.assign({},we.data)});for(var ue=0;ue<p.orderedModifiers.length;ue++)if(!0!==p.reset){var le=p.orderedModifiers[ue],he=le.fn,fe=le.options;"function"==typeof he&&(p=he({state:p,options:void 0===fe?{}:fe,name:le.name,instance:T})||p)}else p.reset=!1,ue=-1}}},update:nh(function(){return new Promise(function(W){T.forceUpdate(),W(p)})}),destroy:function(){G(),A=!0}};if(!Ds(l,u))return T;function G(){E.forEach(function(W){return W()}),E=[]}return T.setOptions(f).then(function(W){!A&&f.onFirstUpdate&&f.onFirstUpdate(W)}),T}}var Ir={passive:!0};function wt(t){return t.split("-")[0]}function An(t){return t.split("-")[1]}function io(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ms(t){var u,n=t.reference,e=t.element,r=t.placement,i=r?wt(r):null,o=r?An(r):null,a=n.x+n.width/2-e.width/2,l=n.y+n.height/2-e.height/2;switch(i){case Ke:u={x:a,y:n.y-e.height};break;case ct:u={x:a,y:n.y+n.height};break;case ut:u={x:n.x+n.width,y:l};break;case $e:u={x:n.x-e.width,y:l};break;default:u={x:n.x,y:n.y}}var f=i?io(i):null;if(null!=f){var p="y"===f?"height":"width";switch(o){case _n:u[f]=u[f]-(n[p]/2-e[p]/2);break;case zn:u[f]=u[f]+(n[p]/2-e[p]/2)}}return u}var ch={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Is(t){var n,e=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,l=t.position,u=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,E=t.isFixed,A=a.x,T=void 0===A?0:A,D=a.y,G=void 0===D?0:D,W="function"==typeof p?p({x:T,y:G}):{x:T,y:G};T=W.x,G=W.y;var F=a.hasOwnProperty("x"),ee=a.hasOwnProperty("y"),ie=$e,ne=Ke,ue=window;if(f){var le=Hn(e),he="clientHeight",fe="clientWidth";le===st(e)&&"static"!==Pt(le=Vt(e)).position&&"absolute"===l&&(he="scrollHeight",fe="scrollWidth"),(i===Ke||(i===$e||i===ut)&&o===zn)&&(ne=ct,G-=(E&&le===ue&&ue.visualViewport?ue.visualViewport.height:le[he])-r.height,G*=u?1:-1),i!==$e&&(i!==Ke&&i!==ct||o!==zn)||(ie=ut,T-=(E&&le===ue&&ue.visualViewport?ue.visualViewport.width:le[fe])-r.width,T*=u?1:-1)}var Fe,we=Object.assign({position:l},f&&ch),Me=!0===p?function uh(t){var e=t.y,i=window.devicePixelRatio||1;return{x:yn(t.x*i)/i||0,y:yn(e*i)/i||0}}({x:T,y:G}):{x:T,y:G};return T=Me.x,G=Me.y,Object.assign({},we,u?((Fe={})[ne]=ee?"0":"",Fe[ie]=F?"0":"",Fe.transform=(ue.devicePixelRatio||1)<=1?"translate("+T+"px, "+G+"px)":"translate3d("+T+"px, "+G+"px, 0)",Fe):((n={})[ne]=ee?G+"px":"",n[ie]=F?T+"px":"",n.transform="",n))}var yh={left:"right",right:"left",bottom:"top",top:"bottom"};function Or(t){return t.replace(/left|right|bottom|top/g,function(n){return yh[n]})}var bh={start:"end",end:"start"};function Os(t){return t.replace(/start|end/g,function(n){return bh[n]})}function Ps(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&Ji(e)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oo(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xs(t,n,e){return n===Ts?oo(function _h(t,n){var e=st(t),r=Vt(t),i=e.visualViewport,o=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){o=i.width,a=i.height;var f=_s();(f||!f&&"fixed"===n)&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:l+eo(t),y:u}}(t,e)):nn(n)?function Sh(t,n){var e=bn(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):oo(function Ah(t){var n,e=Vt(t),r=$i(t),i=null==(n=t.ownerDocument)?void 0:n.body,o=rn(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=rn(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+eo(t),u=-r.scrollTop;return"rtl"===Pt(i||e).direction&&(l+=rn(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:u}}(Vt(t)))}function ks(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Ls(t,n){return n.reduce(function(e,r){return e[r]=t,e},{})}function qn(t,n){void 0===n&&(n={});var r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,a=void 0===o?t.strategy:o,l=n.boundary,u=void 0===l?"clippingParents":l,f=n.rootBoundary,p=void 0===f?Ts:f,E=n.elementContext,A=void 0===E?Gn:E,T=n.altBoundary,D=void 0!==T&&T,G=n.padding,W=void 0===G?0:G,F=ks("number"!=typeof W?W:Ls(W,Vn)),ie=t.rects.popper,ne=t.elements[D?A===Gn?"reference":Gn:A],ue=function wh(t,n,e,r){var i="clippingParents"===n?function Th(t){var n=Un(Mr(t)),r=["absolute","fixed"].indexOf(Pt(t).position)>=0&&lt(t)?Hn(t):t;return nn(r)?n.filter(function(i){return nn(i)&&Ps(i,r)&&"body"!==Tt(i)}):[]}(t):[].concat(n),o=[].concat(i,[e]),l=o.reduce(function(u,f){var p=xs(t,f,r);return u.top=rn(p.top,u.top),u.right=Dr(p.right,u.right),u.bottom=Dr(p.bottom,u.bottom),u.left=rn(p.left,u.left),u},xs(t,o[0],r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(nn(ne)?ne:ne.contextElement||Vt(t.elements.popper),u,p,a),le=bn(t.elements.reference),he=Ms({reference:le,element:ie,strategy:"absolute",placement:i}),fe=oo(Object.assign({},ie,he)),be=A===Gn?fe:le,_e={top:ue.top-be.top+F.top,bottom:be.bottom-ue.bottom+F.bottom,left:ue.left-be.left+F.left,right:be.right-ue.right+F.right},we=t.modifiersData.offset;if(A===Gn&&we){var Me=we[i];Object.keys(_e).forEach(function(Fe){var ft=[ut,ct].indexOf(Fe)>=0?1:-1,mt=[Ke,ct].indexOf(Fe)>=0?"y":"x";_e[Fe]+=Me[mt]*ft})}return _e}function Yn(t,n,e){return rn(t,Dr(n,e))}function Fs(t,n,e){return void 0===e&&(e={x:0,y:0}),{top:t.top-n.height-e.y,right:t.right-n.width+e.x,bottom:t.bottom-n.height+e.y,left:t.left-n.width-e.x}}function Bs(t){return[Ke,ut,ct,$e].some(function(n){return t[n]>=0})}var Hh=ih({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function oh(t){var n=t.state,e=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,l=void 0===a||a,u=st(n.elements.popper),f=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&f.forEach(function(p){p.addEventListener("scroll",e.update,Ir)}),l&&u.addEventListener("resize",e.update,Ir),function(){o&&f.forEach(function(p){p.removeEventListener("scroll",e.update,Ir)}),l&&u.removeEventListener("resize",e.update,Ir)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function sh(t){var n=t.state;n.modifiersData[t.name]=Ms({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function dh(t){var n=t.state,e=t.options,r=e.gpuAcceleration,i=void 0===r||r,o=e.adaptive,a=void 0===o||o,l=e.roundOffsets,u=void 0===l||l,p={placement:wt(n.placement),variation:An(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,Is(Object.assign({},p,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:a,roundOffsets:u})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,Is(Object.assign({},p,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function ph(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var r=n.styles[e]||{},i=n.attributes[e]||{},o=n.elements[e];!lt(o)||!Tt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var l=i[a];!1===l?o.removeAttribute(a):o.setAttribute(a,!0===l?"":l)}))})},effect:function hh(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(r){var i=n.elements[r],o=n.attributes[r]||{},l=Object.keys(n.styles.hasOwnProperty(r)?n.styles[r]:e[r]).reduce(function(u,f){return u[f]="",u},{});!lt(i)||!Tt(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function mh(t){var n=t.state,r=t.name,i=t.options.offset,o=void 0===i?[0,0]:i,a=Cs.reduce(function(p,E){return p[E]=function gh(t,n,e){var r=wt(t),i=[$e,Ke].indexOf(r)>=0?-1:1,o="function"==typeof e?e(Object.assign({},n,{placement:t})):e,a=o[0],l=o[1];return a=a||0,l=(l||0)*i,[$e,ut].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}(E,n.rects,o),p},{}),l=a[n.placement],f=l.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=l.x,n.modifiersData.popperOffsets.y+=f),n.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function Dh(t){var n=t.state,e=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var i=e.mainAxis,o=void 0===i||i,a=e.altAxis,l=void 0===a||a,u=e.fallbackPlacements,f=e.padding,p=e.boundary,E=e.rootBoundary,A=e.altBoundary,T=e.flipVariations,D=void 0===T||T,G=e.allowedAutoPlacements,W=n.options.placement,F=wt(W),ie=u||(F!==W&&D?function Rh(t){if(wt(t)===ro)return[];var n=Or(t);return[Os(t),n,Os(n)]}(W):[Or(W)]),ne=[W].concat(ie).reduce(function(Cn,Gt){return Cn.concat(wt(Gt)===ro?function Ch(t,n){void 0===n&&(n={});var i=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=void 0===u?Cs:u,p=An(n.placement),E=p?l?ws:ws.filter(function(D){return An(D)===p}):Vn,A=E.filter(function(D){return f.indexOf(D)>=0});0===A.length&&(A=E);var T=A.reduce(function(D,G){return D[G]=qn(t,{placement:G,boundary:i,rootBoundary:o,padding:a})[wt(G)],D},{});return Object.keys(T).sort(function(D,G){return T[D]-T[G]})}(n,{placement:Gt,boundary:p,rootBoundary:E,padding:f,flipVariations:D,allowedAutoPlacements:G}):Gt)},[]),ue=n.rects.reference,le=n.rects.popper,he=new Map,fe=!0,be=ne[0],_e=0;_e<ne.length;_e++){var we=ne[_e],Me=wt(we),Fe=An(we)===_n,ft=[Ke,ct].indexOf(Me)>=0,mt=ft?"width":"height",tt=qn(n,{placement:we,boundary:p,rootBoundary:E,altBoundary:A,padding:f}),Et=ft?Fe?ut:$e:Fe?ct:Ke;ue[mt]>le[mt]&&(Et=Or(Et));var Zr=Or(Et),on=[];if(o&&on.push(tt[Me]<=0),l&&on.push(tt[Et]<=0,tt[Zr]<=0),on.every(function(Cn){return Cn})){be=we,fe=!1;break}he.set(we,on)}if(fe)for(var fo=function(Gt){var Xn=ne.find(function(Xr){var an=he.get(Xr);if(an)return an.slice(0,Gt).every(function(po){return po})});if(Xn)return be=Xn,"break"},Qn=D?3:1;Qn>0&&"break"!==fo(Qn);Qn--);n.placement!==be&&(n.modifiersData[r]._skip=!0,n.placement=be,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function Ph(t){var n=t.state,e=t.options,r=t.name,i=e.mainAxis,o=void 0===i||i,a=e.altAxis,l=void 0!==a&&a,A=e.tether,T=void 0===A||A,D=e.tetherOffset,G=void 0===D?0:D,W=qn(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),F=wt(n.placement),ee=An(n.placement),ie=!ee,ne=io(F),ue=function Ih(t){return"x"===t?"y":"x"}(ne),le=n.modifiersData.popperOffsets,he=n.rects.reference,fe=n.rects.popper,be="function"==typeof G?G(Object.assign({},n.rects,{placement:n.placement})):G,_e="number"==typeof be?{mainAxis:be,altAxis:be}:Object.assign({mainAxis:0,altAxis:0},be),we=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Me={x:0,y:0};if(le){if(o){var Fe,ft="y"===ne?Ke:$e,mt="y"===ne?ct:ut,tt="y"===ne?"height":"width",Et=le[ne],Zr=Et+W[ft],on=Et-W[mt],jr=T?-fe[tt]/2:0,fo=ee===_n?he[tt]:fe[tt],Qn=ee===_n?-fe[tt]:-he[tt],Qr=n.elements.arrow,Cn=T&&Qr?no(Qr):{width:0,height:0},Gt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Xn=Gt[ft],Xr=Gt[mt],an=Yn(0,he[tt],Cn[tt]),po=ie?he[tt]/2-jr-an-Xn-_e.mainAxis:fo-an-Xn-_e.mainAxis,Gg=ie?-he[tt]/2+jr+an+Xr+_e.mainAxis:Qn+an+Xr+_e.mainAxis,ho=n.elements.arrow&&Hn(n.elements.arrow),tl=null!=(Fe=null==we?void 0:we[ne])?Fe:0,Wg=Et+Gg-tl,nl=Yn(T?Dr(Zr,Et+po-tl-(ho?"y"===ne?ho.clientTop||0:ho.clientLeft||0:0)):Zr,Et,T?rn(on,Wg):on);le[ne]=nl,Me[ne]=nl-Et}if(l){var rl,sn=le[ue],Jr="y"===ue?"height":"width",il=sn+W["x"===ne?Ke:$e],ol=sn-W["x"===ne?ct:ut],vo=-1!==[Ke,$e].indexOf(F),al=null!=(rl=null==we?void 0:we[ue])?rl:0,sl=vo?il:sn-he[Jr]-fe[Jr]-al+_e.altAxis,ll=vo?sn+he[Jr]+fe[Jr]-al-_e.altAxis:ol,cl=T&&vo?function Oh(t,n,e){var r=Yn(t,n,e);return r>e?e:r}(sl,sn,ll):Yn(T?sl:il,sn,T?ll:ol);le[ue]=cl,Me[ue]=cl-sn}n.modifiersData[r]=Me}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function kh(t){var n,e=t.state,r=t.name,i=t.options,o=e.elements.arrow,a=e.modifiersData.popperOffsets,l=wt(e.placement),u=io(l),p=[$e,ut].indexOf(l)>=0?"height":"width";if(o&&a){var E=function(n,e){return ks("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:Ls(n,Vn))}(i.padding,e),A=no(o),T="y"===u?Ke:$e,D="y"===u?ct:ut,G=e.rects.reference[p]+e.rects.reference[u]-a[u]-e.rects.popper[p],W=a[u]-e.rects.reference[u],F=Hn(o),ee=F?"y"===u?F.clientHeight||0:F.clientWidth||0:0,le=ee/2-A[p]/2+(G/2-W/2),he=Yn(E[T],le,ee-A[p]-E[D]);e.modifiersData[r]=((n={})[u]=he,n.centerOffset=he-le,n)}},effect:function Lh(t){var n=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=n.elements.popper.querySelector(i))||!Ps(n.elements.popper,i)||(n.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Bh(t){var n=t.state,e=t.name,r=n.rects.reference,i=n.rects.popper,o=n.modifiersData.preventOverflow,a=qn(n,{elementContext:"reference"}),l=qn(n,{altBoundary:!0}),u=Fs(a,r),f=Fs(l,i,o),p=Bs(u),E=Bs(f);n.modifiersData[e]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:E},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":E})}}]}),Pr=(()=>{return(t=Pr||(Pr={}))["0050"]="fa-solid fa-virus",t["0100"]="fa-regular fa-circle-dot",t["0230"]="fa-solid fa-plane",Pr;var t})(),xr=(()=>{return(t=xr||(xr={}))["0050"]="#930a00",t["0100"]="#6F6F6FFF",t["0230"]="#6F6F6FFF",xr;var t})(),Ct=w(2501),Nr=w(5170),kr=w(6083);let Vh=(()=>{class t{constructor(){this.checked=!1,this.disabled=!1,this.valueChanged=new c.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["acerta-toggle-switch"]],inputs:{checked:"checked",disabled:"disabled"},outputs:{valueChanged:"valueChanged"},decls:4,vars:4,consts:[[1,"switch"],["type","checkbox",3,"checked","disabled","input"],["input",""],[1,"slider","round"]],template:function(e,r){if(1&e){const i=c.EpF();c.TgZ(0,"label",0)(1,"input",1,2),c.NdJ("input",function(){c.CHM(i);const a=c.MAs(2);return c.KtG(r.valueChanged.emit(a.checked))}),c.qZA(),c._UZ(3,"span",3),c.qZA()}2&e&&(c.xp6(1),c.Q6J("checked",r.checked)("disabled",r.disabled),c.xp6(2),c.ekj("disabled",r.disabled))},styles:['.switch[_ngcontent-%COMP%]{display:inline-block;height:30px;position:relative;width:60px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:0;opacity:0;width:0}.slider[_ngcontent-%COMP%]{background-color:#cbcbcb;cursor:pointer;inset:0;position:absolute;transition:.4s;-webkit-transition:.4s}.slider[_ngcontent-%COMP%]:before{background-color:#fff;bottom:4px;content:"";height:22px;left:4px;position:absolute;transition:.4s;-webkit-transition:.4s;width:22px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#5d9c17}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #5d9c17}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(30px);-ms-transform:translateX(30px);-webkit-transform:translateX(30px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.disabled[_ngcontent-%COMP%]{cursor:initial;opacity:.6}']}),t})(),zh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[_.ez]}),t})();class Lr{constructor(n,e,r,i){this.calendarRange=n,this.timeCode=e,this.hours=r,this.percentage=i}}var Wn=w(1659),Fr=w(3540);function Gh(t,n){1&t&&(c.TgZ(0,"div",13),c._uU(1,"*"),c.qZA())}function qh(t,n){if(1&t&&(c.TgZ(0,"div",10)(1,"div",11),c._uU(2),c.qZA(),c.YNc(3,Gh,2,0,"div",12),c.qZA()),2&t){const e=c.oxw();c.ekj("mobile",e.isMobile)("mb-1",e.isMobile)("warning",e.hasErrors()),c.xp6(2),c.Oqu(e.label),c.xp6(1),c.Q6J("ngIf",e.required)}}function Yh(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",14),c.NdJ("click",function(){c.CHM(e),c.oxw();const i=c.MAs(7);return c.KtG(i.focus())}),c.qZA()}if(2&t){const e=c.oxw();c.Q6J("ngClass",e.icon)}}function Wh(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",15),c.NdJ("click",function(){const o=c.CHM(e).index,a=c.oxw(),l=c.MAs(7);return a.toggleClick(o),c.KtG(l.focus())}),c.qZA()}if(2&t){const e=n.$implicit,r=n.index,i=c.oxw();c.ekj("disabled",i.formControl.disabled)("highlight",r===i.toggleIndex)("lowlight",r!==i.toggleIndex),c.Q6J("ngClass",e)}}function Zh(t,n){if(1&t&&(c.TgZ(0,"div"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t){const e=n.$implicit;c.xp6(1),c.hij(" ",c.xi3(2,1,e.text,e.data)," ")}}function jh(t,n){if(1&t&&(c.TgZ(0,"span"),c.YNc(1,Zh,3,4,"div",16),c.qZA()),2&t){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.getErrors())}}let Qh=(()=>{class t extends bs.p{constructor(e,r,i){super(e),this.translationService=e,this.deviceService=r,this.requiredValidatorService=i,this.translations=[],this.label="",this.type="",this.icon="",this.icons=[],this.toggleIndex=0,this.placeholder="",this.min="",this.max="",this._forceMobileView=!1,this._required=!1,this.valueChanged=new c.vpe,this.toggleChanged=new c.vpe,this.formControl=new Wn.p4,this.isMobile=this.deviceService.mobileViewport(),this.deviceService.$mobileViewport().subscribe(o=>{this.isMobile=o||this.forceMobileView})}set validators(e){this.formControl.setValidators(e),this._requiredValidator&&this.formControl.addValidators(this._requiredValidator)}set value(e){this.formControl.setValue(e)}set disabled(e){e?this.formControl.disable():this.formControl.enable()}set forceMobileView(e){this._forceMobileView=e,this.isMobile||(this.isMobile=e)}get forceMobileView(){return this._forceMobileView}set required(e){this._required=e,e&&!this._requiredValidator&&(this._requiredValidator=this.requiredValidatorService.getValidator(),this.formControl.addValidators(this._requiredValidator)),!e&&this._requiredValidator&&(this.formControl.removeValidators(this._requiredValidator),this._requiredValidator=void 0)}get required(){return this._required}hasErrors(){return this.formControl.touched&&!!this.formControl.errors}getErrors(){if(!this.formControl.errors)return[];const e=[];return Object.keys(this.formControl.errors).forEach(i=>{var o,a,l,u;null!=(o=this.formControl.errors)&&o[i].reason?e.push({text:null==(a=this.formControl.errors)?void 0:a[i].reason,data:null==(l=this.formControl.errors)?void 0:l[i].data}):e.push({text:null==(u=this.formControl.errors)?void 0:u[i],data:void 0})}),e}validateInput(e){var i;const r=e.target.value.substring(0,e.target.selectionStart)+(null!=(i=e.data)?i:"")+e.target.value.substring(e.target.selectionEnd);e.data&&this.pattern&&!this.pattern.test(r)&&e.preventDefault()}toggleClick(e){this.formControl.disabled||(this.toggleIndex=e,this.toggleChanged.emit(e))}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(k.D7),c.Y36(k.U8),c.Y36(Fr.a3))},t.\u0275cmp=c.Xpm({type:t,selectors:[["acerta-input"]],inputs:{label:"label",validators:"validators",type:"type",icon:"icon",icons:"icons",toggleIndex:"toggleIndex",placeholder:"placeholder",value:"value",min:"min",max:"max",pattern:"pattern",disabled:"disabled",forceMobileView:"forceMobileView",required:"required"},outputs:{valueChanged:"valueChanged",toggleChanged:"toggleChanged"},features:[c.qOj],decls:10,vars:15,consts:[[1,"d-flex","align-items-baseline","flex-wrap"],["class","label d-flex",3,"mobile","mb-1","warning",4,"ngIf"],[1,"margins"],[1,"d-flex"],["class","align-items-center d-flex icon justify-content-around",3,"ngClass","click",4,"ngIf"],["class","align-items-center d-flex icon icon-toggle justify-content-around",3,"disabled","highlight","lowlight","ngClass","click",4,"ngFor","ngForOf"],[3,"type","placeholder","min","max","formControl","beforeinput","input"],["input",""],[1,"feedback"],[4,"ngIf"],[1,"label","d-flex"],[1,"label-text"],["class","ms-1",4,"ngIf"],[1,"ms-1"],[1,"align-items-center","d-flex","icon","justify-content-around",3,"ngClass","click"],[1,"align-items-center","d-flex","icon","icon-toggle","justify-content-around",3,"ngClass","click"],[4,"ngFor","ngForOf"]],template:function(e,r){if(1&e){const i=c.EpF();c.TgZ(0,"div",0),c.YNc(1,qh,4,8,"div",1),c.TgZ(2,"div",2)(3,"div",3),c.YNc(4,Yh,1,1,"div",4),c.YNc(5,Wh,1,7,"div",5),c.TgZ(6,"input",6,7),c.NdJ("beforeinput",function(a){return r.validateInput(a)})("input",function(){c.CHM(i);const a=c.MAs(7);return c.KtG(r.valueChanged.emit(a.value))}),c.qZA()(),c.TgZ(8,"div",8),c.YNc(9,jh,2,1,"span",9),c.qZA()()()}2&e&&(c.ekj("flex-column",r.isMobile),c.xp6(1),c.Q6J("ngIf",r.label),c.xp6(1),c.ekj("mobile",r.isMobile),c.xp6(2),c.Q6J("ngIf",r.icon),c.xp6(1),c.Q6J("ngForOf",r.icons),c.xp6(1),c.ekj("warning",r.hasErrors()),c.Q6J("type",r.type)("placeholder",r.placeholder)("min",r.min)("max",r.max)("formControl",r.formControl),c.xp6(3),c.Q6J("ngIf",r.hasErrors()))},dependencies:[Wn.Fj,Wn.JJ,Wn.oH,_.mk,_.sg,_.O5,Ct.X$],styles:['@font-face{font-family:fontello;src:url(data:application/font-woff;base64,d09GMgABAAAAABiEAA8AAAAAMDQAABgtAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCGSAggCZZwEQgKszirMws+AAE2AiQDeAQgBYVNB4JmDIEGG+cqBdxY5GHjgABsNT6iWlREVGxGy/6/JdAxxII+ZaDbc0Q0cjkz4RFNOUyFSkY+JCfUNTrdV8SrV8SKRPKjR97r547eQF7smuukaFZu8rVYh99i6Z+M0RfxqCvDibcdobFPcu15m+a8T/u1KzLJQGsCyUgyEJ8MAEV7IeiIq4MuXIbLpEu9pRRqzcPb7v1BNetSoZlSrJMuUEUpKVELgnilXcJT5XfAfz1AeJ75e7VhTKosl96I8SoWUb61njhU4dswd5jZpsOr29c7y+5+MDOS7APCz7sgebdW4QNtwFEAvfgZVUWVMtbqEOQM8fkI4y9y5bPTdnja5tPvLECcnPo9TFwFnBsnUkfZIJi1ugWxiEIXdbJm+2EUK76/WXTID1f96Xq1fv+P4UT3KpXpo5k8Mid1qZSwZD+d3g4QlyDXnQwFgin1Iq1Su1n2Qxk3IDKsBeLf2+79sWGiHITchQz+iavxHn/m7czfs9M0tfOwHW/SOG8CSyjCEzCiNJKEvf/TWbb/z9pvdXcBIB82TahMWUjfHu3MSLZleUHSonXkY603YOsAoQtwl5rsI7QdQOiSDqukLtK0ddax7SFog5WnZBvu/Utlop3yxGmqaAm27atGulVtqwPHozpMTTB5BwQwVWrHlr6RGXhT5OoEaYQGcrI9prS/G4G+3hMEBHqrzryshulVEtjFvgG8yL5Pv6pgACMrNDcn9t4thLO/X+ZTD2GprfH2eMMCCW5dLk9N39nFH44VXTc4sxS+/MUUfpzOHV30SfRnv/s/ZsREsenYO3+//BA4KHrE+eaapKiv49Zp+pzm0f/zaC4mi5uHl49fnHgJEiUJSJYiVZp0GTKBWkDi1qSEZaZTxs+A5AAmB3A5QMgBUg5QcoAhB2g5wCUHmHKAJQe45QCPHOCVA3xygN/RfhDn6BMQ7+jPIMHR30Gio/+DJMcECDgmQbJjCqQ4ZoBUx2pAmmPTIN2xd0CG/375MjJhnfIyjLZh2UV/oFw+bjb0osjbf/D+vEU9PwVqjxS/0lTKbIB5/q9Fy+ZIh8ZasAi6tduCpDt5BwG7TB0MMhZ+OEWkT22xZtgb9c4/B6vWlAVh4jRYwtEIjetD4ytKbbHLY4rfk71+KDdWqSpR8ENEplIe5xNMmT7KPq/MNauHeidFM2KgWDwFXzHZPnEHh/QE4XksSJ4GpHmUeWNthIpDQK1aGVf59nI2MzF9GCF9L8Ef1uVRim3tyWzUyrZHpLOQTk0+j0FjwA9fhFIZhfisOi8pgcHNFswsoISB7auAPJ9h7yn0CxXkw2FABIxaHP0TslFJcBBO8XIxdcsTabTGULp7fsMaGlwrG942Rzg3hYJuhCfplbwqYyu5SLekg73mw7bx4B60u8NvidW1QH4GYrUVuEmZT6i1Bs0crFEbN6zDg8oama3cdXgBFRHcfFMa+1zzEc8eTqFnrMMHwW+OKvknZLPk1ZzbmKQ8El4vaD0/3l6GKv66cSn+sn/9IeI+M87C24vbgrFVR8Lk8ajw8Ur4lhhUPb6Iysxl7qv7Dj1V0EYF7q2qhnMQ7/7yWKb0H1b/mFvb8IAZU/ohGnFzgAcMxyqWaU0W74wVCNMuRNDekur9LyABM3UsXwZ85qWHZR7ToOIlQfW3fzYLXuny5VGN74y42DQPoiMRFQmbjiRUYhBgDJIZhxQmIJVJSGMK0pkBGUxDJnN5WZiBbR1CYDZmoU0F5DAGuYxDHhOQzyQUMAWFzIAipqGYuaaXQPZ9CUorEv4inelpwWQmlxJCOWUIiKhenIejHCIDMXWoeVvz1JpzPWNjkw/af3HaUP6A1o8Us0IWWf3p6RWQ5zLKyvBu5IEDKCZc/bkQgV9o/j3qQ92uFRpuOKog+zKQ0QPd+m/kqEZzZ99R086BnEZsdS0qk8CyNCoAeZQtvy6PB2rnZglDk+9aMd/WqFgvbjjqAAIIb9KX6+Pi5qSETGS/NPruVt8tTf8QYR4RCI8CuTp8Fn6yz/m2Weam+Wr0yW2eppQ8pKP9epeCMaJSgslk8QaMaaxw5nEt2CrNpVJyWSW+pawiiKT9vG0UzT7MKT3DbpNUSkGqUyW7P7f0jBwxQCRtLBdA85RJXyvMI2IPDRoCetEjk/6e7m9LHY0ltHm36ANNRI5STefSwnNr1mImNLKv1nzM2wMEae6C8sdGr79WM4u0Wq/lTlFGXdX8TJY2H1T63l2leuYyei3QFLKY1z8Pn2hsapniptTZeo/TTbQhV89//nZQFwNGO0B9FPtDRNldaSxHIdhQFpcPexdLnH4jKvuis9tDjXRuVV1va0/D/8TA80h0yinP3NdtY13dY6N8qssQpu6su8dqvQvdVhd77KTAdFvEoFhwaVWP+9Nb7tuqoFuBai71b1G7wsDxEOipNNIvedVG7uAWFQsMnKOGtlpAqXCYEYyMJ8FRpmqMjyo2TgAT40lwkqmaApSxaQKYGU+Cs0zVHKCCzRPAwngSXGSqlgBxtkwAK+NJcJWpWgOUs3UCeDSeBCNMZ29s0WBitblToOXo2MJW2HYRAGyDnXwjEkBjEqNgbGKUNa6gdjC+UwJEQgITEhKYmJDApE4MJicwsCQwsCawh9kGuQMYtF+KhKqthOo66ImGGd8lh5EGQaiETjM+i9bqeOOghsE4gWPNGEsgamDE/9yUfEOyxBbpQGWa6BC2o5yOlPmolKqO0abmzuraVCZTmSjHzSlVU6fKmlKkurpGr67WajLp9LLsLlLNioVLKnelBqIMGnesT3SpasoB9FoXmqfoQPxGPZyiDrKb3XgKjMX1WtBwVwl1EeIeLGW+sDfS3G9zTblSRvMSq8Iv7sWWpyGXbAH8eBkNkMKjpnIkg7V28XE3Fg9rzRySQ6cyv9NtR40IjEbDeljE0/7VrCkleQnjn44Yj8YiXGHffBjd0hOkmNdpz/xrvG/nDda/66boXfAsG6p46qxyu4QLG9kKfwYhe96pWg+5KOIIO64fosRwuWa93+gx3b7RF1lTSp8O5z/GoiigYRzvoE94nxWg2Z04NI5Jg+1dPwSZhxB3AaAyi4VvrWPagSAFmKj/MBtnbg/kHnSk+CPtzrBTfCwemqus5QCDDUOcbHcBxULf5VvmdgQd2mNY9k3RO+gGpSMPYwzWBwp/7ZyIZ2yhQSCYEKr2GNNWepwY1lyx3KVZU46+kXn5F+FcPl+zOPemywL0SQfiz+qhceld3dLCxW7bunKhfrr4vtOE7Hk3Fk8BsK++rV2SP9dhmCpUtuBSVtAs7wpxlVK8pYjKKlBzNTJhlumyLAITstx74aT4mDXl/UPsxqVrueuXb9orGsZOEa/UifNfufC9noO1OURMJKgV7/S7xbl+KAevwFVzRZ2THTVYNR+KebaqivmOpQ2v1BexdJqOHQLmd+1E1ktAgyiCbDowwvBkvJN5hAeASuFDFtvyjDXBnxP/rAKrj////2vmHV8Jb0CI4oETR3khoqB4nEDClwMAcAxxIinpzwpMTDtxJ9+zvYR2uKhtE7B05427OCls+iP6xX7HP+GOfAnxcwZQV0vEh9C9O8njJ5MIsVz7vDvJbrM8EsSbgpDckgRbvpO3euyaw73Btu0y+gMl+K/mcvZ7VlL8dOR9UEavdZABKsd1q4EBMJWKM+WJJ6JUrGM+drkSqIlKbsuWq7jKfWtflJ6ckh6Xazs9pu/yRbZX7mpwe64vqrE/2CEPteEBn+3DXbVDHsvuLIqm3fu5zHSkbF02s023yZ6gFH8G1XPv0n5j7Sfga2iIi6eHTOkS5DaH45euEB5ZiHu6U4dxoT4Jvuc4tsUyKYnhuprGtS4PdfFgRBWStLhIyTWWeuGhMIwq6bN83UzmS8c8HbzqKGq2t0ihH6Nkv8u1rdeCloe0x5QZeYxuP2LzYv3xkDiQPizCMAt4G0Rs9N3imVZZ+ZtbHkoak1pgeNwhgu839Pj43wxUxfD1wHdZBHwr9/Tw78Og3Wfqc01/5KASIqFE5mxX9eCAOTrBOwGkzhn6NjTYPpN2gTbTPq32c5RCrOg0iP/O5R87OXSICBdeEIqUIWHoIHVakkqXdBu64O2Ld9GKb6UWXe/9zEa5n+FBnMxMY6YFGzc4I2PwuCmDx7X6+evAVFMlS1BKGZk4kpeS1ppTTinYiU+267bTW+Xbp9u34CW5W1JP6HTUrlR0XblOIEFWuly4FG/EU3CCEGMoMV6NmbdqMI3LtRIZmSgyYgLReMKE4aRZat6zZyUiEWTU/LFyz16T1ESmnWz8eFHi5cn8FxkZ/w/637XXGqt+lfzwu4yBqyiu6B3S+9X1ChYtHLNu3Xnquk2n1m05z1y3GqlDPJj4t99q1LMN61LHjJM3UHenOIiJDomL7lASdSmbKJmz1TXehuqBWO54iAQTAAltUPlLcFKuNUoCrwOzWFNxCPqfeahyDHQAcKK8vBGqBaHcYl5Yg2pE1GXegrCkMPQUi7doUbxUrytnBgczRUMGi1jBIazZBMTy/Pn5Cz0+8cVGRFxa+ryntEScYo6sgy7DjEUQCZIFcwHqYiwaRN3oeu5nQGq/VJJAfvex1N6favUetfcct0/0Mn0zvd32tx77XG/amUNcMq4puunxo7lz+R+OI2PIkydJwU9DhpCr09u/pWGiTmj7zZuDfNsdG83NCPmHDukOat5g3rHzhlTyWjfk2cj2T76zb+5Jl+DCdc7o5o2Tzf84yPfJ0QZyldV6rfXN1f9byKPd5tR0W+g7TsX39Kf0l+cPvzgFzKuITjUE8IAu4LRsfk0AK0brhT+WXr6fz4QL/nNu+z/PeDKajV4cHmPdMHNNEBt9FRpjdM/UrHD7JRpnULWh97eChIb4gnN/mv52wLg0ouEzR/SggYOGfG6AB1KeFJDzCFd7skaqujgycvo6+xr2Uf0KjizotGtWu9PnGlD4PmOsk9HTMzj5nIwMOt9/oGhzTFPbKGj89ImzbCM83G660MDOay5CjYVi5sXzFZH4mHUbzlPXNYzDIx/656Tp1vvLGQ+X6/VB/l19NTWaVady0DAcH7bXu3E6bE/WAkAmARLLe5JcWfPhLQupYHvWXJdWtrCc3eSobxKgbP3163q2SfBTfX2joLEd+ElgOlToXtAU3XSuC6GjcLzpfYXSaXKkn8ow7HXrUgpP74CLqgGnkR025/EquQMjTsERV+WD7hdRb5feLqLefz34bvHLYsPjwgngtHzvBkFuzwTdw0dQLpC/G2CB0gceSiKS050sAjoIKhDjWrgdkwEC8rDc8l4c7V/JmgAK0edAgj0LPewcvR9N3AkTQBZ0E0g893nOFFKs1F8hcBHUReWm7t3V0XkqhKbE3kQTA04rUvQK0VmiEfP8z4hF8N1K/2pyDvzN8Jaf9yJNeOmSoq6tLT+4xiDtEY/B8LUW1z8CJLQyg+LKQmPhbO4Q29WK+oNmbGVxwHzr9q1beey8bjXbTGeYm1PQ6Rou2m2GMyRAzWA4ZHdA9+sx0qwMOcqgq+GCX4AEGnm7IGSmC71HzZEFB4GZ3hS54pEIYeRlYOlIbTZPyrs2fvfcnLnNoIaELASNrg08jXiieQiJnJ6m0CcLRcLEyZOvJQtNiQkeI1nn+rgWxs7gFfJLquhc64aLl3moce3iP9clzEKBB8gBaRGyA4UQCSng/6iRiVO8jrkUydi4hg8X8g9Vc+nDTJ30V7qJurPMgFb43BBOKJ1JhbaDe8wtrBtRCmuWhhK4NqGyan1lXNW1/NSHCwI6wiuU+4R/Uvf1r0iFAzrktW6Be0xE8BGLl8uKJWw2pCA5wfA25hVrWwABtbBiXzEMYpZtqNoj2R9xwOKNZXEt3iOiqMtBU47ard6/s1czM+/krjbmrKa6TKuXG39caTSu3lvr60My50BOluoLEVSnsBgCIfofFK3gRbT/mttf0K7Qlt3WyWsfDLamAbjWTYw3a+Jr6d8Z3PwQBI+CAfYCf2OGSYJhpJWnFSXi8pN7VYGG1uujWxWVZoJaRYmJJPZjEUqibLBEq8s2n9iqQ6dkzTVK35cXKKWf0Jd+/LO2qrykyJSbk5mmU8oxQm6+ZSrFrz25YxPBaAS1AmiE7cNE0wYBIjhD7noBySe4fHzQM71oJdz8OJBJCwuVQqWgqmRnKRYX+ZeZ7DIQ/SJHAS5GcTzvGeE1f9etlJIOcWUEHRLwF9aRE+vXEsSSJp50fadjBp5shrTQ9gVCo+NxKa7RiJqSpkYReq7CQroYPzqs2uk/IWIInrHv9djEnwncFIpr5wvFTZdMBiMJX+10ZE4LFX0hFIdKFg1aXEf8nii587s1oL8e8nF2rtyTULvBYfWL3lXwALfaZVcqtopEni1x7sld268tM5Yp8SLlsBUqImvMSFDJGTLChRm8FH8B9zKheBnPWWZWTJR2ZsXgJEWayfbpJTxJJMvsDuaZLH26c4j2ikdtxlRVqcT95QQr8NeAT1KiTyF74JC6sepcLXiy6gt0hV47n1FhWU00QHwdEVrDd6xNtAkNbfwodb9xvFLmpFQpe/cLwFFRskGCVmjZDqsseYhi5RAO+YtgJGSYwV0T5BrfP9OKukt/KOvMCJpSmqyynb/ParF9pLml73emmwv8hFqHuv3hJfK2q599PCiecEGYT4UyOU2oz7e/AVDgBgl5agYj+AJkTAjGeMFGGJZtMq48uWcFaV3pWtlfKLUrdZPge5PtOxk/wc2gBonKNbpu2ILZwrY/VqSeT4f1ajo2zigfdgwWJHp0eMHkBGffYzjvlKpjP92g6589lbVdOSM9bIUeXfbdGgVpJWc0VLU6wyCayIh3HnCEr0FiAhDjX6uQ77fehM4aNDo35bc7fSUbt0WyXyRL/n+cpoxUCdPut/076cpC2ApnSjllOZPzqbzKskpWNJ8Yss4VWbFsE0+fFi/YO+XpiXJanB53FDdvcKxeuniuM9U+kairKSvJM2VlJDWUfBi+q8l9hPzpXVnyo7dkbd9s0WbvKwiWIlabpWWZFxpq3+q81KOLviMG8BMnh61BBCYAFth+q8XrWu1tUudmpotf4qf0OJ/2uUY1MoybbZHsB/cJaN1xrmJI95KdUEeNn0R15STh2A/igghFYK+07kYHseATKrq2MI+72vmfeUnRP9ven5VZ+TMYCOMvTqpTp9ZhC0BOyFzk9pX7ANyTUrH9uv6ugvdVK2Wn48pv2fRHqrSQcVOc8Dh/TsqrKzFwAPeNiKFqpp/MLXzuwp4aSHLdAA5iQDntbXH8zpCdqdXgyvhLl7XTppofMTYsqknwKuMt/qhXDtNIfm4S7QgHgC/INbfdtBjYbVRWUlOGF+/CLcxjvwpZaJMAc9hcfB30FXXV5WphQVwewPYL7rbR5C8tL5XEwKHF2Sc+DAIQvBcbzlz3tV5b3AHgz/fzKD/rgwrFpwBoDMZOo00+ZBMAZtyVqax59PA+vWx9uAbw9pRPyZyCZGuGer8mgxvJHPRt0Pik6qbNvIjdNJ7DJnd3yPmk1+LOLO/DPAtTrNEl4AXrDNlwvL/WFep4nSJaXYoxtKU4rQdFciQlWWZSiraeMpXZjVoSvA6ux9WuwQOf6CniD1+K8Ua25K5kUApItqWkQIxKBcnNlGkuLp9hKYyffoZF0F1ifzWCiQbyCxtV+F4CRLcS9Wfq/Gl/pm/mHPQfqgpV9q505Wbl5c1u9dXVDq6f7VOaj3PmkPRKy/rY0O3UmXsX9u3ac8VWrFsJW7VKVRrZNkDaSekxDLj9RMSRH3GdbO2J8hJkeJI7D3nikNtBeXT5IZvtpo8lOUX+rms6ZMSFYtVtOXfQ/K196YXbqoRUjoH91slYVkTIb623f+lGyWrUtbWzhtbFGh3K1uf2285kefCRmy4rtEfkVes1q7Brtm3dTPYATN90VjDiJEiSIoM0ucgki9zkIS/5yC9OvASJkgQkS5EqTboMmbJkT9CaY62ri8jlXhAjDdnmreYt5wY39ndd51i63Ej9mwpboZx5F7npqDMVbu4fuSnRbPBtXmZtmaeHvqcjl0SwrKN2yhlnZ/cKCs1pFHQu377fFjiprWhPZRGkueBralkSAjXi3M3gyyB4kZPduwqulm1V6djWYc/1mYrmmvNSpJmtUYKNzntfi4PWVwR97pmHlOXJawieAhh+8eNUeEp6eYXd2uHxFLJj01VazH/eMdL2hCVq1fyVfkBcGoyLEK5viL87E6krjIUdihWFGmpZUuRnaAGFyngHNebC4bLInN4dTKMGDzhM9S99wnB00ihv);font-weight:400;font-style:normal}.icon-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.icon-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.icon-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.icon-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.icon-asterisk[_ngcontent-%COMP%]:before{content:"\\e80b"}.icon-attention[_ngcontent-%COMP%]:before{content:"\\e807"}.icon-calendar-empty[_ngcontent-%COMP%]:before{content:"\\f133"}.icon-cancel[_ngcontent-%COMP%]:before{content:"\\e805"}.icon-cw[_ngcontent-%COMP%]:before{content:"\\e802"}.icon-doc-text[_ngcontent-%COMP%]:before{content:"\\f0f6"}.icon-download[_ngcontent-%COMP%]:before{content:"\\e80e"}.icon-euro[_ngcontent-%COMP%]:before{content:"\\f153"}.icon-eye[_ngcontent-%COMP%]:before{content:"\\e80f"}.icon-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.icon-floppy[_ngcontent-%COMP%]:before{content:"\\e80c"}.icon-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.icon-info-circled[_ngcontent-%COMP%]:before{content:"\\e809"}.icon-left-big[_ngcontent-%COMP%]:before{content:"\\e803"}.icon-list-bullet[_ngcontent-%COMP%]:before{content:"\\f0ca"}.icon-move[_ngcontent-%COMP%]:before{content:"\\f047"}.icon-ok-circled[_ngcontent-%COMP%]:before{content:"\\e80a"}.icon-pencil[_ngcontent-%COMP%]:before{content:"\\e808"}.icon-plus[_ngcontent-%COMP%]:before{content:"\\e800"}.icon-right-big[_ngcontent-%COMP%]:before{content:"\\e804"}.icon-search[_ngcontent-%COMP%]:before{content:"\\e806"}.icon-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.icon-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.icon-trash-empty[_ngcontent-%COMP%]:before{content:"\\e801"}.icon-upload[_ngcontent-%COMP%]:before{content:"\\e80d"}.label[_ngcontent-%COMP%]{color:#515151;font-family:Arial,sans-serif;font-size:14px;width:22vw}.label-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.label.warning[_ngcontent-%COMP%]{color:#db3333}input[_ngcontent-%COMP%]{border-color:#cbcbcb;border-style:solid;border-width:1px;box-sizing:border-box;color:#515151;font-family:Arial,sans-serif;font-size:14px;height:30px;padding-left:10px;padding-right:10px;width:100%}input[_ngcontent-%COMP%]:focus-visible{border-color:#515151;outline:unset}.feedback[_ngcontent-%COMP%]{color:#db3333;font-family:Arial,sans-serif;font-size:.8em;margin-top:5px}input.warning[_ngcontent-%COMP%]{border-color:#db3333}input.warning[_ngcontent-%COMP%]:focus-visible{border-color:#db3333;box-shadow:0 0 3px #db3333}.margins[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:14px;max-width:max(22vw,210px);width:max(22vw,210px)}.mobile[_ngcontent-%COMP%]{max-width:210px;width:210px}.icon[_ngcontent-%COMP%]{background-color:#f3f1f1;border-color:#cbcbcb;border-style:solid;border-width:1px 0 1px 1px;box-sizing:border-box;color:#515151;font-family:fontello;min-width:30px}.icon-toggle[_ngcontent-%COMP%]{cursor:pointer}.disabled[_ngcontent-%COMP%]{cursor:default}.highlight[_ngcontent-%COMP%]{box-shadow:0 0 1px #000;z-index:1}.lowlight[_ngcontent-%COMP%]{opacity:.5}']}),t})(),Xh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[Wn.UX,_.ez,k.sA,k.Fz]}),t})();var Ze=(()=>{return(t=Ze||(Ze={}))[t.decimal=0]="decimal",t[t.hour=1]="hour",t[t.percentage=2]="percentage",Ze;var t})(),Jh=w(4945),Kh=w(8982);class $h{constructor(n,e,r){this.text=n,this.disabled=e,this.favoriteIndex=r}}var ev=w(6200),Sn=w(2870),tv=w(2300),nv=w(5454),rv=w(4362);const iv=["hoursInput"],ov=["inputValidators"],av=["startDate"],sv=["endDate"];function lv(t,n){1&t&&(c.TgZ(0,"b"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"CALENDAR.PRESTATION.ENTER_PRESTATION")))}function cv(t,n){1&t&&(c.TgZ(0,"b"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"CALENDAR.PRESTATION.DETAIL")))}function uv(t,n){1&t&&c._UZ(0,"span",24)}function dv(t,n){1&t&&c._UZ(0,"span",25)}function fv(t,n){if(1&t&&(c.TgZ(0,"div",21),c.YNc(1,uv,1,0,"span",22),c.YNc(2,dv,1,0,"span",23),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"translate"),c.qZA()()),2&t){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.eventType===e.eventTypes.INDIVIDUAL_ADJUSTMENT),c.xp6(1),c.Q6J("ngIf",e.eventType===e.eventTypes.COLLECTIVE_ADJUSTMENT),c.xp6(2),c.Oqu(c.lcZ(5,3,"CALENDAR.PRESTATION."+e.eventType))}}function pv(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",26)(1,"acerta-button",27),c.NdJ("btnClicked",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.clickToClose())}),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"acerta-button",28),c.NdJ("btnClicked",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.clickToCreate())}),c.ALo(4,"translate"),c.qZA()()}if(2&t){const e=c.oxw();c.xp6(1),c.Q6J("variant",e.acertaButtonVariants.Tertiary)("label",c.lcZ(2,5,"CALENDAR.CANCEL")),c.xp6(2),c.Q6J("disabled",!e.isValid())("variant",e.acertaButtonVariants.Primary)("label",c.lcZ(4,7,"CALENDAR.CONFIRM"))}}function hv(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",26)(1,"acerta-button",27),c.NdJ("btnClicked",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.clickToClose())}),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"acerta-button",29),c.NdJ("btnClicked",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.clickToDelete())}),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"acerta-button",28),c.NdJ("btnClicked",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.clickToModify())}),c.ALo(6,"translate"),c.qZA()()}if(2&t){const e=c.oxw();c.xp6(1),c.Q6J("variant",e.acertaButtonVariants.Tertiary)("label",c.lcZ(2,7,"CALENDAR.CANCEL")),c.xp6(2),c.Q6J("variant",e.acertaButtonVariants.Secondary)("label",c.lcZ(4,9,"CALENDAR.DELETE")),c.xp6(2),c.Q6J("disabled",!e.isValid()||!e.dataChanged())("variant",e.acertaButtonVariants.Primary)("label",c.lcZ(6,11,"CALENDAR.MODIFY"))}}const vv=function(t){return[t]},gv=function(){return["icon-decimal","fa-regular fa-clock"]},mv=function(){return["icon-decimal","fa-regular fa-clock","icon-percentage"]},Us="PERCENTAGE_KEY";let Ev=(()=>{class t{constructor(e,r,i,o,a,l){this.timePickerPipe=e,this.numberValidatorService=r,this.requiredValidatorService=i,this.translatePipe=o,this.notificationService=a,this.dateValidatorService=l,this.isNew=!0,this.close=new c.vpe,this.create=new c.vpe,this.delete=new c.vpe,this.modify=new c.vpe,this._calendarRangeInit=!1,this._hoursInit=!1,this._percentageInit=!1,this._prestantionCodeInit=!1,this.acertaButtonVariants=b.I4,this.numberOfHoursToggle=Ze,this.numberOfHoursToggleValue=Ze.decimal,this.patternHoursPerDay=/^\d{0,2}$|^(\d{0,2}:\d{0,2})$/,this.patternHoursPerDayDecimal=/^\d{0,2}$|^(\d{0,2}([,.])\d{0,2})$/,this.patternPercentage=/^100$|^\d{0,2}$/,this.endDateValidators=[],this.startDateValidators=[],this.eventTypes=gt}set calendarRange(e){this._calendarRange=e,this._calendarRangeInit||(this._originalCalendarRange=Object.assign([],this.calendarRange)),this._calendarRangeInit=!0}set numberOfHours(e){this._hours=e||"",e&&(this.numberOfHoursToggleValue=Ze.decimal),this._hoursInit||(this._originalHours=`${this._hours}`),this._hoursInit=!0}set percentage(e){this._percentage=e||"100",e&&(this.numberOfHoursToggleValue=Ze.percentage),this._percentageInit||(this._originalPercentage=`${this._percentage}`),this._percentageInit=!0}set prestationCode(e){this._prestationCode=e,this.prestationCodeName=this.mapPrestationCode(e),this._prestantionCodeInit||(this._originalPrestationCode=Object.assign({},this._prestationCode)),this._prestantionCodeInit=!0}set prestationCodes(e){this._prestationCodes=e,this.prestationCodeNames=e.filter(r=>r.allowInput).map(r=>new $h(this.mapPrestationCode(r),void 0,r.favoriteIndex))}set inError(e){this._inError=e,e?this.errorId=this.notificationService.error(this.translatePipe.transform("CALENDAR.DEFAULT_ERROR",null),void 0,{positionClass:"inline",tapToDismiss:!1},this.toastContainer):this.errorId&&this.notificationService.clear(this.errorId)}get inError(){return this._inError}get numberOfHours(){return this._hours}get percentage(){return this._percentage}get prestationCode(){return this._prestationCode}get prestationCodes(){return this._prestationCodes}get calendarRange(){return this._calendarRange}ngOnInit(){this.executeStartDateValidators(),this.executeEndDateValidators(!0)}clickToClose(){this.close.emit()}clickToCreate(){var e,r;null!==(e=this.prestationCode)&&void 0!==e&&e.code&&this.create.emit(this.numberOfHoursToggleValue!==Ze.percentage&&this.numberOfHours?new Lr(this.calendarRange,this.prestationCode.code,this.numberOfHours.replace(",",".")):new Lr(this.calendarRange,this.prestationCode.code,void 0,null!==(r=this.percentage)&&void 0!==r?r:"100"))}clickToDelete(){this.delete.emit(this.id)}clickToModify(){var e,r;null!==(e=this.prestationCode)&&void 0!==e&&e.code&&this.modify.emit(this.numberOfHoursToggleValue!==Ze.percentage&&this.numberOfHours?{id:this.id,result:new Lr(this.calendarRange,this.prestationCode.code,this.numberOfHours.replace(",","."))}:{id:this.id,result:new Lr(this.calendarRange,this.prestationCode.code,void 0,null!==(r=this.percentage)&&void 0!==r?r:"100")})}dataChanged(){var e,r;return!(this._hours===this._originalHours&&this.percentage===this._originalPercentage&&(null===(e=this.prestationCode)||void 0===e?void 0:e.code)===(null===(r=this._originalPrestationCode)||void 0===r?void 0:r.code)&&this.calendarRange.every((i,o)=>new Date(i).getTime()===new Date(this._originalCalendarRange[o]).getTime()))}executeValidators(){var e,r;this.validators=[],this.numberOfHoursToggleValue===Ze.decimal&&this.validators.push(this.numberValidatorService.getValidator(0,24,null===(e=this.prestationCode)||void 0===e?void 0:e.allowPercentage)),!(null===(r=this.prestationCode)||void 0===r)&&r.allowPercentage||this.validators.push(this.requiredValidatorService.getValidator()),this.refreshValidators().subscribe(()=>{this.hoursInput.formControl.updateValueAndValidity(),this.inputValidators.formControl.updateValueAndValidity(),this.numberOfHoursToggleValue===Ze.percentage&&"100"!==this.percentage&&this.hoursInput.formControl.setErrors({[Us]:this.translatePipe.transform("CALENDAR.PRESTATION.PERCENTAGE_VALIDATION",null)}),this.numberOfHoursToggleValue===Ze.hour&&this.hoursInput.formControl.setErrors(this.inputValidators.formControl.errors)})}executeEndDateValidators(e=!1){var r;this.endDateValidators=this.calendarRange[0]?[this.dateValidatorService.getValidator(this.calendarRange[0])]:[],(null===(r=this.allowedCalendarRange)||void 0===r?void 0:r.length)>1&&this.endDateValidators.push(this.dateValidatorService.getValidator(this.allowedCalendarRange[0],this.allowedCalendarRange[1])),this.endDateValidators.push(this.requiredValidatorService.getValidator()),this.refreshValidators().subscribe(()=>{e||this.endDate.formControl.markAsTouched(),this.endDate.formControl.updateValueAndValidity()})}executeStartDateValidators(){var e;this.startDateValidators=[],(null===(e=this.allowedCalendarRange)||void 0===e?void 0:e.length)>1&&this.startDateValidators.push(this.dateValidatorService.getValidator(this.allowedCalendarRange[0],this.allowedCalendarRange[1])),this.startDateValidators.push(this.requiredValidatorService.getValidator()),this.refreshValidators().subscribe(()=>{this.endDate.formControl.updateValueAndValidity()})}setHours(e){this.numberOfHoursToggleValue===Ze.decimal?this.numberOfHours=e:this.numberOfHoursToggleValue===Ze.hour?(this._hours=this.timePickerPipe.transform(e,!0),this.refreshValidators().subscribe(()=>{this.hoursInput.formControl.setErrors(this.inputValidators.formControl.errors)})):(this.percentage=e,"100"!==this.percentage&&this.refreshValidators().subscribe(()=>{this.hoursInput.formControl.setErrors({[Us]:this.translatePipe.transform("CALENDAR.PRESTATION.PERCENTAGE_VALIDATION",null)})}))}setPeriod(e,r){var i,o;!e||!e.getTime()||(null==e?void 0:e.getTime())===(null===(i=this.calendarRange[0])||void 0===i?void 0:i.getTime())&&r||(null==e?void 0:e.getTime())===(null===(o=this.calendarRange[1])||void 0===o?void 0:o.getTime())&&!r||(this.calendarRange=[r?e:this.calendarRange[0],r?this.calendarRange[1]:e],r&&this.executeEndDateValidators(),this.mapValidationError())}setPrestationCode(e){var r;this.prestationCode=this.prestationCodes.find(i=>this.mapPrestationCode(i)===e),this.numberOfHoursToggleValue===Ze.percentage&&!(null!==(r=this.prestationCode)&&void 0!==r&&r.allowPercentage)&&(this.numberOfHoursToggleValue=Ze.decimal),this.executeValidators()}toggleChanged(e){this.refreshValidators().subscribe(()=>{this.numberOfHoursToggleValue=e,this.numberOfHoursWithHoursMinutes=this.numberOfHours,this.executeValidators()})}mapValidationError(){let e=this.translatePipe.transform("CALENDAR.PRESTATION.MAX_DATE",null);e=e.replace("%",this.maxDate.toLocaleDateString("nl-BE")),this.refreshValidators().subscribe(()=>{var r,i,o,a,l,u;(null===(o=null===(i=null===(r=this.startDate.formControl.errors)||void 0===r?void 0:r.maxDate)||void 0===i?void 0:i.data)||void 0===o?void 0:o.maxDate)===this.maxDate.toLocaleDateString("nl-BE")&&(this.startDate.formControl.errors.maxDate.reason=e),(null===(u=null===(l=null===(a=this.endDate.formControl.errors)||void 0===a?void 0:a.maxDate)||void 0===l?void 0:l.data)||void 0===u?void 0:u.maxDate)===this.maxDate.toLocaleDateString("nl-BE")&&(this.endDate.formControl.errors.maxDate.reason=e)})}mapPrestationCode(e){return e?`${e.code} - ${e.mediumDescription}`:""}refreshValidators(){return(0,Jh.of)(void 0).pipe((0,Kh.g)(0))}isValid(){var e,r,i,o,a,l,u;return!(this.inError||!this.prestationCode||null!==(e=this.startDate)&&void 0!==e&&e.formControl.errors||null!==(r=this.endDate)&&void 0!==r&&r.formControl.errors||null!==(i=this.hoursInput)&&void 0!==i&&i.formControl.errors||null===(a=null===(o=this.startDate)||void 0===o?void 0:o.formControl.value)||void 0===a||!a.getTime()||null===(u=null===(l=this.endDate)||void 0===l?void 0:l.formControl.value)||void 0===u||!u.getTime())}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(kr.b),c.Y36(Fr.V),c.Y36(Fr.a3),c.Y36(Ct.X$),c.Y36(k.gq),c.Y36(Fr.lA))},t.\u0275cmp=c.Xpm({type:t,selectors:[["prestation-screen"]],viewQuery:function(e,r){if(1&e&&(c.Gf(iv,5),c.Gf(ov,5),c.Gf(av,5),c.Gf(sv,5),c.Gf(Sn.FM,5)),2&e){let i;c.iGM(i=c.CRH())&&(r.hoursInput=i.first),c.iGM(i=c.CRH())&&(r.inputValidators=i.first),c.iGM(i=c.CRH())&&(r.startDate=i.first),c.iGM(i=c.CRH())&&(r.endDate=i.first),c.iGM(i=c.CRH())&&(r.toastContainer=i.first)}},inputs:{calendarRange:"calendarRange",allowedCalendarRange:"allowedCalendarRange",id:"id",eventType:"eventType",isNew:"isNew",numberOfHours:"numberOfHours",percentage:"percentage",prestationCode:"prestationCode",prestationCodes:"prestationCodes",inError:"inError",maxDate:"maxDate"},outputs:{close:"close",create:"create",delete:"delete",modify:"modify"},standalone:!0,features:[c._Bn([Ct.X$]),c.jDz],decls:37,vars:58,consts:[[1,"p-3","slide-out-container","d-flex","flex-column","justify-content-between"],[1,"d-flex","justify-content-between","align-items-center","slide-out-title"],[4,"ngIf"],[1,"btn","p-0","me-2","slide-out-close",3,"click"],[1,"mt-2","mb-4"],[1,"ps-5"],[3,"label","placeholder","required","values","input","forceMobileView","selectedItem","selectedValue"],[1,"d-flex","date-range"],[3,"label","required","isRange","value","forceMobileView","validators","valueChanged"],["startDate",""],[1,"mx-2","to-location"],[1,"datepicker-location",3,"isRange","value","forceMobileView","validators","valueChanged"],["endDate",""],[1,"input-validators",3,"value","required","validators"],["inputValidators",""],[3,"label","placeholder","value","forceMobileView","validators","required","pattern","icons","toggleIndex","valueChanged","toggleChanged"],["hoursInput",""],["class","my-3",4,"ngIf"],[1,"mb-1"],["aria-live","polite","toastContainer","",1,"toaster-location"],["class","d-flex justify-content-between",4,"ngIf"],[1,"my-3"],["class","fa-solid fa-user me-1",4,"ngIf"],["class","fa-solid fa-user-group me-1",4,"ngIf"],[1,"fa-solid","fa-user","me-1"],[1,"fa-solid","fa-user-group","me-1"],[1,"d-flex","justify-content-between"],[3,"variant","label","btnClicked"],["icon","icon-pencil",3,"disabled","variant","label","btnClicked"],["icon","icon-trash-empty",3,"variant","label","btnClicked"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0)(1,"div")(2,"div",1),c.YNc(3,lv,3,3,"b",2),c.YNc(4,cv,3,3,"b",2),c.TgZ(5,"button",3),c.NdJ("click",function(){return r.clickToClose()}),c.TgZ(6,"span"),c._uU(7,"\xd7"),c.qZA()()(),c._UZ(8,"hr",4),c.TgZ(9,"div",5)(10,"acerta-dropdown",6),c.NdJ("selectedValue",function(o){return r.setPrestationCode(o)}),c.ALo(11,"translate"),c.ALo(12,"translate"),c.qZA(),c.TgZ(13,"div",7)(14,"acerta-date-picker",8,9),c.NdJ("valueChanged",function(o){return r.setPeriod(o,!0)}),c.ALo(16,"translate"),c.qZA(),c.TgZ(17,"div",10),c._uU(18),c.ALo(19,"translate"),c.qZA(),c.TgZ(20,"acerta-date-picker",11,12),c.NdJ("valueChanged",function(o){return r.setPeriod(o,!1)}),c.qZA()(),c._UZ(22,"acerta-input",13,14),c.TgZ(24,"acerta-input",15,16),c.NdJ("valueChanged",function(o){return r.setHours(o)})("toggleChanged",function(o){return r.toggleChanged(o)}),c.ALo(26,"translate"),c.ALo(27,"translate"),c.ALo(28,"translate"),c.ALo(29,"translate"),c.ALo(30,"timePicker"),c.qZA(),c.YNc(31,fv,6,5,"div",17),c.qZA()(),c.TgZ(32,"div",18),c._UZ(33,"div",19)(34,"hr"),c.YNc(35,pv,5,9,"div",20),c.YNc(36,hv,7,13,"div",20),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngIf",r.isNew),c.xp6(1),c.Q6J("ngIf",!r.isNew),c.xp6(6),c.Q6J("label",c.lcZ(11,35,"CALENDAR.PRESTATION.PRESTATION_CODE_SEARCH"))("placeholder",c.lcZ(12,37,"CALENDAR.PRESTATION.PRESTATION_CODE"))("required",!0)("values",r.prestationCodeNames)("input",!0)("forceMobileView",!0)("selectedItem",r.prestationCodeName),c.xp6(4),c.Q6J("label",c.lcZ(16,39,"CALENDAR.PRESTATION.PERIOD"))("required",!0)("isRange",!1)("value",r.calendarRange[0])("forceMobileView",!0)("validators",r.startDateValidators),c.xp6(4),c.Oqu(c.lcZ(19,41,"CALENDAR.PRESTATION.TO")),c.xp6(2),c.Q6J("isRange",!1)("value",r.calendarRange[1])("forceMobileView",!0)("validators",r.endDateValidators),c.xp6(2),c.Q6J("value",r.numberOfHours)("required",!(null!=r.prestationCode&&r.prestationCode.allowPercentage))("validators",c.VKq(54,vv,r.numberValidatorService.getValidator(0,24,null==r.prestationCode?null:r.prestationCode.allowPercentage))),c.xp6(2),c.Q6J("label",c.lcZ(26,43,"CALENDAR.PRESTATION.HOURS_PER_DAY"))("placeholder",r.numberOfHoursToggleValue===r.numberOfHoursToggle.decimal?c.lcZ(27,45,"CALENDAR.PRESTATION.HOURS_PER_DAY_TEMPLATE_DECIMAL"):r.numberOfHoursToggleValue===r.numberOfHoursToggle.hour?c.lcZ(28,47,"CALENDAR.PRESTATION.HOURS_PER_DAY_TEMPLATE"):c.lcZ(29,49,"CALENDAR.PRESTATION.PERCENTAGE"))("value",r.numberOfHoursToggleValue===r.numberOfHoursToggle.decimal?r.numberOfHours:r.numberOfHoursToggleValue===r.numberOfHoursToggle.hour?c.xi3(30,51,r.numberOfHoursWithHoursMinutes,!1):r.percentage)("forceMobileView",!0)("validators",r.validators)("required",!(null!=r.prestationCode&&r.prestationCode.allowPercentage))("pattern",r.numberOfHoursToggleValue===r.numberOfHoursToggle.decimal?r.patternHoursPerDayDecimal:r.numberOfHoursToggleValue===r.numberOfHoursToggle.hour?r.patternHoursPerDay:r.patternPercentage)("icons",null!=r.prestationCode&&r.prestationCode.allowPercentage?c.DdM(57,mv):c.DdM(56,gv))("toggleIndex",r.numberOfHoursToggleValue),c.xp6(7),c.Q6J("ngIf",!r.isNew),c.xp6(4),c.Q6J("ngIf",r.isNew),c.xp6(1),c.Q6J("ngIf",!r.isNew))},dependencies:[Sn.L4,Sn.FM,k.uX,_.ez,_.O5,k.sA,Ct.X$,ev.E,nv.c,tv.y,rv.r,Xh,Qh,b.Nc,b.Db,kr.b],styles:['.slide-out-title[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{color:#515151;font-family:Arial,sans-serif;font-size:14px}.slide-out-close[_ngcontent-%COMP%]{font-size:24px}.slide-out-close[_ngcontent-%COMP%]:hover{filter:brightness(300%)}.slide-out-container[_ngcontent-%COMP%]{height:100vh;line-height:1.5}.input-validators[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .icon-decimal:before{content:".0";display:inline-block;font-family:Arial,sans-serif;font-size:14px}[_nghost-%COMP%]     .icon-clock:before{background:url(/assets/icons/clock.svg);background-size:16px;content:"";display:inline-block;height:16px;width:16px}[_nghost-%COMP%]     .icon-percentage:before{content:"%";display:inline-block;font-family:Arial,sans-serif;font-size:14px}[_nghost-%COMP%]     acerta-dropdown .mobile{width:350px}textarea[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:14px;height:inherit;resize:none;width:100%}.toaster-location[_ngcontent-%COMP%]{position:absolute;margin-top:-70px}  .toaster-location acerta-notification-toast{width:450px!important}  .date-range acerta-date-picker .mobile{width:159px}.to-location[_ngcontent-%COMP%]{margin-top:30px}.datepicker-location[_ngcontent-%COMP%]{margin-top:25px}']}),t})();function yv(t,n){1&t&&c._UZ(0,"span",18)}function bv(t,n){1&t&&c._UZ(0,"span",19)}function _v(t,n){1&t&&c._UZ(0,"span",20)}function Av(t,n){if(1&t&&(c.TgZ(0,"div",21),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t){const e=c.oxw();c.ekj("green-badge",e.state===e.eventStates.APPROVED)("orange-badge",e.state===e.eventStates.IN_CANCELLATION)("grey-badge",e.state===e.eventStates.CANCELLED||e.state===e.eventStates.REFUSED)("blue-badge",e.state===e.eventStates.PENDING),c.xp6(1),c.Oqu(e.state?c.lcZ(2,9,"CALENDAR.PRESTATION."+e.state):"")}}function Sv(t,n){if(1&t&&(c.TgZ(0,"div",13),c._uU(1),c.qZA()),2&t){const e=c.oxw();c.xp6(1),c.Oqu(null==e.prestationCode?null:e.prestationCode.longDescription)}}let Tv=(()=>{class t{constructor(e,r,i){this.notificationService=e,this.translatePipe=r,this.elementRef=i,this.close=new c.vpe,this.toggle=new c.vpe,this.acertaButtonVariants=b.I4,this.eventStates=Ot.h,this.eventTypes=gt}set inError(e){e?this.errorId=this.notificationService.error(this.translatePipe.transform("CALENDAR.DEFAULT_ERROR",null),void 0,{positionClass:"inline",tapToDismiss:!1},this.toastContainer):this.errorId&&this.notificationService.clear(this.errorId)}clickToClose(){this.close.emit()}ngAfterViewInit(){if(this.eventType===gt.PERSPECTIVE){const e=this.translatePipe.transform("CALENDAR.PROCESSED",null),r='<a class="link">'+e.slice(e.indexOf("%")+1,e.lastIndexOf("%"))+"</a>",i=e.slice(0,e.indexOf("%"))+r+e.slice(e.lastIndexOf("%")+1);this.notificationService.info(i,void 0,{positionClass:"inline",closeButton:!0,enableHtml:!0,tapToDismiss:!1},this.toastContainer),this.captureLink()}}captureLink(){const e=this.elementRef.nativeElement.querySelector(".link");e?e.onclick=()=>{this.toggle.emit()}:setTimeout(()=>this.captureLink(),0)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(k.gq),c.Y36(Ct.X$),c.Y36(c.SBq))},t.\u0275cmp=c.Xpm({type:t,selectors:[["prestation-screen-read-only"]],viewQuery:function(e,r){if(1&e&&c.Gf(Sn.FM,5),2&e){let i;c.iGM(i=c.CRH())&&(r.toastContainer=i.first)}},inputs:{selectedDate:"selectedDate",calendarRange:"calendarRange",eventType:"eventType",numberOfHours:"numberOfHours",percentage:"percentage",prestationCode:"prestationCode",state:"state",inError:"inError"},outputs:{close:"close",toggle:"toggle"},standalone:!0,features:[c._Bn([Ct.X$]),c.jDz],decls:42,vars:30,consts:[[1,"p-3","slide-out-container","d-flex","flex-column","justify-content-between"],[1,"d-flex","justify-content-between","align-items-center","slide-out-title"],[1,"btn","p-0","me-2","slide-out-close",3,"click"],[1,"mt-2","mb-4"],[1,"ps-5","d-flex","flex-column"],[1,"d-flex","justify-content-between","mb-3"],["class","fa-solid fa-user me-1",4,"ngIf"],["class","fa-solid fa-user-group me-1",4,"ngIf"],["class","fa-solid fa-desktop me-1",4,"ngIf"],["class","badge me-2",3,"green-badge","orange-badge","grey-badge","blue-badge",4,"ngIf"],[1,"selected-date","mb-3"],[1,"mb-3","title"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"mb-1"],["aria-live","polite","toastContainer","",1,"toaster-location"],[1,"d-flex","justify-content-between"],[3,"variant","label","btnClicked"],[1,"fa-solid","fa-user","me-1"],[1,"fa-solid","fa-user-group","me-1"],[1,"fa-solid","fa-desktop","me-1"],[1,"badge","me-2"]],template:function(e,r){if(1&e&&(c.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"b"),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"button",2),c.NdJ("click",function(){return r.clickToClose()}),c.TgZ(7,"span"),c._uU(8,"\xd7"),c.qZA()()(),c._UZ(9,"hr",3),c.TgZ(10,"div",4)(11,"div",5)(12,"div"),c.YNc(13,yv,1,0,"span",6),c.YNc(14,bv,1,0,"span",7),c.YNc(15,_v,1,0,"span",8),c.TgZ(16,"b"),c._uU(17),c.ALo(18,"translate"),c.qZA()(),c.YNc(19,Av,3,11,"div",9),c.qZA(),c.TgZ(20,"b",10),c._uU(21),c.qZA(),c.TgZ(22,"b",11),c._uU(23),c.qZA(),c.YNc(24,Sv,2,1,"div",12),c.TgZ(25,"b"),c._uU(26),c.ALo(27,"translate"),c.qZA(),c.TgZ(28,"div",13),c._uU(29),c.ALo(30,"translate"),c.qZA(),c.TgZ(31,"b"),c._uU(32),c.ALo(33,"translate"),c.qZA(),c.TgZ(34,"div"),c._uU(35),c.qZA()()(),c.TgZ(36,"div",14),c._UZ(37,"div",15)(38,"hr"),c.TgZ(39,"div",16)(40,"acerta-button",17),c.NdJ("btnClicked",function(){return r.clickToClose()}),c.ALo(41,"translate"),c.qZA()()()()),2&e){let i;c.xp6(4),c.Oqu(c.lcZ(5,18,"CALENDAR.PRESTATION.DETAIL")),c.xp6(9),c.Q6J("ngIf",r.eventType===r.eventTypes.INDIVIDUAL_ADJUSTMENT),c.xp6(1),c.Q6J("ngIf",r.eventType===r.eventTypes.COLLECTIVE_ADJUSTMENT),c.xp6(1),c.Q6J("ngIf",r.eventType===r.eventTypes.ESS_REQUEST),c.xp6(2),c.Oqu(c.lcZ(18,20,"CALENDAR.PRESTATION."+r.eventType)),c.xp6(2),c.Q6J("ngIf",r.eventType===r.eventTypes.ESS_REQUEST),c.xp6(2),c.Oqu(r.selectedDate.toLocaleDateString("nl-BE")),c.xp6(2),c.AsE("",null==r.prestationCode?null:r.prestationCode.code,"",null!=r.prestationCode&&r.prestationCode.mediumDescription?" - "+(null==r.prestationCode?null:r.prestationCode.mediumDescription):"",""),c.xp6(1),c.Q6J("ngIf",null==r.prestationCode?null:r.prestationCode.longDescription),c.xp6(2),c.Oqu(c.lcZ(27,22,"CALENDAR.PRESTATION.PERIOD")),c.xp6(3),c.lnq("",r.calendarRange[0].toLocaleDateString("nl-BE")," ",c.lcZ(30,24,"CALENDAR.PRESTATION.TO")," ",r.calendarRange[1].toLocaleDateString("nl-BE"),""),c.xp6(3),c.Oqu(c.lcZ(33,26,"CALENDAR.PRESTATION.HOURS_PER_DAY")),c.xp6(3),c.Oqu(null!==(i=r.numberOfHours)&&void 0!==i?i:r.percentage+"%"),c.xp6(5),c.Q6J("variant",r.acertaButtonVariants.Tertiary)("label",c.lcZ(41,28,"CALENDAR.CLOSE"))}},dependencies:[Sn.L4,Sn.FM,k.uX,_.ez,_.O5,k.sA,Ct.X$,b.Nc,b.Db],styles:[".slide-out-title[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{color:#515151;font-family:Arial,sans-serif;font-size:14px}.slide-out-close[_ngcontent-%COMP%]{font-size:24px}.slide-out-close[_ngcontent-%COMP%]:hover{filter:brightness(300%)}.slide-out-container[_ngcontent-%COMP%]{height:100vh;line-height:1.5}.selected-date[_ngcontent-%COMP%]{color:#4cb4e7}.badge[_ngcontent-%COMP%]{border-radius:50px;font-size:.8em}.green-badge[_ngcontent-%COMP%]{border:1px solid rgb(93,156,23);color:#5d9c17}.orange-badge[_ngcontent-%COMP%]{border:1px solid #d6b300;color:#d6b300}.grey-badge[_ngcontent-%COMP%]{border:1px solid rgb(111,111,111);color:#6f6f6f}.blue-badge[_ngcontent-%COMP%]{border:1px solid rgb(54,107,171);color:#366bab}.title[_ngcontent-%COMP%]{font-size:1.2em}.toaster-location[_ngcontent-%COMP%]{position:absolute;margin-top:-70px}  .toaster-location acerta-notification-toast{width:450px!important}"]}),t})();var wv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.headerElRef=at(),e}return(0,h.ZT)(n,t),n.prototype.renderSimpleLayout=function(e,r){var o=this.props,a=this.context,l=[],u=ds(a.options);return e&&l.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),Z(Fi,{viewSpec:a.viewSpec},function(f,p){return Z("div",{ref:f,className:["fc-daygrid"].concat(p).join(" ")},Z(fs,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[],sections:l}))})},n.prototype.renderHScrollLayout=function(e,r,i,o){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var u=this.props,f=this.context,p=!u.forPrint&&ds(f.options),E=!u.forPrint&&function np(t){var n=t.stickyFooterScrollbar;return(null==n||"auto"===n)&&(n="auto"===t.height||"auto"===t.viewHeight),n}(f.options),A=[];return e&&A.push({type:"header",key:"header",isSticky:p,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),A.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),E&&A.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:tp}]}),Z(Fi,{viewSpec:f.viewSpec},function(T,D){return Z("div",{ref:T,className:["fc-daygrid"].concat(D).join(" ")},Z(a,{liquid:!u.isHeightAuto&&!u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:i,minWidth:o}]}],sections:A}))})},n}(mn);function Br(t,n){for(var e=[],r=0;r<n;r+=1)e[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];e[a.row].push(a)}return e}function Ur(t,n){for(var e=[],r=0;r<n;r+=1)e[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];e[a.firstCol].push(a)}return e}function Hs(t,n){var e=[];if(t){for(var r=0;r<n;r+=1)e[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];e[a.row].segs.push(a)}}else for(r=0;r<n;r+=1)e[r]=null;return e}var Cv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.props,r=Mi(this.context,e.date);return Z(ps,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:Rv},function(i,o){return(o||e.forceDayTop)&&Z("div",{className:"fc-daygrid-day-top",ref:i},Z("a",(0,h.pi)({id:e.dayNumberId,className:"fc-daygrid-day-number"},r),o||Z(Xe,null,"\xa0")))})},n}(Pe);function Rv(t){return t.dayNumberText}var Vs=Be({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function zs(t){var n=t.eventRange.ui.display;return"list-item"===n||"auto"===n&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var Gs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.props;return Z(ip,(0,h.pi)({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Vs,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},n}(Pe),qs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props,i=this.context,a=pa(r.seg,i.options.eventTimeFormat||Vs,i,!0,r.defaultDisplayEventEnd);return Z(ji,{seg:r.seg,timeText:a,defaultContent:Dv,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(l,u,f,p){return Z("a",(0,h.pi)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(u).join(" "),ref:l},ha(r.seg,i)),p)})},n}(Pe);function Dv(t){return Z(Xe,null,Z("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&Z("div",{className:"fc-event-time"},t.timeText),Z("div",{className:"fc-event-title"},t.event.title||Z(Xe,null,"\xa0")))}var Mv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.compileSegs=ye(Iv),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this.props,r=this.compileSegs(e.singlePlacements),i=r.allSegs;return Z(hp,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Z(Xe,null,i.map(function(l){var u=l.eventRange.instance.instanceId;return Z("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:a[u]?"hidden":""}},zs(l)?Z(qs,(0,h.pi)({seg:l,isDragging:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},Nn(l,e.todayRange))):Z(Gs,(0,h.pi)({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},Nn(l,e.todayRange))))}))}},function(a,l,u,f,p,E,A,T){return Z("a",(0,h.pi)({ref:a,className:["fc-daygrid-more-link"].concat(l).join(" "),title:E,"aria-expanded":A,"aria-controls":T},Vo(p)),f)})},n}(Pe);function Iv(t){for(var n=[],e=[],r=0,i=t;r<i.length;r++){var o=i[r];n.push(o.seg),o.isVisible||e.push(o.seg)}return{allSegs:n,invisibleSegs:e}}var Ov=Be({week:"narrow"}),Pv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=at(),e.state={dayNumberId:er()},e.handleRootEl=function(r){It(e.rootElRef,r),It(e.props.elRef,r)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,i=e.props,o=e.state,a=e.rootElRef,l=i.date,u=i.dateProfile,f=Mi(e.context,l,"week");return Z(vs,{date:l,dateProfile:u,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(p,E,A,T){return Z("td",(0,h.pi)({ref:p,role:"gridcell",className:["fc-daygrid-day"].concat(E,i.extraClassNames||[]).join(" ")},A,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":o.dayNumberId}:{}),Z("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&Z(up,{date:l,defaultFormat:Ov},function(D,G,W,F){return Z("a",(0,h.pi)({ref:D,className:["fc-daygrid-week-number"].concat(G).join(" ")},f),F)}),!T&&Z(Cv,{date:l,dateProfile:u,showDayNumber:i.showDayNumber,dayNumberId:o.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),Z("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,Z("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},Z(Mv,{allDayDate:l,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:a,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),Z("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},n}(mn);function Tn(t,n,e,r){if(t.firstCol===n&&t.lastCol===e-1)return t;var i=t.eventRange,o=i.range,a=xn(o,{start:r[n].date,end:Qe(r[e-1].date,1)});return(0,h.pi)((0,h.pi)({},t),{firstCol:n,lastCol:e-1,eventRange:{def:i.def,ui:(0,h.pi)((0,h.pi)({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===o.end.valueOf()})}var Lv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.hiddenConsumes=!1,e.forceHidden={},e}return(0,h.ZT)(n,t),n.prototype.addSegs=function(e){for(var r=this,i=t.prototype.addSegs.call(this,e),o=this.entriesByLevel,a=function(u){return!r.forceHidden[Fn(u)]},l=0;l<o.length;l+=1)o[l]=o[l].filter(a);return i},n.prototype.handleInvalidInsertion=function(e,r,i){var a=this.entriesByLevel,l=this.forceHidden,u=e.touchingEntry,f=e.touchingLevel,p=e.touchingLateral;if(this.hiddenConsumes&&u){var E=Fn(u);if(!l[E])if(this.allowReslicing){var A=(0,h.pi)((0,h.pi)({},u),{span:Vi(u.span,r.span)});l[Fn(A)]=!0,a[f][p]=A,this.splitEntry(u,r,i)}else l[E]=!0,i.push(u)}return t.prototype.handleInvalidInsertion.call(this,e,r,i)},n}(Ef),Ys=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellElRefs=new tn,e.frameElRefs=new tn,e.fgElRefs=new tn,e.segHarnessRefs=new tn,e.rootElRef=at(),e.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,r=this,i=r.props,o=r.state,l=r.context.options,u=i.cells.length,f=Ur(i.businessHourSegs,u),p=Ur(i.bgEventSegs,u),E=Ur(this.getHighlightSegs(),u),A=Ur(this.getMirrorSegs(),u),T=function xv(t,n,e,r,i,o,a){var l=new Lv;l.allowReslicing=!0,l.strictOrder=r,!0===n||!0===e?(l.maxCoord=o,l.hiddenConsumes=!0):"number"==typeof n?l.maxStackCnt=n:"number"==typeof e&&(l.maxStackCnt=e,l.hiddenConsumes=!0);for(var u=[],f=[],p=0;p<t.length;p+=1){var T=i[(E=t[p]).eventRange.instance.instanceId];null!=T?u.push({index:p,thickness:T,span:{start:E.firstCol,end:E.lastCol+1}}):f.push(E)}for(var D=l.addSegs(u),W=function Nv(t,n,e){for(var r=function kv(t,n){for(var e=[],r=0;r<n;r+=1)e.push([]);for(var i=0,o=t;i<o.length;i++){var a=o[i];for(r=a.span.start;r<a.span.end;r+=1)e[r].push(a)}return e}(t,e.length),i=[],o=[],a=[],l=0;l<e.length;l+=1){for(var u=r[l],f=[],p=0,E=0,A=0,T=u;A<T.length;A++)f.push({seg:Tn(G=n[(D=T[A]).index],l,l+1,e),isVisible:!0,isAbsolute:!1,absoluteTop:D.levelCoord,marginTop:D.levelCoord-p}),p=D.levelCoord+D.thickness;var W=[];p=0,E=0;for(var F=0,ee=u;F<ee.length;F++){var D,G=n[(D=ee[F]).index],ne=D.span.start===l;E+=D.levelCoord-p,p=D.levelCoord+D.thickness,D.span.end-D.span.start>1?(E+=D.thickness,ne&&W.push({seg:Tn(G,D.span.start,D.span.end,e),isVisible:!0,isAbsolute:!0,absoluteTop:D.levelCoord,marginTop:0})):ne&&(W.push({seg:Tn(G,D.span.start,D.span.end,e),isVisible:!0,isAbsolute:!1,absoluteTop:D.levelCoord,marginTop:E}),E=0)}i.push(f),o.push(W),a.push(E)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:a}}(l.toRects(),t,a),F=W.singleColPlacements,ee=W.multiColPlacements,ie=W.leftoverMargins,ne=[],ue=[],le=0,he=f;le<he.length;le++){ee[(E=he[le]).firstCol].push({seg:E,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var fe=E.firstCol;fe<=E.lastCol;fe+=1)F[fe].push({seg:Tn(E,fe,fe+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(fe=0;fe<a.length;fe+=1)ne.push(0);for(var be=0,_e=D;be<_e.length;be++){var E,we=_e[be],Me=we.span;for(ee[Me.start].push({seg:Tn(E=t[we.index],Me.start,Me.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),fe=Me.start;fe<Me.end;fe+=1)ne[fe]+=1,F[fe].push({seg:Tn(E,fe,fe+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(fe=0;fe<a.length;fe+=1)ue.push(ie[fe]);return{singleColPlacements:F,multiColPlacements:ee,moreCnts:ne,moreMarginTops:ue}}(function nu(t,n){var e=t.map(ru);return e.sort(function(r,i){return function tc(t,n,e){var r,i;for(r=0;r<e.length;r+=1)if(i=nc(t,n,e[r]))return i;return 0}(r,i,n)}),e.map(function(r){return r._seg})}(i.fgEventSegs,l.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,l.eventOrderStrict,o.eventInstanceHeights,o.maxContentHeight,i.cells),D=T.singleColPlacements,G=T.multiColPlacements,W=T.moreCnts,F=T.moreMarginTops,ee=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return Z("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(ie,ne){var ue=e.renderFgSegs(ne,i.forPrint?D[ne]:G[ne],i.todayRange,ee),le=e.renderFgSegs(ne,function Fv(t,n){if(!t.length)return[];var e=function Bv(t){for(var n={},e=0,r=t;e<r.length;e++)for(var o=0,a=r[e];o<a.length;o++){var l=a[o];n[l.seg.eventRange.instance.instanceId]=l.absoluteTop}return n}(n);return t.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:e[r.eventRange.instance.instanceId],marginTop:0}})}(A[ne],G),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return Z(Pv,{key:ie.key,elRef:e.cellElRefs.createRef(ie.key),innerElRef:e.frameElRefs.createRef(ie.key),dateProfile:i.dateProfile,date:ie.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===ne,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:ie.extraHookProps,extraDataAttrs:ie.extraDataAttrs,extraClassNames:ie.extraClassNames,extraDateSpan:ie.extraDateSpan,moreCnt:W[ne],moreMarginTop:F[ne],singlePlacements:D[ne],fgContentElRef:e.fgElRefs.createRef(ie.key),fgContent:Z(Xe,null,Z(Xe,null,ue),Z(Xe,null,le)),bgContent:Z(Xe,null,e.renderFillSegs(E[ne],"highlight"),e.renderFillSegs(f[ne],"non-business"),e.renderFillSegs(p[ne],"bg-event"))})}))},n.prototype.componentDidMount=function(){this.updateSizing(!0)},n.prototype.componentDidUpdate=function(e,r){this.updateSizing(!Dt(e,this.props))},n.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},n.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},n.prototype.renderFgSegs=function(e,r,i,o,a,l,u){var f=this.context,p=this.props.eventSelection,E=this.state.framePositions,A=1===this.props.cells.length,T=a||l||u,D=[];if(E)for(var G=0,W=r;G<W.length;G++){var F=W[G],ee=F.seg,ie=ee.eventRange.instance.instanceId,ne=ie+":"+e,ue=F.isVisible&&!o[ie],le=F.isAbsolute,he="",fe="";le&&(f.isRtl?(fe=0,he=E.lefts[ee.lastCol]-E.lefts[ee.firstCol]):(he=0,fe=E.rights[ee.firstCol]-E.rights[ee.lastCol])),D.push(Z("div",{className:"fc-daygrid-event-harness"+(le?" fc-daygrid-event-harness-abs":""),key:ne,ref:T?null:this.segHarnessRefs.createRef(ne),style:{visibility:ue?"":"hidden",marginTop:le?"":F.marginTop,top:le?F.absoluteTop:"",left:he,right:fe}},zs(ee)?Z(qs,(0,h.pi)({seg:ee,isDragging:a,isSelected:ie===p,defaultDisplayEventEnd:A},Nn(ee,i))):Z(Gs,(0,h.pi)({seg:ee,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:ie===p,defaultDisplayEventEnd:A},Nn(ee,i)))))}return D},n.prototype.renderFillSegs=function(e,r){var i=this.context.isRtl,o=this.props.todayRange,a=this.state.framePositions,l=[];if(a)for(var u=0,f=e;u<f.length;u++){var p=f[u],E=i?{right:0,left:a.lefts[p.lastCol]-a.lefts[p.firstCol]}:{left:0,right:a.rights[p.firstCol]-a.rights[p.lastCol]};l.push(Z("div",{key:lu(p.eventRange),className:"fc-daygrid-bg-harness",style:E},"bg-event"===r?Z(lp,(0,h.pi)({seg:p},Nn(p,o))):sp(r)))}return Z.apply(void 0,(0,h.ev)([Xe,{}],l))},n.prototype.updateSizing=function(e){var i=this.props,o=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(e){var a=i.cells.map(function(E){return o.currentMap[E.key]});a.length&&this.setState({framePositions:new xi(this.rootElRef.current,a,!0,!1)})}var u=this.state.eventInstanceHeights,f=this.queryEventInstanceHeights(),p=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.safeSetState({eventInstanceHeights:(0,h.pi)((0,h.pi)({},u),f),maxContentHeight:p?this.computeMaxContentHeight():null})}},n.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,r={};for(var i in e){var o=Math.round(e[i].getBoundingClientRect().height),a=i.split(":")[0];r[a]=Math.max(r[a]||0,o)}return r},n.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,i=this.fgElRefs.currentMap[e];return this.cellElRefs.currentMap[e].getBoundingClientRect().bottom-i.getBoundingClientRect().top},n.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return e[r.key]})},n}(mn);Ys.addStateEquality({eventInstanceHeights:Dt});var Uv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitBusinessHourSegs=ye(Br),e.splitBgEventSegs=ye(Br),e.splitFgEventSegs=ye(Br),e.splitDateSelectionSegs=ye(Br),e.splitEventDrag=ye(Hs),e.splitEventResize=ye(Hs),e.rowRefs=new tn,e.handleRootEl=function(r){e.rootEl=r,r?e.context.registerInteractiveComponent(e,{el:r,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,r=this.props,i=r.dateProfile,o=r.dayMaxEventRows,a=r.dayMaxEvents,l=r.expandRows,u=r.cells.length,f=this.splitBusinessHourSegs(r.businessHourSegs,u),p=this.splitBgEventSegs(r.bgEventSegs,u),E=this.splitFgEventSegs(r.fgEventSegs,u),A=this.splitDateSelectionSegs(r.dateSelectionSegs,u),T=this.splitEventDrag(r.eventDrag,u),D=this.splitEventResize(r.eventResize,u),G=!0===a||!0===o;return G&&!l&&(G=!1,o=null,a=null),Z("div",{className:["fc-daygrid-body",G?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},Z(as,{unit:"day"},function(F,ee){return Z(Xe,null,Z("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:l?r.clientHeight:""}},r.colGroupNode,Z("tbody",{role:"presentation"},r.cells.map(function(ie,ne){return Z(Ys,{ref:e.rowRefs.createRef(ne),key:ie.length?ie[0].date.toISOString():ne,showDayNumbers:u>1,showWeekNumbers:r.showWeekNumbers,todayRange:ee,dateProfile:i,cells:ie,renderIntro:r.renderRowIntro,businessHourSegs:f[ne],eventSelection:r.eventSelection,bgEventSegs:p[ne].filter(Hv),fgEventSegs:E[ne],dateSelectionSegs:A[ne],eventDrag:T[ne],eventResize:D[ne],dayMaxEvents:a,dayMaxEventRows:o,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},n.prototype.prepareHits=function(){this.rowPositions=new xi(this.rootEl,this.rowRefs.collect().map(function(e){return e.getCellEls()[0]}),!1,!0),this.colPositions=new xi(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},n.prototype.queryHit=function(e,r){var o=this.colPositions,a=this.rowPositions,l=o.leftToIndex(e),u=a.topToIndex(r);if(null!=u&&null!=l){var f=this.props.cells[u][l];return{dateProfile:this.props.dateProfile,dateSpan:(0,h.pi)({range:this.getCellRange(u,l),allDay:!0},f.extraDateSpan),dayEl:this.getCellEl(u,l),rect:{left:o.lefts[l],right:o.rights[l],top:a.tops[u],bottom:a.bottoms[u]},layer:0}}return null},n.prototype.getCellEl=function(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]},n.prototype.getCellRange=function(e,r){var i=this.props.cells[e][r].date;return{start:i,end:Qe(i,1)}},n}(mn);function Hv(t){return t.eventRange.def.allDay}var Vv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.forceDayIfListItem=!0,e}return(0,h.ZT)(n,t),n.prototype.sliceRange=function(e,r){return r.sliceRange(e)},n}(Bf),zv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.slicer=new Vv,e.tableRef=at(),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var r=this.props;return Z(Uv,(0,h.pi)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},n}(mn);function qv(t,n){var e=new Lf(t.renderRange,n);return new Ff(e,/year|month|week/.test(t.currentRangeUnit))}const Zv=Ut({initialView:"dayGridMonth",views:{dayGrid:{component:function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayTableModel=ye(qv),e.headerRef=at(),e.tableRef=at(),e}return(0,h.ZT)(n,t),n.prototype.render=function(){var e=this,r=this.context,i=r.options,a=this.props,l=this.buildDayTableModel(a.dateProfile,r.dateProfileGenerator),u=i.dayHeaders&&Z(Nf,{ref:this.headerRef,dateProfile:a.dateProfile,dates:l.headerDates,datesRepDistinctDays:1===l.rowCnt}),f=function(p){return Z(zv,{ref:e.tableRef,dateProfile:a.dateProfile,dayTableModel:l,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:a.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(u,f,l.colCnt,i.dayMinWidth):this.renderSimpleLayout(u,f)},n}(wv),dateProfileGeneratorClass:function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,h.ZT)(n,t),n.prototype.buildRenderRange=function(e,r,i){var f,o=this.props.dateEnv,a=t.prototype.buildRenderRange.call(this,e,r,i),l=a.start,u=a.end;if(/^(year|month)$/.test(r)&&(l=o.startOfWeek(l),(f=o.startOfWeek(u)).valueOf()!==u.valueOf()&&(u=Yo(f,1))),this.props.monthMode&&this.props.fixedWeekCount){var p=Math.ceil(function ac(t,n){return jt(t,n)/7}(l,u));u=Yo(u,6-p)}return{start:l,end:u}},n}(Ha)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});Tr.touchMouseIgnoreWait=500;var so=0,Hr=0,lo=!1,co=function(){function t(n){var e=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!e.shouldIgnoreMouse()&&function jv(t){return 0===t.button&&!t.ctrlKey}(r)&&e.tryStart(r)){var i=e.createEventFromMouse(r,!0);e.emitter.trigger("pointerdown",i),e.initScrollWatch(i),e.shouldIgnoreMove||document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(r){var i=e.createEventFromMouse(r);e.recordCoords(i),e.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",e.handleMouseMove),document.removeEventListener("mouseup",e.handleMouseUp),e.emitter.trigger("pointerup",e.createEventFromMouse(r)),e.cleanup()},this.handleTouchStart=function(r){if(e.tryStart(r)){e.isTouchDragging=!0;var i=e.createEventFromTouch(r,!0);e.emitter.trigger("pointerdown",i),e.initScrollWatch(i);var o=r.target;e.shouldIgnoreMove||o.addEventListener("touchmove",e.handleTouchMove),o.addEventListener("touchend",e.handleTouchEnd),o.addEventListener("touchcancel",e.handleTouchEnd),window.addEventListener("scroll",e.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=e.createEventFromTouch(r);e.recordCoords(i),e.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(e.isDragging){var i=r.target;i.removeEventListener("touchmove",e.handleTouchMove),i.removeEventListener("touchend",e.handleTouchEnd),i.removeEventListener("touchcancel",e.handleTouchEnd),window.removeEventListener("scroll",e.handleTouchScroll,!0),e.emitter.trigger("pointerup",e.createEventFromTouch(r)),e.cleanup(),e.isTouchDragging=!1,function Qv(){so+=1,setTimeout(function(){so-=1},Tr.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){e.wasTouchScroll=!0},this.handleScroll=function(r){if(!e.shouldIgnoreMove){var i=window.pageXOffset-e.prevScrollX+e.prevPageX,o=window.pageYOffset-e.prevScrollY+e.prevPageY;e.emitter.trigger("pointermove",{origEvent:r,isTouch:e.isTouchDragging,subjectEl:e.subjectEl,pageX:i,pageY:o,deltaX:i-e.origPageX,deltaY:o-e.origPageY})}},this.containerEl=n,this.emitter=new _r,n.addEventListener("mousedown",this.handleMouseDown),n.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Xv(){1===(Hr+=1)&&window.addEventListener("touchmove",Ws,{passive:!1})}()}return t.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Jv(){(Hr-=1)||window.removeEventListener("touchmove",Ws,{passive:!1})}()},t.prototype.tryStart=function(n){var e=this.querySubjectEl(n);return!(!e||this.handleSelector&&!Ye(n.target,this.handleSelector)||(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,0))},t.prototype.cleanup=function(){lo=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},t.prototype.querySubjectEl=function(n){return this.selector?Ye(n.target,this.selector):this.containerEl},t.prototype.shouldIgnoreMouse=function(){return so||this.isTouchDragging},t.prototype.cancelTouchScroll=function(){this.isDragging&&(lo=!0)},t.prototype.initScrollWatch=function(n){this.shouldWatchScroll&&(this.recordCoords(n),window.addEventListener("scroll",this.handleScroll,!0))},t.prototype.recordCoords=function(n){this.shouldWatchScroll&&(this.prevPageX=n.pageX,this.prevPageY=n.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},t.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},t.prototype.createEventFromMouse=function(n,e){var r=0,i=0;return e?(this.origPageX=n.pageX,this.origPageY=n.pageY):(r=n.pageX-this.origPageX,i=n.pageY-this.origPageY),{origEvent:n,isTouch:!1,subjectEl:this.subjectEl,pageX:n.pageX,pageY:n.pageY,deltaX:r,deltaY:i}},t.prototype.createEventFromTouch=function(n,e){var i,o,r=n.touches,a=0,l=0;return r&&r.length?(i=r[0].pageX,o=r[0].pageY):(i=n.pageX,o=n.pageY),e?(this.origPageX=i,this.origPageY=o):(a=i-this.origPageX,l=o-this.origPageY),{origEvent:n,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:a,deltaY:l}},t}();function Ws(t){lo&&t.preventDefault()}var Kv=function(){function t(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return t.prototype.start=function(n,e,r){this.sourceEl=n,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},t.prototype.handleMove=function(n,e){this.deltaX=n-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()},t.prototype.setIsVisible=function(n){n?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=n,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=n)},t.prototype.stop=function(n,e){var r=this,i=function(){r.cleanup(),e()};n&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},t.prototype.doRevertAnimation=function(n,e){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+e+"ms,left "+e+"ms",In(r,{left:i.left,top:i.top}),function Ql(t,n){var e=function(r){n(r),Ho.forEach(function(i){t.removeEventListener(i,e)})};Ho.forEach(function(r){t.addEventListener(r,e)})}(r,function(){r.style.transition="",n()})},t.prototype.cleanup=function(){this.mirrorEl&&(oi(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},t.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&In(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},t.prototype.getMirrorEl=function(){var n=this.sourceElRect,e=this.mirrorEl;return e||((e=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),e.classList.add("fc-event-dragging"),In(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:n.right-n.left,height:n.bottom-n.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e},t}(),Zs=function(t){function n(e,r){var i=t.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=e,i.doesListening=r,i.scrollTop=i.origScrollTop=e.getScrollTop(),i.scrollLeft=i.origScrollLeft=e.getScrollLeft(),i.scrollWidth=e.getScrollWidth(),i.scrollHeight=e.getScrollHeight(),i.clientWidth=e.getClientWidth(),i.clientHeight=e.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},n.prototype.getScrollTop=function(){return this.scrollTop},n.prototype.getScrollLeft=function(){return this.scrollLeft},n.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},n.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},n.prototype.getClientWidth=function(){return this.clientWidth},n.prototype.getClientHeight=function(){return this.clientHeight},n.prototype.getScrollWidth=function(){return this.scrollWidth},n.prototype.getScrollHeight=function(){return this.scrollHeight},n.prototype.handleScrollChange=function(){},n}(Ni),js=function(t){function n(e,r){return t.call(this,new td(e),r)||this}return(0,h.ZT)(n,t),n.prototype.getEventTarget=function(){return this.scrollController.el},n.prototype.computeClientRect=function(){return Qu(this.scrollController.el)},n}(Zs),$v=function(t){function n(e){return t.call(this,new nd,e)||this}return(0,h.ZT)(n,t),n.prototype.getEventTarget=function(){return window},n.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},n.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},n}(Zs),Qs="function"==typeof performance?performance.now:Date.now,eg=function(){function t(){var n=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(n.isAnimating){var e=n.computeBestEdge(n.pointerScreenX+window.pageXOffset,n.pointerScreenY+window.pageYOffset);if(e){var r=Qs();n.handleSide(e,(r-n.msSinceRequest)/1e3),n.requestAnimation(r)}else n.isAnimating=!1}}}return t.prototype.start=function(n,e,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(n,e))},t.prototype.handleMove=function(n,e){if(this.isEnabled){var r=n-window.pageXOffset,i=e-window.pageYOffset,o=null===this.pointerScreenY?0:i-this.pointerScreenY,a=null===this.pointerScreenX?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Qs()))}},t.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var n=0,e=this.scrollCaches;n<e.length;n++)e[n].destroy();this.scrollCaches=null}},t.prototype.requestAnimation=function(n){this.msSinceRequest=n,requestAnimationFrame(this.animate)},t.prototype.handleSide=function(n,e){var r=n.scrollCache,i=this.edgeThreshold,o=i-n.distance,a=o*o/(i*i)*this.maxVelocity*e,l=1;switch(n.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l)}},t.prototype.computeBestEdge=function(n,e){for(var r=this.edgeThreshold,i=null,a=0,l=this.scrollCaches||[];a<l.length;a++){var u=l[a],f=u.clientRect,p=n-f.left,E=f.right-n,A=e-f.top,T=f.bottom-e;p>=0&&E>=0&&A>=0&&T>=0&&(A<=r&&this.everMovedUp&&u.canScrollUp()&&(!i||i.distance>A)&&(i={scrollCache:u,name:"top",distance:A}),T<=r&&this.everMovedDown&&u.canScrollDown()&&(!i||i.distance>T)&&(i={scrollCache:u,name:"bottom",distance:T}),p<=r&&this.everMovedLeft&&u.canScrollLeft()&&(!i||i.distance>p)&&(i={scrollCache:u,name:"left",distance:p}),E<=r&&this.everMovedRight&&u.canScrollRight()&&(!i||i.distance>E)&&(i={scrollCache:u,name:"right",distance:E}))}return i},t.prototype.buildCaches=function(n){return this.queryScrollEls(n).map(function(e){return e===window?new $v(!1):new js(e,!1)})},t.prototype.queryScrollEls=function(n){for(var e=[],r=0,i=this.scrollQuery;r<i.length;r++){var o=i[r];"object"==typeof o?e.push(o):e.push.apply(e,Array.prototype.slice.call(Fo(n).querySelectorAll(o)))}return e},t}(),wn=function(t){function n(e,r){var i=t.call(this,e)||this;i.containerEl=e,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(a){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,function Xl(t){t.classList.add("fc-unselectable"),t.addEventListener("selectstart",tr)}(document.body),function Kl(t){t.addEventListener("contextmenu",tr)}(document.body),a.isTouch||a.origEvent.preventDefault(),i.emitter.trigger("pointerdown",a),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(a.subjectEl,a.pageX,a.pageY),i.startDelay(a),i.minDistance||i.handleDistanceSurpassed(a)))},i.onPointerMove=function(a){if(i.isInteracting){if(i.emitter.trigger("pointermove",a),!i.isDistanceSurpassed){var l=i.minDistance,f=a.deltaX,p=a.deltaY;f*f+p*p>=l*l&&i.handleDistanceSurpassed(a)}i.isDragging&&("scroll"!==a.origEvent.type&&(i.mirror.handleMove(a.pageX,a.pageY),i.autoScroller.handleMove(a.pageX,a.pageY)),i.emitter.trigger("dragmove",a))}},i.onPointerUp=function(a){i.isInteracting&&(i.isInteracting=!1,function Jl(t){t.classList.remove("fc-unselectable"),t.removeEventListener("selectstart",tr)}(document.body),function $l(t){t.removeEventListener("contextmenu",tr)}(document.body),i.emitter.trigger("pointerup",a),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(a)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var o=i.pointer=new co(e);return o.emitter.on("pointerdown",i.onPointerDown),o.emitter.on("pointermove",i.onPointerMove),o.emitter.on("pointerup",i.onPointerUp),r&&(o.selector=r),i.mirror=new Kv,i.autoScroller=new eg,i}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},n.prototype.startDelay=function(e){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},n.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},n.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},n.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},n.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},n.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},n.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},n.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},n.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},n.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},n}(ns),tg=function(){function t(n){this.origRect=Pi(n),this.scrollCaches=Pa(n).map(function(e){return new js(e,!0)})}return t.prototype.destroy=function(){for(var n=0,e=this.scrollCaches;n<e.length;n++)e[n].destroy()},t.prototype.computeLeft=function(){for(var n=this.origRect.left,e=0,r=this.scrollCaches;e<r.length;e++){var i=r[e];n+=i.origScrollLeft-i.getScrollLeft()}return n},t.prototype.computeTop=function(){for(var n=this.origRect.top,e=0,r=this.scrollCaches;e<r.length;e++){var i=r[e];n+=i.origScrollTop-i.getScrollTop()}return n},t.prototype.isWithinClipping=function(n,e){for(var r={left:n,top:e},i=0,o=this.scrollCaches;i<o.length;i++){var a=o[i];if(!ng(a.getEventTarget())&&!Lu(r,a.clientRect))return!1}return!0},t}();function ng(t){var n=t.tagName;return"HTML"===n||"BODY"===n}var Zn=function(){function t(n,e){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var o=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(o.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):o.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=e,n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("dragmove",this.handleDragMove),n.emitter.on("pointerup",this.handlePointerUp),n.emitter.on("dragend",this.handleDragEnd),this.dragging=n,this.emitter=new _r}return t.prototype.processFirstCoord=function(n){var o,e={left:n.pageX,top:n.pageY},r=e,i=n.subjectEl;i instanceof HTMLElement&&(r=function Fu(t,n){return{left:Math.min(Math.max(t.left,n.left),n.right),top:Math.min(Math.max(t.top,n.top),n.bottom)}}(r,o=Pi(i)));var a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&o){var l=Da(o,a.rect);l&&(r=function Bu(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}(l))}this.coordAdjust=function Uu(t,n){return{left:t.left-n.left,top:t.top-n.top}}(r,e)}else this.coordAdjust={left:0,top:0}},t.prototype.handleMove=function(n,e){var r=this.queryHitForOffset(n.pageX+this.coordAdjust.left,n.pageY+this.coordAdjust.top);(e||!Vr(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,n))},t.prototype.prepareHits=function(){this.offsetTrackers=Rt(this.droppableStore,function(n){return n.component.prepareHits(),new tg(n.el)})},t.prototype.releaseHits=function(){var n=this.offsetTrackers;for(var e in n)n[e].destroy();this.offsetTrackers={}},t.prototype.queryHitForOffset=function(n,e){var i=this.droppableStore,o=this.offsetTrackers,a=null;for(var l in i){var u=i[l].component,f=o[l];if(f&&f.isWithinClipping(n,e)){var p=f.computeLeft(),E=f.computeTop(),A=n-p,T=e-E,D=f.origRect,G=D.right-D.left,W=D.bottom-D.top;if(A>=0&&A<G&&T>=0&&T<W){var F=u.queryHit(A,T,G,W);F&&yr(F.dateProfile.activeRange,F.dateSpan.range)&&(!a||F.layer>a.layer)&&(F.componentId=l,F.context=u.context,F.rect.left+=p,F.rect.right+=p,F.rect.top+=E,F.rect.bottom+=E,a=F)}}}return a},t}();function Vr(t,n){return!t&&!n||Boolean(t)===Boolean(n)&&function fu(t,n){return function eu(t,n){return(null===t.start?null:t.start.valueOf())===(null===n.start?null:n.start.valueOf())&&(null===t.end?null:t.end.valueOf())===(null===n.end?null:n.end.valueOf())}(t.range,n.range)&&t.allDay===n.allDay&&function pu(t,n){for(var e in n)if("range"!==e&&"allDay"!==e&&t[e]!==n[e])return!1;for(var e in t)if(!(e in n))return!1;return!0}(t,n)}(t.dateSpan,n.dateSpan)}function uo(t,n){for(var e={},r=0,i=n.pluginHooks.datePointTransforms;r<i.length;r++)(0,h.pi)(e,(0,i[r])(t,n));return(0,h.pi)(e,function rg(t,n){return{date:n.toDate(t.range.start),dateStr:n.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}(t,n.dateEnv)),e}var ig=function(t){function n(e){var r=t.call(this,e)||this;r.handlePointerDown=function(o){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(o.origEvent.target))},r.handleDragEnd=function(o){var a=r.component;if(!r.dragging.pointer.wasTouchScroll){var u=r.hitDragging,f=u.initialHit,p=u.finalHit;if(f&&p&&Vr(f,p)){var E=a.context,A=(0,h.pi)((0,h.pi)({},uo(f.dateSpan,E)),{dayEl:f.dayEl,jsEvent:o.origEvent,view:E.viewApi||E.calendarApi.view});E.emitter.trigger("dateClick",A)}}},r.dragging=new wn(e.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new Zn(r.dragging,Gi(e));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.dragging.destroy()},n}(En),og=function(t){function n(e){var r=t.call(this,e)||this;r.dragSelection=null,r.handlePointerDown=function(u){var p=r.component,E=r.dragging,T=p.context.options.selectable&&p.isValidDateDownEl(u.origEvent.target);E.setIgnoreMove(!T),E.delay=u.isTouch?function ag(t){var n=t.context.options,e=n.selectLongPressDelay;return null==e&&(e=n.longPressDelay),e}(p):null},r.handleDragStart=function(u){r.component.context.calendarApi.unselect(u)},r.handleHitUpdate=function(u,f){var p=r.component.context,E=null,A=!1;if(u){var T=r.hitDragging.initialHit;u.componentId===T.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(T,u)||(E=function sg(t,n,e){var r=t.dateSpan,i=n.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(ic);for(var a={},l=0,u=e;l<u.length;l++){var p=(0,u[l])(t,n);if(!1===p)return null;p&&(0,h.pi)(a,p)}return a.range={start:o[0],end:o[3]},a.allDay=r.allDay,a}(T,u,p.pluginHooks.dateSelectionTransformers)),(!E||!function Uf(t,n,e){return!!yr(n.validRange,t.range)&&ls({dateSelection:t},e)}(E,u.dateProfile,p))&&(A=!0,E=null)}E?p.dispatch({type:"SELECT_DATES",selection:E}):f||p.dispatch({type:"UNSELECT_DATES"}),A?nr():rr(),f||(r.dragSelection=E)},r.handlePointerUp=function(u){r.dragSelection&&(ma(r.dragSelection,u,r.component.context),r.dragSelection=null)};var o=e.component.context.options,a=r.dragging=new wn(e.el);a.touchScrollAllowed=!1,a.minDistance=o.selectMinDistance||0,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new Zn(r.dragging,Gi(e));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),r}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.dragging.destroy()},n}(En),Xs=function(t){function n(e){var r=t.call(this,e)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(u){var f=u.origEvent.target,E=r.component,A=r.dragging,T=A.mirror,D=E.context.options,G=E.context;r.subjectEl=u.subjectEl;var W=r.subjectSeg=gn(u.subjectEl),ee=(r.eventRange=W.eventRange).instance.instanceId;r.relevantEvents=hi(G.getCurrentData().eventStore,ee),A.minDistance=u.isTouch?0:D.eventDragMinDistance,A.delay=u.isTouch&&ee!==E.props.eventSelection?function cg(t){var n=t.context.options,e=n.eventLongPressDelay;return null==e&&(e=n.longPressDelay),e}(E):null,T.parentNode=D.fixedMirrorParent?D.fixedMirrorParent:Ye(f,".fc"),T.revertDuration=D.dragRevertDuration;var ie=E.isValidSegDownEl(f)&&!Ye(f,".fc-event-resizer");A.setIgnoreMove(!ie),r.isDragging=ie&&u.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(u){var f=r.component.context,p=r.eventRange,E=p.instance.instanceId;u.isTouch?E!==r.component.props.eventSelection&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:E}):f.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(f.calendarApi.unselect(u),f.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new xe(f,p.def,p.instance),jsEvent:u.origEvent,view:f.viewApi}))},r.handleHitUpdate=function(u,f){if(r.isDragging){var p=r.relevantEvents,E=r.hitDragging.initialHit,A=r.component.context,T=null,D=null,G=null,W=!1,F={affectedEvents:p,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(u){var ee=(T=u.context).options;A===T||ee.editable&&ee.droppable?(D=function lg(t,n,e){var r=t.dateSpan,i=n.dateSpan,o=r.range.start,a=i.range.start,l={};r.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=n.context.options.allDayMaintainDuration,i.allDay&&(o=Oe(o)));var u=vn(o,a,t.context.dateEnv,t.componentId===n.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);for(var f={datesDelta:u,standardProps:l},p=0,E=e;p<E.length;p++)(0,E[p])(f,t,n);return f}(E,u,T.getCurrentData().pluginHooks.eventDragMutationMassagers),D&&(G=Ti(p,T.getCurrentData().eventUiBases,D,T),F.mutatedEvents=G,Wi(F,u.dateProfile,T)||(W=!0,D=null,G=null,F.mutatedEvents={defs:{},instances:{}}))):T=null}r.displayDrag(T,F),W?nr():rr(),f||(A===T&&Vr(E,u)&&(D=null),r.dragging.setMirrorNeedsRevert(!D),r.dragging.setMirrorIsVisible(!u||!Fo(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=T,r.validMutation=D,r.mutatedRelevantEvents=G)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(u){if(r.isDragging){var f=r.component.context,p=f.viewApi,A=r.receivingContext,T=r.validMutation,D=r.eventRange.def,G=r.eventRange.instance,W=new xe(f,D,G),F=r.relevantEvents,ee=r.mutatedRelevantEvents,ie=r.hitDragging.finalHit;if(r.clearDrag(),f.emitter.trigger("eventDragStop",{el:r.subjectEl,event:W,jsEvent:u.origEvent,view:p}),T){if(A===f){var ne=new xe(f,ee.defs[D.defId],G?ee.instances[G.instanceId]:null);f.dispatch({type:"MERGE_EVENTS",eventStore:ee});for(var ue={oldEvent:W,event:ne,relatedEvents:$t(ee,f,G),revert:function(){f.dispatch({type:"MERGE_EVENTS",eventStore:F})}},le={},he=0,fe=f.getCurrentData().pluginHooks.eventDropTransformers;he<fe.length;he++)(0,h.pi)(le,(0,fe[he])(T,f));f.emitter.trigger("eventDrop",(0,h.pi)((0,h.pi)((0,h.pi)({},ue),le),{el:u.subjectEl,delta:T.datesDelta,jsEvent:u.origEvent,view:p})),f.emitter.trigger("eventChange",ue)}else if(A){var _e={event:W,relatedEvents:$t(F,f,G),revert:function(){f.dispatch({type:"MERGE_EVENTS",eventStore:F})}};f.emitter.trigger("eventLeave",(0,h.pi)((0,h.pi)({},_e),{draggedEl:u.subjectEl,view:p})),f.dispatch({type:"REMOVE_EVENTS",eventStore:F}),f.emitter.trigger("eventRemove",_e);var Me=ee.instances[G.instanceId],Fe=new xe(A,ee.defs[D.defId],Me);A.dispatch({type:"MERGE_EVENTS",eventStore:ee});var ft={event:Fe,relatedEvents:$t(ee,A,Me),revert:function(){A.dispatch({type:"REMOVE_EVENTS",eventStore:ee})}};A.emitter.trigger("eventAdd",ft),u.isTouch&&A.dispatch({type:"SELECT_EVENT",eventInstanceId:G.instanceId}),A.emitter.trigger("drop",(0,h.pi)((0,h.pi)({},uo(ie.dateSpan,A)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:ie.context.viewApi})),A.emitter.trigger("eventReceive",(0,h.pi)((0,h.pi)({},ft),{draggedEl:u.subjectEl,view:ie.context.viewApi}))}}else f.emitter.trigger("_noEventDrop")}r.cleanup()};var o=r.component.context.options,a=r.dragging=new wn(e.el);a.pointer.selector=n.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new Zn(r.dragging,Sr);return l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),l.emitter.on("dragend",r.handleDragEnd),r}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.dragging.destroy()},n.prototype.displayDrag=function(e,r){var o=this.receivingContext;o&&o!==e&&o.dispatch(o===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})},n.prototype.clearDrag=function(){var e=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n}(En),ug=function(t){function n(e){var r=t.call(this,e)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(l){var u=r.component,p=gn(r.querySegEl(l)),E=r.eventRange=p.eventRange;r.dragging.minDistance=u.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&r.component.props.eventSelection!==E.instance.instanceId)},r.handleDragStart=function(l){var u=r.component.context,f=r.eventRange;r.relevantEvents=hi(u.getCurrentData().eventStore,r.eventRange.instance.instanceId);var p=r.querySegEl(l);r.draggingSegEl=p,r.draggingSeg=gn(p),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:p,event:new xe(u,f.def,f.instance),jsEvent:l.origEvent,view:u.viewApi})},r.handleHitUpdate=function(l,u,f){var p=r.component.context,E=r.relevantEvents,A=r.hitDragging.initialHit,T=r.eventRange.instance,D=null,G=null,W=!1,F={affectedEvents:E,mutatedEvents:{defs:{},instances:{}},isEvent:!0};l&&(l.componentId===A.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(A,l)||(D=function dg(t,n,e,r){var i=t.context.dateEnv,l=vn(t.dateSpan.range.start,n.dateSpan.range.start,i,t.largeUnit);if(e){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}(A,l,f.subjectEl.classList.contains("fc-event-resizer-start"),T.range))),D&&(G=Ti(E,p.getCurrentData().eventUiBases,D,p),F.mutatedEvents=G,Wi(F,l.dateProfile,p)||(W=!0,D=null,G=null,F.mutatedEvents=null)),p.dispatch(G?{type:"SET_EVENT_RESIZE",state:F}:{type:"UNSET_EVENT_RESIZE"}),W?nr():rr(),u||(D&&Vr(A,l)&&(D=null),r.validMutation=D,r.mutatedRelevantEvents=G)},r.handleDragEnd=function(l){var u=r.component.context,f=r.eventRange.def,p=r.eventRange.instance,E=new xe(u,f,p),A=r.relevantEvents,T=r.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:E,jsEvent:l.origEvent,view:u.viewApi}),r.validMutation){var D=new xe(u,T.defs[f.defId],p?T.instances[p.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:T});var G={oldEvent:E,event:D,relatedEvents:$t(T,u,p),revert:function(){u.dispatch({type:"MERGE_EVENTS",eventStore:A})}};u.emitter.trigger("eventResize",(0,h.pi)((0,h.pi)({},G),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||Te(0),endDelta:r.validMutation.endDelta||Te(0),jsEvent:l.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",G)}else u.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=e.component,o=r.dragging=new wn(e.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=i.context.options.dragScroll;var a=r.hitDragging=new Zn(r.dragging,Gi(e));return a.emitter.on("pointerdown",r.handlePointerDown),a.emitter.on("dragstart",r.handleDragStart),a.emitter.on("hitupdate",r.handleHitUpdate),a.emitter.on("dragend",r.handleDragEnd),r}return(0,h.ZT)(n,t),n.prototype.destroy=function(){this.dragging.destroy()},n.prototype.querySegEl=function(e){return Ye(e.subjectEl,".fc-event")},n}(En),fg=function(){function t(n){var e=this;this.context=n,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(e.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var o=e.context.options.unselectCancel,a=Lo(i.origEvent);e.matchesCancel=!!Ye(a,o),e.matchesEvent=!!Ye(a,Xs.SELECTOR)},this.onDocumentPointerUp=function(i){var o=e.context,a=e.documentPointer,l=o.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!e.isRecentPointerDateSelect){var u=o.options.unselectAuto;u&&(!u||!e.matchesCancel)&&o.calendarApi.unselect(i)}l.eventSelection&&!e.matchesEvent&&o.dispatch({type:"UNSELECT_EVENT"})}e.isRecentPointerDateSelect=!1};var r=this.documentPointer=new co(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),n.emitter.on("select",this.onSelect)}return t.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},t}(),pg={fixedMirrorParent:j},hg={dateClick:j,eventDragStart:j,eventDragStop:j,eventDrop:j,eventResizeStart:j,eventResizeStop:j,eventResize:j,drop:j,eventReceive:j,eventLeave:j};!function(){function t(n,e){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(o){r.dragMeta=r.buildDragMeta(o.subjectEl)},this.handleHitUpdate=function(o,a,l){var u=r.hitDragging.dragging,f=null,p=null,E=!1,A={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:r.dragMeta.create};o&&r.canDropElOnCalendar(l.subjectEl,f=o.context)&&(p=function vg(t,n,e){for(var r=(0,h.pi)({},n.leftoverProps),i=0,o=e.pluginHooks.externalDefTransforms;i<o.length;i++)(0,h.pi)(r,(0,o[i])(t,n));var l=mi(r,e),p=Er(l.refined,l.extra,n.sourceId,t.allDay,e.options.forceEventDuration||Boolean(n.duration),e),E=t.range.start;t.allDay&&n.startTime&&(E=e.dateEnv.add(E,n.startTime));var A=n.duration?e.dateEnv.add(E,n.duration):Si(t.allDay,E,e);return{def:p,instance:ar(p.defId,{start:E,end:A})}}(o.dateSpan,r.dragMeta,f),A.mutatedEvents=Pn(p),(E=!Wi(A,o.dateProfile,f))&&(A.mutatedEvents={defs:{},instances:{}},p=null)),r.displayDrag(f,A),u.setMirrorIsVisible(a||!p||!document.querySelector(".fc-event-mirror")),E?nr():rr(),a||(u.setMirrorNeedsRevert(!p),r.receivingContext=f,r.droppableEvent=p)},this.handleDragEnd=function(o){var l=r.receivingContext,u=r.droppableEvent;if(r.clearDrag(),l&&u){var f=r.hitDragging.finalHit,p=f.context.viewApi,E=r.dragMeta;if(l.emitter.trigger("drop",(0,h.pi)((0,h.pi)({},uo(f.dateSpan,l)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:p})),E.create){var A=Pn(u);l.dispatch({type:"MERGE_EVENTS",eventStore:A}),o.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instance.instanceId}),l.emitter.trigger("eventReceive",{event:new xe(l,u.def,u.instance),relatedEvents:[],revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:A})},draggedEl:o.subjectEl,view:p})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new Zn(n,Sr);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=e}t.prototype.buildDragMeta=function(n){return"object"==typeof this.suppliedDragMeta?qi(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?qi(this.suppliedDragMeta(n)):function gg(t){var n=function mg(t,n){var e=Tr.dataAttrPrefix;return t.getAttribute("data-"+(e?e+"-":"")+n)||""}(t,"event");return qi(n?JSON.parse(n):{create:!1})}(n)},t.prototype.displayDrag=function(n,e){var r=this.receivingContext;r&&r!==n&&r.dispatch({type:"UNSET_EVENT_DRAG"}),n&&n.dispatch({type:"SET_EVENT_DRAG",state:e})},t.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.canDropElOnCalendar=function(n,e){var r=e.options.dropAccept;return"function"==typeof r?r.call(e.calendarApi,n):"string"!=typeof r||!r||Boolean(ai(n,r))}}();Tr.dataAttrPrefix="";!function(t){function n(e){var r=t.call(this,e)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(o){r.emitter.trigger("pointerdown",o),r.shouldIgnoreMove||r.emitter.trigger("dragstart",o)},r.handlePointerMove=function(o){r.shouldIgnoreMove||r.emitter.trigger("dragmove",o)},r.handlePointerUp=function(o){r.emitter.trigger("pointerup",o),r.shouldIgnoreMove||r.emitter.trigger("dragend",o)};var i=r.pointer=new co(e);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}(0,h.ZT)(n,t),n.prototype.destroy=function(){this.pointer.destroy()},n.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},n.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(ns);const bg=Ut({componentInteractions:[ig,og,Xs,ug],calendarInteractions:[fg],elementDraggingImpl:wn,optionRefiners:pg,listenerRefiners:hg});var zr=w(7108),_g=w(408),Ag=w(4121),zt=w(2433),Ks=w(2498),Sg=w(4672);let Tg=(()=>{class t{get(e,r,i,o){const a=o?"?"+new URLSearchParams(o).toString():"",l=Object.assign({},i);return l.method="GET",(0,zr.D)(fetch(e+r+a,l).then(u=>{if(u.ok)return u.json();throw u}))}post(e,r,i,o,a){const l=a?"?"+new URLSearchParams(a).toString():"",u=Object.assign({},o);return u.method="POST",u.body=JSON.stringify(i),(0,zr.D)(fetch(e+r+l,u).then(f=>{if(f.ok)return f.json();throw f}))}put(e,r,i,o,a){const l=a?"?"+new URLSearchParams(a).toString():"",u=Object.assign({},o);return u.method="PUT",u.body=JSON.stringify(i),(0,zr.D)(fetch(e+r+l,u).then(f=>{if(f.ok)return f.json();throw f}))}delete(e,r,i,o){const a=o?"?"+new URLSearchParams(o).toString():"",l=Object.assign({},i);return l.method="DELETE",(0,zr.D)(fetch(e+r+a,l).then(u=>{if(u.ok)return u;throw u}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class wg{constructor(n,e){this._status=Sg.CONNECTION_STATUS,this._handleClosed=r=>{this._close(new Error(r.reason||"RSocketWebSocketClient: Socket closed unexpectedly."))},this._handleError=r=>{this._close(r)},this._handleOpened=()=>{this._setConnectionStatus({kind:"CONNECTED"})},this._handleMessage=r=>{try{const i=this._readFrame(r);this._receivers.forEach(o=>o.onNext(i))}catch(i){this._close(i)}},this._encoders=e,this._options=n,this._receivers=new Set,this._senders=new Set,this._socket=void 0,this._status.kind="NOT_CONNECTED",this._statusSubscribers=new Set}close(){this._close()}connect(){if("NOT_CONNECTED"!==this._status.kind)throw new Error("RSocketWebSocketClient: Cannot connect(), a connection is already established.");this._setConnectionStatus({kind:"CONNECTING"});const n=this._options.wsCreator,e=this._options.url;this._socket=n?n(e):new WebSocket(e);const r=this._socket;r.binaryType="arraybuffer",r.addEventListener("close",this._handleClosed),r.addEventListener("error",this._handleError),r.addEventListener("open",this._handleOpened),r.addEventListener("message",this._handleMessage)}connectionStatus(){return new Ks.Flowable(n=>{n.onSubscribe({cancel:()=>{this._statusSubscribers.delete(n)},request:()=>{this._statusSubscribers.add(n),n.onNext(this._status)}})})}receive(){return new Ks.Flowable(n=>{n.onSubscribe({cancel:()=>{this._receivers.delete(n)},request:()=>{this._receivers.add(n)}})})}sendOne(n){this._writeFrame(n)}send(n){let e;n.subscribe({onComplete:()=>{e&&this._senders.delete(e)},onError:r=>{e&&this._senders.delete(e),this._close(r)},onNext:r=>this._writeFrame(r),onSubscribe:r=>{e=r,this._senders.add(e),e.request(Number.MAX_SAFE_INTEGER)}})}_close(n){if("CLOSED"===this._status.kind||"ERROR"===this._status.kind)return;this._setConnectionStatus(n?{error:n,kind:"ERROR"}:{kind:"CLOSED"}),this._receivers.forEach(r=>{n?r.onError(n):r.onComplete()}),this._receivers.clear(),this._senders.forEach(r=>r.cancel()),this._senders.clear();const e=this._socket;e&&(e.removeEventListener("close",this._handleClosed),e.removeEventListener("error",this._handleError),e.removeEventListener("open",this._handleOpened),e.removeEventListener("message",this._handleMessage),e.close(),this._socket=void 0)}_setConnectionStatus(n){this._status=n,this._statusSubscribers.forEach(e=>e.onNext(n))}_readFrame(n){const e=(0,zt.Qi)(n.data);return this._options.lengthPrefixedFrames?(0,zt.A_)(e,this._encoders):(0,zt.BX)(e,this._encoders)}_writeFrame(n){try{const e=this._options.lengthPrefixedFrames?(0,zt.YS)(n,this._encoders):(0,zt.mf)(n,this._encoders);if(!this._socket)throw new Error("RSocketWebSocketClient: Cannot send frame, not connected.");this._socket.send(e)}catch(e){this._close(e)}}}var jn=(()=>{return(t=jn||(jn={})).INITIALIZED="INITIALIZED",t.NOT_CONNECTED="NOT_CONNECTED",t.CONNECTING="CONNECTING",t.RECONNECTING="RECONNECTING",t.CONNECTED="CONNECTED",t.CLOSED="CLOSED",t.ERROR="ERROR",jn;var t})();let $s;const Cg={keepAlive:1e4,lifetime:36e5,dataMimeType:"application/json",metadataMimeType:"message/x.rsocket.routing.v0"};let qr;class dt{constructor(n){this.streams=[],$s={url:n,wsCreator:e=>new WebSocket(e)}}static hasError(n){return dt.getError(n)}static getError(n){var e,r;return null!==(r=null===(e=n.data)||void 0===e?void 0:e.body)&&void 0!==r&&r.errors?n.data.body.errors[0].detail:void 0}static getBody(n){var e;return null===(e=n.data)||void 0===e?void 0:e.body}static connect(){return(0,h.mG)(this,void 0,void 0,function*(){const n=new wg($s);return new zt.Zw({serializers:{data:zt.H8,metadata:zt.hz},setup:Cg,transport:n}).connect()})}send(n,e){qr=e,this.rsocket?this.sendRequest(n):this.setSocket().then(()=>this.sendRequest(n))}stream(n,e){qr=e,this.rsocket?this.streamRequest(n):this.setSocket().then(()=>this.streamRequest(n))}cancelStream(n){var e;null===(e=this.streams.filter(r=>r.streamId===n)[0])||void 0===e||e.cancel()}sendRequest(n){this.rsocket?this.rsocket.requestResponse(n).subscribe({onComplete:e=>{dt.hasError(e)?n.data.onReject(dt.getError(e)):"onComplete"in n.data?n.data.onComplete(dt.getBody(e)):(0,_g.Z)()},onError:e=>{n.data.onError(dt.getError(e)),console.error(e),setTimeout(()=>{this.sendRequest(n)},100)}}):setTimeout(()=>{this.sendRequest(n)},100)}streamRequest(n){this.rsocket?this.rsocket.requestStream(n).subscribe({onNext:e=>{dt.hasError(e)?n.data.onReject(dt.getError(e)):n.data.onNext(dt.getBody(e))},onComplete:()=>{console.log("requestStream completed")},onError:e=>{n.data.onError(dt.getError(e)),console.error(e),setTimeout(()=>{this.streamRequest(n)},100)},onSubscribe:({request:e,cancel:r})=>{e(2147483647);const i=this.streams.length?Math.max(...this.streams.map(o=>o.streamId))+1:0;this.streams.push({streamId:i,cancel:r}),n.data.streamInfo(n.data.connection,i)}}):setTimeout(()=>{this.streamRequest(n)},100)}setSocket(){return(0,h.mG)(this,void 0,void 0,function*(){try{this.rsocket=yield dt.connect()}catch(n){return console.error(n),void setTimeout(()=>(0,h.mG)(this,void 0,void 0,function*(){qr.next(jn.RECONNECTING),yield this.setSocket()}),1e3)}this.rsocket.connectionStatus().subscribe(n=>(0,h.mG)(this,void 0,void 0,function*(){qr.next(n.kind),"CONNECTED"!==n.kind?(this.rsocket=void 0,console.log("rSocket reconnecting..."),yield this.setSocket()):console.log("rSocket connected.")}))})}}let Yr=(()=>{class t{constructor(){this.sockets=[],this.connectionStatus$=new Ag.X(jn.INITIALIZED)}send(e){this.findRsocket(e.data.connection).send(e,this.connectionStatus$)}stream(e){this.findRsocket(e.data.connection).stream(e,this.connectionStatus$)}cancelStream(e,r){this.findRsocket(e).cancelStream(r)}findRsocket(e){let r=this.sockets.find(i=>i.url===e);if(!r){const i=new dt(e);r={url:e,rsocket:i},this.sockets.push(r)}return r.rsocket}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mg=(()=>{class t{constructor(e){this.rsocketService=e}submit(e){const r={data:e,metadata:String.fromCharCode(25)+"socket.subscription.query"};this.rsocketService.stream(r)}cancel(e,r){this.rsocketService.cancelStream(e,r)}connectionStatus(){return this.rsocketService.connectionStatus$}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Yr))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ig=(()=>{class t{constructor(e){this.rsocketService=e}submit(e){const r={data:e,metadata:String.fromCharCode(12)+"socket.query"};this.rsocketService.send(r)}connectionStatus(){return this.rsocketService.connectionStatus$}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Yr))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Og=(()=>{class t{constructor(e){this.rsocketService=e}submit(e){const r={data:e,metadata:String.fromCharCode(14)+"socket.command"};this.rsocketService.send(r)}connectionStatus(){return this.rsocketService.connectionStatus$}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Yr))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Pg=w(9349);let Ng=(()=>{class t{constructor(e,r){this.fetchService=e,this.translationService=r,this.baseUrl=`https://${Pg.N.host}`,this.requestOptions={headers:{"Content-Type":"application/json"}}}getPrestationCodes(e){return this.requestOptions.headers["Accept-Language"]=this.translationService.language,this.fetchService.get(this.baseUrl,"/repertorium",this.requestOptions,{lang:this.translationService.language.toUpperCase(),context:e})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tg),c.LFG(k.D7))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kg=["calendar"],Lg=["slideOut"];function Fg(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",15)(1,"span",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"acerta-toggle-switch",17),c.NdJ("valueChanged",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.toggleView())}),c.qZA()()}if(2&t){const e=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,3,"CALENDAR.PRESTATION.PROCESSED")),c.xp6(2),c.Q6J("checked",!e.inputView)("disabled",e.inError)}}function Bg(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"prestation-screen",18),c.NdJ("close",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.close())})("create",function(i){c.CHM(e);const o=c.oxw();return c.KtG(o.registerAdjustment(i))})("modify",function(i){c.CHM(e);const o=c.oxw();return c.KtG(o.modifyAdjustment(i.id,i.result))})("delete",function(i){c.CHM(e);const o=c.oxw();return c.KtG(o.deleteAdjustment(i))}),c.qZA()}if(2&t){const e=c.oxw();c.Q6J("id",e.eventId)("isNew",e.isNewPrestation)("eventType",e.eventType)("calendarRange",e.calendarRange)("allowedCalendarRange",e.allowedCalendarRange)("numberOfHours",e.numberOfHours)("percentage",e.percentage)("prestationCodes",e.timeCodes)("prestationCode",e.timeCode)("inError",e.inError)("maxDate",e.maxDate)}}function Ug(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"prestation-screen-read-only",19),c.NdJ("close",function(){c.CHM(e);const i=c.oxw();return c.KtG(i.close())})("toggle",function(){c.CHM(e);const i=c.oxw();return i.close(),c.KtG(i.toggleView())}),c.qZA()}if(2&t){const e=c.oxw();c.Q6J("eventType",e.eventType)("calendarRange",e.calendarRange)("selectedDate",e.selectedDate)("numberOfHours",e.numberOfHours)("percentage",e.percentage)("prestationCode",e.timeCode)("inError",e.inError)("state",e.state)}}function Hg(t,n){if(1&t&&(c.TgZ(0,"div",20)(1,"div",21),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&t){const e=c.oxw();c.xp6(1),c.ekj("green-badge",(null==e.tooltipTexts?null:e.tooltipTexts.state)===e.eventState.APPROVED)("orange-badge",(null==e.tooltipTexts?null:e.tooltipTexts.state)===e.eventState.IN_CANCELLATION)("grey-badge",(null==e.tooltipTexts?null:e.tooltipTexts.state)===e.eventState.CANCELLED||(null==e.tooltipTexts?null:e.tooltipTexts.state)===e.eventState.REFUSED)("blue-badge",(null==e.tooltipTexts?null:e.tooltipTexts.state)===e.eventState.PENDING),c.xp6(1),c.Oqu(null!=e.tooltipTexts&&e.tooltipTexts.state?c.lcZ(3,9,"CALENDAR.PRESTATION."+e.tooltipTexts.state):"")}}ys.registerPlugins([Zv,bg]);const Vg={initialView:"dayGridMonth",headerToolbar:!1,firstDay:1,locale:"nl",locales:[kp.Z,Np.Z],dayHeaderFormat:{weekday:"long"},selectable:!0,dayMaxEventRows:!0,aspectRatio:1.5,eventOrder:function(t,n){return"0100"===t.eventObj.timeCode?-1:1}},el="#515151",Wr=new Date((new Date).setMonth((new Date).getMonth()+15));let zg=(()=>{class t extends bs.p{constructor(e,r,i,o,a,l,u,f,p,E){super(e),this.translationService=e,this.commandGateway=r,this.querySubscriptionGateway=i,this.queryGateway=o,this.calendarService=a,this.elementRef=l,this.notificationService=u,this.rsocketService=f,this.translatePipe=p,this.timePickerPipe=E,this.events=new c.vpe,this.isInError=new c.vpe,this.allowAdd=new c.vpe,this.allowedDateRanges$=new q.x,this.AcertaButtonVariants=b.I4,this.allowedCalendarRange=[],this.inputView=!0,this.timeSpendEvents$=new q.x,this.timeSpendLapseId$=new q.x,this.translations=[],this.eventState=Ot.h,this.inError=!1,this.eventTypes=gt,this.maxDate=Wr,this.tooltipLoadEvent$=new q.x,this.timeCodes$=new q.x,this.calendarOptions=Object.assign(Object.assign({},Vg),{eventContent:this._eventContentFormatter.bind(this),dayCellContent:this._dayCellContentFormatter.bind(this),eventClick:this._handleEventClick.bind(this),select:this._handleSelect.bind(this),selectConstraint:this._handleSelectConstraint(),eventMouseEnter:A=>{this.options.showHover&&this.tooltipLoadEvent$.next(A)},eventMouseLeave:A=>{this.options.showHover&&this.tooltipLoadEvent$.next(A)}}),(0,X.a)([this.timeSpendLapseId$,this.timeCodes$.pipe((0,x.P)())]).subscribe(([A])=>{this.timeSpendLapseId=A,this._findTimeSpendAndDateRanges(),this._findAllowedCalendarRange()}),this.allowedDateRanges$.subscribe(A=>{this.allowedPeriods=A,this.calendarOptions=Object.assign(Object.assign({},this.calendarOptions),{dayCellClassNames:this._dayCellClassNamesFormatter.bind(this),selectConstraint:this._handleSelectConstraint()})}),this.timeSpendEvents$.subscribe(A=>{let T=[];A.forEach(D=>{var G,W;if(0!=+D.timeCode){const F=null===(G=this.timeCodes.find(ue=>ue.code===D.timeCode))||void 0===G?void 0:G.colorCode,ee=null===(W=this.timeCodes.find(ue=>ue.code===D.timeCode))||void 0===W?void 0:W.shortDescription;let ie=this.options.eventLabel;ie=ie.replace(Nr.E.tagHoursDecimal,D.hours?D.hours+this.translatePipe.transform("CALENDAR.PRESTATION.HOUR",null):D.percentage+"%"),ie=ie.replace(Nr.E.tagHoursTime,D.hours?this.timePickerPipe.transform(D.hours.toString(),!1):D.percentage+"%"),ie=ie.replace(Nr.E.tagCode,D.timeCode),ie=ie.replace(Nr.E.tagShortDescription,ee||D.timeCode);const ne=[];(D.state===Ot.h.AWAITING_VALIDATION||D.state===Ot.h.PENDING||D.state===Ot.h.IN_CANCELLATION)&&ne.push("striped"),(D.state===Ot.h.RECALLED||D.state===Ot.h.CANCELLED||D.state===Ot.h.REFUSED)&&ne.push("opaque"),new Date(D.day).getMonth()!==this.calendarApi.getDate().getMonth()&&ne.push("opaque"),T.push({title:ie,date:D.day,backgroundColor:`${F}BF`,borderColor:"#FFFFFF"===F?el:`${F}BF`,textColor:el,classNames:ne,eventObj:D})}}),this.calendarOptions=Object.assign(Object.assign({},this.calendarOptions),{events:T}),this.events.emit(A),this.registerClickOnDay()}),this.rsocketService.connectionStatus$.subscribe(A=>{"ERROR"===A||"RECONNECTING"===A?(this.inError||(this.errorId=this.notificationService.error(this.translatePipe.transform("CALENDAR.DEFAULT_ERROR",null),void 0,{tapToDismiss:!1})),this.inError||(this.inError=!0,this.calendarApi.render())):(this.inError=!1,this.errorId&&this.notificationService.clear(this.errorId)),this.isInError.emit(this.inError)}),this.tooltipLoadEvent$.pipe(U(500)).subscribe(A=>{this.tooltipLoadEvent(A)})}tooltipLoadEvent(e){"mouseleave"===e.jsEvent.type||this.inError||(this.loadTooltipData(e),this.showTooltip(e))}showTooltip(e){new Date(e.event._def.extendedProps.eventObj.day).getDay();const o=e.el,a=this.elementRef.nativeElement.querySelector("#tooltip"),l=Hh(o,a,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,12]}}]});function f(){a.removeAttribute("data-show"),l.setOptions(E=>Object.assign(Object.assign({},E),{modifiers:[...E.modifiers,{name:"eventListeners",enabled:!1}]}))}["mouseleave","blur"].forEach(E=>{o.addEventListener(E,f)}),function u(){a.setAttribute("data-show",""),l.setOptions(E=>Object.assign(Object.assign({},E),{modifiers:[...E.modifiers,{name:"eventListeners",enabled:!0}]})),l.update()}()}loadTooltipData(e){this.tooltipTexts=void 0,this.loadingTooltipEventId=e.event._def.extendedProps.eventObj.eventId,this.queryGateway.submit({connection:this.connection,"@type":"FindTimeSpendEventDetailQuery",eventId:e.event._def.extendedProps.eventObj.eventId,timeSpendLapseId:e.event._def.extendedProps.eventObj.timeSpendLapseId,eventType:e.event._def.extendedProps.eventObj.eventType,onReject:i=>{console.log("Event not retrieved",i)},onError:i=>{console.log("Event not retrieved",i)},onComplete:i=>{var o,a;const l=this.determineTimeSpendEventDetailEntry(i,e),u=new Date(l.applicableRange.startDate),f=this.isInfinity(l.applicableRange.endDate)?new Date("9999-12-31"):new Date(l.applicableRange.endDate);if(this.loadingTooltipEventId!==e.event._def.extendedProps.eventObj.eventId)return;const p=null===(o=this.timeCodes.find(E=>+E.code==+e.event._def.extendedProps.eventObj.timeCode))||void 0===o?void 0:o.mediumDescription;this.tooltipTexts={prestationCode:p?`${e.event._def.extendedProps.eventObj.timeCode} - ${this.firstLetterUpperCase(p)}`:e.event._def.extendedProps.eventObj.timeCode,hoursPerDay:null!==(a=e.event._def.extendedProps.eventObj.hours)&&void 0!==a?a:e.event._def.extendedProps.eventObj.percentage+"%",eventType:e.event._def.extendedProps.eventObj.eventType,state:e.event._def.extendedProps.eventObj.state,period:`${u.toLocaleDateString("nl-BE")} ${this.translatePipe.transform("CALENDAR.PRESTATION.TO",null)} ${f.toLocaleDateString("nl-BE")}`}}}),console.log("Retrieving event")}determineTimeSpendEventDetailEntry(e,r){let i=e.entries.filter(a=>a.timeCode===r.event._def.extendedProps.eventObj.timeCode),o=i[0];return i=i.filter(a=>a.applicableRange.startDate===r.event._def.extendedProps.eventObj.day),i.length>0&&(o=i[0]),o}firstLetterUpperCase(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}ngAfterViewInit(){this._loadTimeCodes(),this.calendarApi=this.calendarComponent.getApi(),this._registerDateChange(),this._registerEmployeeChange(),this._setLocale(),this.addEvent$.pipe(function K(t){return(0,L.h)((n,e)=>t<=e)}(1)).subscribe(()=>{this.calendarRange=[],this.isNewPrestation=!0,this.timeCode=void 0,this.numberOfHours=void 0,this.percentage=void 0,this.eventId=void 0,this.showReadOnlyDetail=!1,this.disableScrolling(!0),this.slideOut.show()})}close(){this.disableScrolling(!1),this.slideOut.close()}deleteAdjustment(e){this.commandGateway.submit({connection:this.connection,"@type":"CancelIndividualAdjustment",timeSpendLapseId:this.timeSpendLapseId,timeSpendId:e,onReject:i=>{console.log("Event not removed",i)},onError:i=>{console.log("Event not removed",i)}}),console.log("Removing event"),this.close()}modifyAdjustment(e,r){const i={connection:this.connection,"@type":"AmendIndividualAdjustment",timeCode:r.timeCode,startDay:this._constructDateString(r.calendarRange[0]),endDay:this._constructDateString(r.calendarRange[1]),hours:r.hours,percentage:r.percentage,referenceDay:this._constructDateString(r.calendarRange[0]),recurrenceRule:Bn.DAILY,timeSpendLapseId:this.timeSpendLapseId,timeSpendId:e,onReject:o=>{console.log("Event not modified",o)},onError:o=>{console.log("Event not modified",o)}};this.commandGateway.submit(i),console.log("Modifying event"),this.close()}registerAdjustment(e){const r={connection:this.connection,"@type":"BookIndividualAdjustment",timeCode:e.timeCode,startDay:this._constructDateString(e.calendarRange[0]),endDay:this._constructDateString(e.calendarRange[1]),hours:e.hours,percentage:e.percentage,referenceDay:this._constructDateString(e.calendarRange[0]),recurrenceRule:Bn.DAILY,timeSpendLapseId:this.timeSpendLapseId,timeSpendId:xp(),onReject:i=>{console.log("Event not registered",i)},onError:i=>{console.log("Event not registered",i)}};this.commandGateway.submit(r),console.log("Registering event"),this.close()}reloadData(){this._findTimeSpendAndDateRanges()}_constructDateString(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}_dayCellClassNamesFormatter(e){var r;const i=e.date;return(null===(r=this.allowedPeriods)||void 0===r?void 0:r.find(a=>new Date(new Date(a.startDate).setHours(0))<=i&&new Date(new Date(a.endDate).setHours(0))>=i))||!this.allowedPeriods?this.isAllowedToAddEvent()?"":"readonly":"disabled"}_dayCellContentFormatter(e){const r=e.date.getDate(),i=e.date.toLocaleDateString(e.view.getCurrentData().options.locale,{month:"short"}),o=this.translatePipe.transform("CALENDAR.PRESTATION.ADD",null);return 1===r?{html:`<a class="fc-daygrid-day-number${this.isAllowedToAddEvent()?" to-left":""}">${r} ${i}</a>${this.isAllowedToAddEvent()?`<div class="event-add-container"><div class="event-add">+ ${o}</div></div>`:""}`}:{html:`<a class="fc-daygrid-day-number${this.isAllowedToAddEvent()?" to-left":""}">${r}</a>${this.isAllowedToAddEvent()?`<div class="event-add-container"><div class="event-add">+ ${o}</div></div>`:""}`}}isAllowedToAddEvent(){return!this.options.readOnly&&!this.inError&&this.inputView}_eventContentFormatter(e){let r;e.event._def.extendedProps.eventObj.eventType===gt.INDIVIDUAL_ADJUSTMENT&&(r="fa-solid fa-user"),e.event._def.extendedProps.eventObj.eventType===gt.COLLECTIVE_ADJUSTMENT&&(r="fa-solid fa-user-group"),e.event._def.extendedProps.eventObj.eventType===gt.ESS_REQUEST&&(r="fa-solid fa-desktop");let i=Pr[e.event._def.extendedProps.eventObj.timeCode];return this.options.showEventIcon||(i=void 0),this.options.showEventTypeIcon||(r=""),{html:"<div class='d-flex justify-content-between w-100'><div style='color: "+xr[e.event._def.extendedProps.eventObj.timeCode]+"' class='"+i+" event-icon'></div><div class='text-overflow'>"+e.event._def.title+"</div><div class='"+r+" event-icon-type'></div></div>"}}_findAllowedDateRanges(){if(!this.timeSpendLapseId)return;const e={connection:this.connection,"@type":"FindAllowedDateRangesQuery",appliedRange:{startDate:this._constructDateString(this.calendarApi.view.activeStart),endDate:this._constructDateString(this.calendarApi.view.activeEnd)},timeSpendLapseId:this.timeSpendLapseId,onNext:r=>{this.allowedDateRanges$.next(r.allowedRanges)},onReject:r=>{console.log("Stream receiving allowed dates reject",r)},onError:r=>{console.log("Stream receiving allowed dates error",r)},streamInfo:(r,i)=>{this.currentAllowedDateRangesStream={connection:r,streamId:i}}};this.querySubscriptionGateway.submit(e)}_findAllowedCalendarRange(){if(!this.timeSpendLapseId)return;const e={connection:this.connection,"@type":"FindAllowedDateRangesQuery",appliedRange:{startDate:this._constructDateString(new Date(1900,1,1)),endDate:this._constructDateString(Wr)},timeSpendLapseId:this.timeSpendLapseId,onNext:r=>{r.allowedRanges&&(this.allowedCalendarRange.push(new Date(`${r.allowedRanges[0].startDate}T00:00:00`)),this.allowedCalendarRange.push(new Date(r.allowedRanges.pop().endDate)))},onReject:r=>{console.log("Stream receiving full allowed dates reject",r)},onError:r=>{console.log("Stream receiving full allowed dates error",r)},streamInfo:(r,i)=>{this.currentAllowedFullDateRangesStream={connection:r,streamId:i}}};this.querySubscriptionGateway.submit(e)}_findTimeSpendEvents(){if(!this.timeSpendLapseId)return void this.timeSpendEvents$.next([]);const e={connection:this.connection,"@type":"FindTimeSpendEventsQuery",appliedRange:{startDate:this._constructDateString(this.calendarApi.view.activeStart),endDate:this._constructDateString(this.calendarApi.view.activeEnd)},timeSpendLapseId:this.timeSpendLapseId,editView:this.inputView,onNext:r=>{r.reload?this.reloadData():this.timeSpendEvents$.next(r.events)},onReject:r=>{console.log("Stream receiving events reject",r)},onError:r=>{console.log("Stream receiving events error",r)},streamInfo:(r,i)=>{this.currentTimeSpendEventsStream={connection:r,streamId:i}}};this.querySubscriptionGateway.submit(e)}_findTimeSpendLapseId(){this.queryGateway.submit({connection:this.connection,"@type":"FindTimeSpendLapseIdQuery",agreementId:this.agreementId,onComplete:r=>{this.timeSpendLapseId$.next(r.timeSpendLapseId)},onReject:r=>{console.log("Stream receiving events reject",r)},onError:r=>{console.log("Stream receiving events error",r)}})}cancelCurrentStreams(){this.currentAllowedDateRangesStream&&this.querySubscriptionGateway.cancel(this.currentAllowedDateRangesStream.connection,this.currentAllowedDateRangesStream.streamId),this.currentTimeSpendEventsStream&&this.querySubscriptionGateway.cancel(this.currentTimeSpendEventsStream.connection,this.currentTimeSpendEventsStream.streamId),this.currentAllowedFullDateRangesStream&&this.querySubscriptionGateway.cancel(this.currentAllowedFullDateRangesStream.connection,this.currentAllowedFullDateRangesStream.streamId)}_findTimeSpendAndDateRanges(){this.cancelCurrentStreams(),this._findAllowedDateRanges(),this._findTimeSpendEvents()}_handleEventClick(e){this.inError||(this.queryGateway.submit({connection:this.connection,"@type":"FindTimeSpendEventDetailQuery",eventId:e.event._def.extendedProps.eventObj.eventId,timeSpendLapseId:e.event._def.extendedProps.eventObj.timeSpendLapseId,eventType:e.event._def.extendedProps.eventObj.eventType,onReject:i=>{console.log("Event not retrieved",i)},onError:i=>{console.log("Event not retrieved",i)},onComplete:i=>{var o,a,l;this.isNewPrestation=!1,this.showReadOnlyDetail=this.options.readOnly||i.state!==Ot.h.VALIDATED||i.eventType!==gt.INDIVIDUAL_ADJUSTMENT;const u=this.determineTimeSpendEventDetailEntry(i,e),f=new Date(u.applicableRange.startDate),p=this.isInfinity(u.applicableRange.endDate)?new Date("9999-12-31"):new Date(u.applicableRange.endDate);this.calendarRange=[f,p],this.timeCode=null!==(o=this.timeCodes.find(E=>+E.code==+u.timeCode))&&void 0!==o?o:new Tp(u.timeCode),this.numberOfHours=null===(a=u.hours)||void 0===a?void 0:a.toString(),this.percentage=null===(l=u.percentage)||void 0===l?void 0:l.toString(),this.eventId=i.eventId,this.eventType=i.eventType,this.selectedDate=new Date(e.event._def.extendedProps.eventObj.day),this.state=e.event._def.extendedProps.eventObj.state,this.disableScrolling(!0),this.slideOut.show()}}),console.log("Retrieving event"))}disableScrolling(e){let r;r=e?"hidden":"auto",document.body.style.overflow=r}isInfinity(e){return"+999999999-12-31"===e}_handleSelect(e){this.inError||this.options.readOnly||(e.end.setDate(e.end.getDate()-1),this.calendarRange=[e.start,e.end],this.isNewPrestation=!0,this.timeCode=void 0,this.numberOfHours=void 0,this.percentage=void 0,this.eventId=void 0,this.showReadOnlyDetail=!1,this.disableScrolling(!0),this.slideOut.show())}_handleSelectConstraint(){var e,r;return!(null!==(e=this.options)&&void 0!==e&&e.readOnly)&&this.inputView&&(null===(r=this.allowedPeriods)||void 0===r?void 0:r.map(i=>{const o=new Date(i.endDate);return o.setDate(o.getDate()+1),{start:i.startDate,end:o}}))||[]}_loadTimeCodes(){this.calendarService.getPrestationCodes(this.options.context).subscribe(e=>{this.timeCodes=e,this.timeCodes$.next()}),this.translationService.onLanguageChange.pipe((0,J.z)(()=>this.calendarService.getPrestationCodes(this.options.context))).subscribe(e=>{this.timeCodes=e,this.timeSpendEvents$.next(this.calendarOptions.events.map(i=>i.eventObj))})}_registerEmployeeChange(){(0,X.a)([this.employee$,this.calendarDate$.pipe(U(500),(0,x.P)())]).subscribe(([e])=>{this.agreementId=e.agreementId,this._findTimeSpendLapseId()})}_registerDateChange(){this.calendarDate$.pipe(U(500)).subscribe(e=>{this.allowedPeriods=void 0,this.calendarApi.gotoDate(e),this.timeSpendLapseId&&this._findTimeSpendAndDateRanges()})}_setLocale(){this.calendarApi.setOption("locale",this.translationService.language),this.translationService.onLanguageChange.subscribe(e=>{this.calendarApi.setOption("locale",e)})}toggleView(){this.inputView=!this.inputView,this.reloadData(),this.allowAdd.emit(this.inputView),this.inputView&&this.infoId&&this.notificationService.clear(this.infoId)}registerClickOnDay(){this.elementRef.nativeElement.querySelectorAll(".fc-day").forEach(r=>r.onclick=i=>{if("fc-daygrid-day-frame"===i.target.classList[0]||"fc-daygrid-day-top"===i.target.classList[0]||"fc-daygrid-day-number"===i.target.classList[0]){if(!this.isAllowedToAddEvent()){const o=this.translatePipe.transform("CALENDAR.ENTER_INPUT_VIEW",null),a='<a class="link">'+o.slice(o.indexOf("%")+1,o.lastIndexOf("%"))+"</a>",l=o.slice(0,o.indexOf("%"))+a+o.slice(o.lastIndexOf("%")+1);let u=0;this.infoId&&(this.notificationService.clear(this.infoId),u=300),setTimeout(()=>{this.infoId=this.notificationService.info(l,void 0,{closeButton:!0,enableHtml:!0,tapToDismiss:!1}),this.captureLink()},u)}if(new Date(r.dataset.date)>Wr&&this.inputView){let o=this.translatePipe.transform("CALENDAR.MAX_DATE",null);o=o.replace("%",Wr.toLocaleDateString("nl-BE"));let a=0;this.infoId&&(this.notificationService.clear(this.infoId),a=300),setTimeout(()=>{this.infoId=this.notificationService.info(o,void 0,{closeButton:!0,tapToDismiss:!1})},a)}}})}captureLink(){const e=document.querySelector(".link");e?e.onclick=()=>{this.inputView||this.toggleView()}:setTimeout(()=>this.captureLink(),0)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(k.D7),c.Y36(Og),c.Y36(Mg),c.Y36(Ig),c.Y36(Ng),c.Y36(c.SBq),c.Y36(k.gq),c.Y36(Yr),c.Y36(Ct.X$),c.Y36(kr.b))},t.\u0275cmp=c.Xpm({type:t,selectors:[["calendar-month-view"]],viewQuery:function(e,r){if(1&e&&(c.Gf(kg,5),c.Gf(Lg,5)),2&e){let i;c.iGM(i=c.CRH())&&(r.calendarComponent=i.first),c.iGM(i=c.CRH())&&(r.slideOut=i.first)}},inputs:{calendarDate$:"calendarDate$",employee$:"employee$",addEvent$:"addEvent$",options:"options",connection:"connection"},outputs:{events:"events",isInError:"isInError",allowAdd:"allowAdd"},standalone:!0,features:[c._Bn([Ct.X$,kr.b]),c.qOj,c.jDz],decls:46,vars:25,consts:[[1,"calendar-border"],[3,"options"],["calendar",""],["class","d-flex align-items-center mt-3",4,"ngIf"],[3,"zIndex","closed"],["slideOut",""],[3,"id","isNew","eventType","calendarRange","allowedCalendarRange","numberOfHours","percentage","prestationCodes","prestationCode","inError","maxDate","close","create","modify","delete",4,"ngIf"],[3,"eventType","calendarRange","selectedDate","numberOfHours","percentage","prestationCode","inError","state","close","toggle",4,"ngIf"],["id","tooltip","role","tooltip",1,"tooltip-shadow",3,"hidden"],["class","d-flex justify-content-end badge-container",4,"ngIf"],[1,"table-space"],[1,"td-value"],[1,"table-space-line"],["colspan","2"],["id","arrow","data-popper-arrow",""],[1,"d-flex","align-items-center","mt-3"],[1,"me-1"],[3,"checked","disabled","valueChanged"],[3,"id","isNew","eventType","calendarRange","allowedCalendarRange","numberOfHours","percentage","prestationCodes","prestationCode","inError","maxDate","close","create","modify","delete"],[3,"eventType","calendarRange","selectedDate","numberOfHours","percentage","prestationCode","inError","state","close","toggle"],[1,"d-flex","justify-content-end","badge-container"],[1,"badge"]],template:function(e,r){if(1&e&&(c.TgZ(0,"div",0),c._UZ(1,"full-calendar",1,2),c.YNc(3,Fg,5,5,"div",3),c.qZA(),c.TgZ(4,"acerta-slide-out",4,5),c.NdJ("closed",function(){return r.disableScrolling(!1)}),c.YNc(6,Bg,1,11,"prestation-screen",6),c.YNc(7,Ug,1,8,"prestation-screen-read-only",7),c.qZA(),c.TgZ(8,"div",8),c.YNc(9,Hg,4,11,"div",9),c.TgZ(10,"table")(11,"tr",10)(12,"td"),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.TgZ(15,"td",11),c._uU(16),c.qZA()(),c.TgZ(17,"tr",12)(18,"td",13),c._UZ(19,"div"),c.qZA()(),c.TgZ(20,"tr",10)(21,"td"),c._uU(22),c.ALo(23,"translate"),c.qZA(),c.TgZ(24,"td",11),c._uU(25),c.qZA()(),c.TgZ(26,"tr",12)(27,"td",13),c._UZ(28,"div"),c.qZA()(),c.TgZ(29,"tr",10)(30,"td"),c._uU(31),c.ALo(32,"translate"),c.qZA(),c.TgZ(33,"td",11),c._uU(34),c.qZA()(),c.TgZ(35,"tr",12)(36,"td",13),c._UZ(37,"div"),c.qZA()(),c.TgZ(38,"tr",10)(39,"td"),c._uU(40),c.ALo(41,"translate"),c.qZA(),c.TgZ(42,"td",11),c._uU(43),c.ALo(44,"translate"),c.qZA()()(),c._UZ(45,"div",14),c.qZA()),2&e){const i=c.MAs(5);c.xp6(1),c.Q6J("options",r.calendarOptions),c.xp6(2),c.Q6J("ngIf",r.options.enableToggle),c.xp6(1),c.Q6J("zIndex",1051),c.xp6(2),c.Q6J("ngIf",i.isShowing&&!r.showReadOnlyDetail),c.xp6(1),c.Q6J("ngIf",i.isShowing&&r.showReadOnlyDetail),c.xp6(1),c.Q6J("hidden",!r.tooltipTexts),c.xp6(1),c.Q6J("ngIf",(null==r.tooltipTexts?null:r.tooltipTexts.eventType)===r.eventTypes.ESS_REQUEST),c.xp6(4),c.hij(" ",c.lcZ(14,15,"CALENDAR.PRESTATION.PRESTATION_CODE"),": "),c.xp6(3),c.hij(" ",null==r.tooltipTexts?null:r.tooltipTexts.prestationCode," "),c.xp6(6),c.hij(" ",c.lcZ(23,17,"CALENDAR.PRESTATION.HOURS_PER_DAY"),": "),c.xp6(3),c.hij(" ",null==r.tooltipTexts?null:r.tooltipTexts.hoursPerDay," "),c.xp6(6),c.hij(" ",c.lcZ(32,19,"CALENDAR.PRESTATION.PERIOD"),": "),c.xp6(3),c.hij(" ",null==r.tooltipTexts?null:r.tooltipTexts.period," "),c.xp6(6),c.hij(" ",c.lcZ(41,21,"CALENDAR.PRESTATION.EVENT_TYPE"),": "),c.xp6(3),c.hij(" ",null!=r.tooltipTexts&&r.tooltipTexts.eventType?c.lcZ(44,23,"CALENDAR.PRESTATION."+r.tooltipTexts.eventType):""," ")}},dependencies:[k.uX,_.ez,_.O5,k.sA,Ct.X$,ys,Sp,zh,Vh,V,z,Ev,Tv],styles:['full-calendar{font-size:.9em!important}  full-calendar .fc-daygrid-day:hover:not(.disabled) .event-add{display:block;animation-name:animate-fade-in}  full-calendar .fc-daygrid-day:hover:not(.disabled) .to-left{visibility:hidden}  full-calendar .event-add-container{position:absolute;width:100%}  full-calendar .event-add{animation:1s;background-color:#e8318a;color:#fff;display:none;font-weight:700;font-size:small;margin:-2px 8px 16px;padding:4px 0;text-align:center}  full-calendar .event-add:hover{filter:brightness(70%)}@keyframes animate-fade-in{0%{opacity:0}to{opacity:1}}  full-calendar a{color:#333;text-decoration:none!important}  full-calendar a:hover{color:#333!important}  full-calendar .fc-day-sat,   full-calendar .fc-day-sun,   full-calendar .fc-day-other{background-color:#cbcbcb}  full-calendar .fc-col-header-cell-cushion{font-family:Arial,sans-serif;font-size:14px}  full-calendar .fc-daygrid-day{cursor:pointer}  full-calendar .fc-daygrid-day:hover{background-color:#f0f8ff}  full-calendar .fc-daygrid-day-number{padding:0 4px 0 0!important}  full-calendar .fc-event-main{align-items:center;cursor:pointer;display:flex;justify-content:center}  full-calendar .striped{background-image:linear-gradient(45deg,rgba(203,203,203,.5137254902) 25%,rgba(255,255,255,0) 25%,rgba(255,255,255,0) 50%,rgba(203,203,203,.5137254902) 50%,rgba(203,203,203,.5137254902) 75%,rgba(255,255,255,0) 75%,rgba(255,255,255,0) 100%);background-size:20px 20px}  full-calendar .opaque{opacity:.5}  full-calendar .disabled{background-color:#cbcbcb;cursor:default}  full-calendar .disabled:hover{background-color:#cbcbcb}  full-calendar .readonly{cursor:default}  full-calendar .text-overflow{overflow:hidden;text-overflow:ellipsis}  full-calendar .fc-more-popover-misc{display:none}  full-calendar .fc-daygrid-more-link{color:#4cb4e7;font-weight:700;font-size:small;margin-left:8px;text-decoration:underline!important}  .modal{z-index:2001!important}  bs-daterangepicker-container{z-index:2002!important}[_nghost-%COMP%]     .unselected button{background-color:#cbcbcb}[_nghost-%COMP%]     .selected button{opacity:1}[_nghost-%COMP%]     .fc th{background-color:transparent;border-color:#6f6f6f;border-left:0!important;border-right:0!important;height:35px}[_nghost-%COMP%]     .fc-scrollgrid-liquid{border-left:0!important;border-top:0!important}[_nghost-%COMP%]     .fc .fc-scroller-harness-liquid{border-left:1px solid rgb(81,81,81)}[_nghost-%COMP%]     .fc td{border-color:#6f6f6f}[_nghost-%COMP%]     .fc .fc-daygrid-day-top{flex-direction:row!important;font-family:Arial,sans-serif;font-size:1em;justify-content:center;margin-bottom:16px;margin-top:16px}[_nghost-%COMP%]     .fc .fc-popover{z-index:1050!important}[_nghost-%COMP%]     .fc-daygrid-event{font-family:Arial,sans-serif;font-size:1em!important;margin-bottom:8px!important;margin-left:8px!important;margin-right:8px!important;padding:7px}[_nghost-%COMP%]     .fc-event:hover{-webkit-backdrop-filter:brightness(50%);backdrop-filter:brightness(50%);cursor:pointer}[_nghost-%COMP%]     .event-icon-type{height:100%;opacity:.7;margin-right:2px;margin-top:1px}[_nghost-%COMP%]     .event-icon{height:100%;margin-left:2px;margin-top:1px}#tooltip[_ngcontent-%COMP%]{background:rgb(255,255,255);color:#515151;padding:4px 8px;font-family:Arial,sans-serif;font-size:small;border-radius:4px;border:1px solid rgb(203,203,203);display:none;z-index:1051}#tooltip[data-show][_ngcontent-%COMP%]{display:block}#arrow[_ngcontent-%COMP%], #arrow[_ngcontent-%COMP%]:before{position:absolute;width:16px;height:16px;background:inherit;border:0;margin-top:1px}#arrow[_ngcontent-%COMP%]{visibility:hidden}#arrow[_ngcontent-%COMP%]:before{visibility:visible;content:"";transform:rotate(45deg)}#tooltip[data-popper-placement^=top][_ngcontent-%COMP%] > #arrow[_ngcontent-%COMP%]{bottom:-4px}#tooltip[data-popper-placement^=bottom][_ngcontent-%COMP%] > #arrow[_ngcontent-%COMP%]{top:-8px}#tooltip[data-popper-placement^=left][_ngcontent-%COMP%] > #arrow[_ngcontent-%COMP%]{right:-4px}#tooltip[data-popper-placement^=right][_ngcontent-%COMP%] > #arrow[_ngcontent-%COMP%]{left:-4px}.td-value[_ngcontent-%COMP%]{padding-left:5px;font-weight:700}  .toast-container{z-index:1050!important}.badge[_ngcontent-%COMP%]{border-radius:50px;font-size:.8em}.green-badge[_ngcontent-%COMP%]{border:1px solid rgb(93,156,23);color:#5d9c17}.orange-badge[_ngcontent-%COMP%]{border:1px solid #d6b300;color:#d6b300}.grey-badge[_ngcontent-%COMP%]{border:1px solid rgb(111,111,111);color:#6f6f6f}.blue-badge[_ngcontent-%COMP%]{border:1px solid rgb(54,107,171);color:#366bab}.table-space[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 16px}.table-space-line[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 16px}.table-space-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203)}div[_ngcontent-%COMP%]{color:#515151;font-family:Arial,sans-serif;font-size:14px}  .link{cursor:pointer;text-decoration:underline}.calendar-border[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:13px}.tooltip-shadow[_ngcontent-%COMP%]{box-shadow:0 0 16px #6f6f6f}.badge-container[_ngcontent-%COMP%]{margin:12px 16px 12px 0}  .toast-container .ngx-toastr{border-radius:initial!important;box-shadow:none!important}  .toast-container .ngx-toastr:hover{cursor:default!important}  .toast-container.toast-top-full-width .ngx-toastr{width:100%!important}  acerta-notification-toast .row{margin-left:0!important}']}),t})()}}]);